{"version":3,"sources":["webpack:///src/assets/js/googlepoly-load-component-master/googlepoly-load-component.js"],"names":[],"mappings":"AAAA;AACA;AACA,aAAa,yBAAyB;AACtC,cAAc;AACd,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,SAAS;AACT;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,OAAO;AACP,qBAAqB,YAAY;AACjC;AACA,CAAC,E","file":"scripts.js","sourcesContent":["AFRAME.registerComponent('gpoly', {\n  schema: {\n    polyid: { default: '5vbJ5vildOq' },\n    API_KEY: { default: '' }\n  },\n  init: function () {\n    var id = this.data.polyid;\n    var polyid = AFRAME.utils.getUrlParameter('polyid');\n    if (polyid.length > 0) id = polyid;\n\n    let API_KEY = this.data.API_KEY;\n    let url = \"https://poly.googleapis.com/v1/assets/\" + id + \"/?key=\" + API_KEY;\n    let el = this.el;\n\n    if (!API_KEY) {\n      console.log('Please fill in your API KEY, cf https://developers.google.com/poly/develop/web ')\n      return;\n    }\n\n    fetch(url)\n      .then(res => res.json())\n      .then((data) => {\n        const gltf2Format = data.formats.find((f) => f.formatType === \"GLTF2\")\n        if (gltf2Format) { // Use <a-gltf-model> if GLTF2 model is available\n          el.setAttribute(\"gltf-model\", gltf2Format.root.url);\n        } else {\n          const objFormat = data.formats.find((f) => f.formatType === \"OBJ\")\n          if (objFormat) { // Use <a-obj-model> if OBJ model is available\n            el.setAttribute(\"obj-model\", \"obj\", objFormat.root.url);\n            el.setAttribute(\"obj-model\", \"mtl\", objFormat.resources[0].url);\n          }\n        }\n      })\n      .catch(err => { throw err });\n  }\n});"],"sourceRoot":""}