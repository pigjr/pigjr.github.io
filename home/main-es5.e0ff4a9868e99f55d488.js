function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _construct(t,e,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"9HG0":function(t,e,n){var i;!function(r,a,o,s){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=a.createElement("div"),h=Math.round,d=Math.abs,f=Date.now;function p(t,e,n){return setTimeout(x(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function g(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=r.console&&(r.console.warn||r.console.log);return a&&a.call(r.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=g((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),_=g((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&l(i,n)}function x(t,e){return function(){return t.apply(e,arguments)}}function w(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function C(t,e){return void 0===t?e:t}function k(t,e,n){v(M(e),(function(e){t.addEventListener(e,n,!1)}))}function S(t,e,n){v(M(e),(function(e){t.removeEventListener(e,n,!1)}))}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function M(t){return t.trim().split(/\s+/g)}function A(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function R(t){return Array.prototype.slice.call(t,0)}function P(t,e,n){for(var i=[],r=[],a=0;a<t.length;){var o=e?t[a][e]:t[a];A(r,o)<0&&i.push(t[a]),r[a]=o,a++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function O(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),a=0;a<c.length;){if((i=(n=c[a])?n+r:e)in t)return i;a++}}var L=1;function I(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var D="ontouchstart"in r,N=void 0!==O(r,"PointerEvent"),F=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z=["x","y"],V=["clientX","clientY"];function B(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){w(t.options.enable,[t])&&n.handler(e)},this.init()}function j(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,a=1&e&&i-r==0,o=12&e&&i-r==0;n.isFirst=!!a,n.isFinal=!!o,a&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=U(e)),r>1&&!n.firstMultiple?n.firstMultiple=U(e):1===r&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,s=o?o.center:a.center,l=e.center=H(i);e.timeStamp=f(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=Y(s,l),e.distance=q(s,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},a=t.prevInput||{};1!==e.eventType&&4!==a.eventType||(r=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=W(e.deltaX,e.deltaY);var c,u,h=G(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=d(h.x)>d(h.y)?h.x:h.y,e.scale=o?(c=o.pointers,q((u=i)[0],u[1],V)/q(c[0],c[1],V)):1,e.rotation=o?function(t,e){return Y(e[1],e[0],V)+Y(t[1],t[0],V)}(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,a,o=t.lastInterval||e,s=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(s>25||void 0===o.velocity)){var l=e.deltaX-o.deltaX,c=e.deltaY-o.deltaY,u=G(s,l,c);i=u.x,r=u.y,n=d(u.x)>d(u.y)?u.x:u.y,a=W(l,c),t.lastInterval=e}else n=o.velocity,i=o.velocityX,r=o.velocityY,a=o.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=a}(n,e);var p=t.element;E(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function U(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:h(n/e),y:h(i/e)}}function G(t,e,n){return{x:e/t||0,y:n/t||0}}function W(t,e){return t===e?1:d(t)>=d(e)?t<0?2:4:e<0?8:16}function q(t,e,n){n||(n=z);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function Y(t,e,n){return n||(n=z),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(I(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function Z(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}b(Z,B,{handler:function(t){var e=X[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Q={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},K="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=K,this.evWin=$,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(K="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,B,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Q[i],a=J[t.pointerType]||t.pointerType,o="touch"==a,s=A(e,t.pointerId,"pointerId");1&r&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):12&r&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function it(t,e){var n=R(t.touches),i=R(t.changedTouches);return 12&e&&(n=P(n.concat(i),"identifier",!0)),[n,i]}b(nt,B,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function at(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function ot(t,e){var n=R(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,a,o=R(t.changedTouches),s=[],l=this.target;if(a=n.filter((function(t){return E(t.target,l)})),1===e)for(r=0;r<a.length;)i[a[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&s.push(o[r]),12&e&&delete i[o[r].identifier],r++;return s.length?[P(a.concat(s),"identifier",!0),s]:void 0}function st(){B.apply(this,arguments);var t=x(this.handler,this);this.touch=new at(this.manager,t),this.mouse=new Z(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function lt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function ut(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],a=Math.abs(e-r.x),o=Math.abs(n-r.y);if(a<=25&&o<=25)return!0}return!1}b(at,B,{handler:function(t){var e=rt[t.type],n=ot.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),b(st,B,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)lt.call(this,e,n);else if(i&&ut.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=O(u.style,"touchAction"),dt=void 0!==ht,ft=function(){if(!dt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}function mt(t){this.options=l({},this.defaults,t||{}),this.id=L++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function vt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function gt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function _t(){mt.apply(this,arguments)}function bt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function xt(){_t.apply(this,arguments)}function wt(){mt.apply(this,arguments),this._timer=null,this._input=null}function Ct(){_t.apply(this,arguments)}function kt(){_t.apply(this,arguments)}function St(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Et(t,e){return(e=e||{}).recognizers=C(e.recognizers,Et.defaults.preset),new Tt(t,e)}function Tt(t,e){var n;this.options=l({},Et.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(N?tt:F?at:D?st:Z))(n,j),this.touchAction=new pt(this,this.options.touchAction),Mt(this,!0),v(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Mt(t,e){var n,i=t.element;i.style&&(v(t.options.cssProps,(function(r,a){n=O(i.style,a),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),dt&&this.manager.element.style&&ft[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){w(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(T(t,"none"))return"none";var e=T(t,"pan-x"),n=T(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":T(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=T(i,"none")&&!ft.none,a=T(i,"pan-y")&&!ft["pan-y"],o=T(i,"pan-x")&&!ft["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!o||!a)return r||a&&6&n||o&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},mt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=yt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===A(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=A(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+vt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+vt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(_t,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32}}),b(bt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,a=t.deltaX,o=t.deltaY;return r&e.direction||(6&e.direction?(r=0===a?1:a<0?2:4,n=a!=this.pX,i=Math.abs(t.deltaX)):(r=0===o?1:o<0?8:16,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=gt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(xt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),b(wt,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(Ct,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(kt,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=gt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(St,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||q(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&a?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Et.VERSION="2.0.7",Et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ct,{enable:!1}],[xt,{enable:!1},["rotate"]],[kt,{direction:6}],[bt,{direction:6},["swipe"]],[St],[St,{event:"doubletap",taps:2},["tap"]],[wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Tt.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var a=0;a<i.length;)n=i[a],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),a++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=A(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return v(M(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return v(M(t),(function(t){e?n[t]&&n[t].splice(A(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Mt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Et,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Tt,Input:B,TouchAction:pt,TouchInput:at,MouseInput:Z,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:mt,AttrRecognizer:_t,Tap:St,Pan:bt,Swipe:kt,Pinch:xt,Rotate:Ct,Press:wt,on:k,off:S,each:v,merge:_,extend:y,assign:l,inherit:b,bindFn:x,prefixed:O}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Et,void 0===(i=(function(){return Et}).call(e,n,e,t))||(t.exports=i)}(window,document)},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);var r=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout((function(){throw t}),0)}var s={closed:!0,next:function(t){},error:function(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete:function(){}},l=Array.isArray||function(t){return t&&"number"==typeof t.length};function c(t){return null!==t&&"object"==typeof t}var u,h=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),d=((u=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(i(r))try{r.call(this)}catch(p){e=p instanceof h?f(p.errors):[p]}if(l(a))for(var s=-1,u=a.length;++s<u;){var d=a[s];if(c(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof h?e=e.concat(f(p.errors)):e.push(p)}}if(e)throw new h(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new u),u);function f(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(t){function e(t,n,i){var r;switch(_classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=s;break;case 1:if(!t){r.destination=s;break}if("object"==typeof t){t instanceof e?(r.syncErrorThrowable=t.syncErrorThrowable,r.destination=t,t.add(_assertThisInitialized(r))):(r.syncErrorThrowable=!0,r.destination=new v(_assertThisInitialized(r),t));break}default:r.syncErrorThrowable=!0,r.destination=new v(_assertThisInitialized(r),t,n,i)}return r}return _inherits(e,t),_createClass(e,[{key:p,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(e.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r}}]),e}(d),v=function(t){function e(t,n,r,a){var o,l;_classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parentSubscriber=t;var c=_assertThisInitialized(o);return i(n)?l=n:n&&(l=n.next,r=n.error,a=n.complete,n!==s&&(i((c=Object.create(n)).unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(_assertThisInitialized(o)))),o._context=c,o._next=l,o._error=r,o._complete=a,o}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),e}(m),g="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function _(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b(e)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:y}var x,w=((x=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,r=function(t,e,n){if(t){if(t instanceof m)return t;if(t[p])return t[p]()}return t||e||n?new m(t,e,n):new m(s)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||a.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),a.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof m?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=C(e))((function(e,i){var r;r=n.subscribe((function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}}),i,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:g,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:b(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=C(t))((function(t,n){var i;e.subscribe((function(t){return i=t}),(function(t){return n(t)}),(function(){return t(i)}))}))}}]),t}()).create=function(t){return new x(t)},x);function C(t){if(t||(t=a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var k,S=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),E=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).subject=t,i.subscriber=n,i.closed=!1,i}return _inherits(e,t),_createClass(e,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),e}(d),T=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).destination=t,n}return _inherits(e,t),e}(m),M=((k=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _inherits(e,t),_createClass(e,[{key:p,value:function(){return new T(this)}},{key:"lift",value:function(t){var e=new A(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new S;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new S;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new S;return _get(_getPrototypeOf(e.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new E(this,t))}},{key:"asObservable",value:function(){var t=new w;return t.source=this,t}}]),e}(w)).create=function(t,e){return new A(t,e)},k),A=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).destination=t,i.source=n,i}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):d.EMPTY}}]),e}(M);function R(t){return t&&"function"==typeof t.schedule}var P=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).parent=t,r.outerValue=n,r.outerIndex=i,r.index=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),e}(m),O=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}};var L="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",I=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var N=function(t){if(t&&"function"==typeof t[g])return i=t,function(t){var e=i[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(I(t))return O(t);if(D(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,o),t};if(t&&"function"==typeof t[L])return e=t,function(t){for(var n=e[L]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,i,r=c(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(r," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function F(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new P(t,n,i);if(!r.closed)return e instanceof w?e.subscribe(r):N(e)(r)}var z=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),e}(m);function V(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(t,e))}}var B=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new j(t,this.project,this.thisArg))}}]),t}(),j=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,r.count=0,r.thisArg=i||_assertThisInitialized(r),r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(m);function U(t,e){return new w((function(n){var i=new d,r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}function H(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new w((function(n){var i=new d;return i.add(e.schedule((function(){var r=t[g]();i.add(r.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}))}(t,e);if(D(t))return function(t,e){return new w((function(n){var i=new d;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){n.next(t),i.add(e.schedule((function(){return n.complete()})))})))}),(function(t){i.add(e.schedule((function(){return n.error(t)})))}))}))),i}))}(t,e);if(I(t))return U(t,e);if(function(t){return t&&"function"==typeof t[L]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w((function(n){var i,r=new d;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(e.schedule((function(){i=t[L](),r.add(e.schedule((function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(a){return void n.error(a)}e?n.complete():(n.next(t),this.schedule())}})))}))),r}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(N(t))}function G(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(i){return i.pipe(G((function(n,i){return H(t(n,i)).pipe(V((function(t,r){return e(n,t,i,r)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new W(t,n))})}var W=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new q(t,this.project,this.concurrent))}}]),t}(),q=function(t){function e(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new P(this,e,n),r=this.destination;r.add(i);var a=F(this,t,void 0,void 0,i);a!==i&&r.add(a)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),e}(z);function Y(t){return t}function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return G(Y,t)}function Z(t,e){return e?U(t,e):new w(O(t))}function Q(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,a=e[e.length-1];return R(a)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(i=e.pop())):"number"==typeof a&&(i=e.pop()),null===r&&1===e.length&&e[0]instanceof w?e[0]:X(i)(Z(e,r))}function J(){return function(t){return t.lift(new $(t))}}var K,$=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new tt(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),tt=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=n,i}return _inherits(e,t),_createClass(e,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),e}(m),et={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(K=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new nt(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t}},{key:"refCount",value:function(){return J()(this)}}]),e}(w).prototype)._subscribe},_isComplete:{value:K._isComplete,writable:!0},getSubject:{value:K.getSubject},connect:{value:K.connect},refCount:{value:K.refCount}},nt=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=n,i}return _inherits(e,t),_createClass(e,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),e}(T);function it(t,e){return function(n){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new rt(i,e));var r=Object.create(n,et);return r.source=n,r.subjectFactory=i,r}}var rt=function(){function t(e,n){_classCallCheck(this,t),this.subjectFactory=e,this.selector=n}return _createClass(t,[{key:"call",value:function(t,e){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}]),t}();function at(){return new M}function ot(){return function(t){return J()(it(at)(t))}}function st(t,e,n){var i=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var a=_construct(r,e);return o.annotation=a,o;function o(t,e,n){for(var i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(a),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}var lt=st("Inject",(function(t){return{token:t}})),ct=st("Optional"),ut=st("Self"),ht=st("SkipSelf"),dt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ft(t){for(var e in t)if(t[e]===ft)return e;throw Error("Could not find renamed property on target object.")}function pt(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function gt(t){return yt(t,t[bt])||yt(t,t[Ct])}function yt(t,e){return e&&e.token===t?e:null}function _t(t){return t&&(t.hasOwnProperty(xt)||t.hasOwnProperty(kt))?t[xt]:null}var bt=ft({"\u0275prov":ft}),xt=ft({"\u0275inj":ft}),wt=ft({"\u0275provFallback":ft}),Ct=ft({ngInjectableDef:ft}),kt=ft({ngInjectorDef:ft});function St(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(St).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var Tt=ft({__forward_ref__:ft});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return St(this())},t}function At(t){return Rt(t)?t():t}function Rt(t){return"function"==typeof t&&t.hasOwnProperty(Tt)&&t.__forward_ref__===Mt}var Pt,Ot="undefined"!=typeof globalThis&&globalThis,Lt="undefined"!=typeof window&&window,It="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Dt="undefined"!=typeof global&&global,Nt=Ot||Dt||Lt||It,Ft=ft({"\u0275cmp":ft}),zt=ft({"\u0275dir":ft}),Vt=ft({"\u0275pipe":ft}),Bt=ft({"\u0275mod":ft}),jt=ft({"\u0275loc":ft}),Ut=ft({"\u0275fac":ft}),Ht=ft({__NG_ELEMENT_ID__:ft}),Gt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=mt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),Wt=new Gt("INJECTOR",-1),qt={},Yt=/\n/gm,Xt=ft({provide:String,useValue:ft}),Zt=void 0;function Qt(t){var e=Zt;return Zt=t,e}function Jt(t){var e=Pt;return Pt=t,e}function Kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt.Default;if(void 0===Zt)throw new Error("inject() must be called from an injection context");return null===Zt?ee(t,void 0,e):Zt.get(t,e&dt.Optional?null:void 0,e)}function $t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt.Default;return(Pt||Kt)(At(t),e)}var te=$t;function ee(t,e,n){var i=gt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&dt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(St(t),"]"))}function ne(t){for(var e=[],n=0;n<t.length;n++){var i=At(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,a=dt.Default,o=0;o<i.length;o++){var s=i[o];s instanceof ct||"Optional"===s.ngMetadataName||s===ct?a|=dt.Optional:s instanceof ht||"SkipSelf"===s.ngMetadataName||s===ht?a|=dt.SkipSelf:s instanceof ut||"Self"===s.ngMetadataName||s===ut?a|=dt.Self:r=s instanceof lt||s===lt?s.token:s}e.push($t(r,a))}else e.push($t(i))}return e}var ie=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qt;if(e===qt){var n=new Error("NullInjectorError: No provider for ".concat(St(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),re=function t(){_classCallCheck(this,t)},ae=function t(){_classCallCheck(this,t)};function oe(t,e){t.forEach((function(t){return Array.isArray(t)?oe(t,e):e(t)}))}function se(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function le(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ce(t,e){for(var n=[],i=0;i<t;i++)n.push(e);return n}function ue(t,e){var n=he(t,e);if(n>=0)return t[1|n]}function he(t,e){return function(t,e,n){for(var i=0,r=t.length>>1;r!==i;){var a=i+(r-i>>1),o=t[a<<1];if(e===o)return a<<1;o>e?r=a:i=a+1}return~(r<<1)}(t,e)}var de=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),fe=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();function pe(t){return""+{toString:t}}var me={},ve=[],ge=0;function ye(t){var e=t.type,n=e.prototype,i={},r={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||fe.Emulated,id:"c",styles:t.styles||ve,_:null,setInput:null,schemas:t.schemas||null,tView:null};return r._=pe((function(){var e=t.directives,n=t.features,a=t.pipes;r.id+=ge++,r.inputs=Ce(t.inputs,i),r.outputs=Ce(t.outputs),n&&n.forEach((function(t){return t(r)})),r.directiveDefs=e?function(){return("function"==typeof e?e():e).map(_e)}:null,r.pipeDefs=a?function(){return("function"==typeof a?a():a).map(be)}:null})),r}function _e(t){return Se(t)||function(t){return t[zt]||null}(t)}function be(t){return function(t){return t[Vt]||null}(t)}var xe={};function we(t){var e={type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&pe((function(){xe[t.id]=t.type})),e}function Ce(t,e){if(null==t)return me;var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],a=r;Array.isArray(r)&&(a=r[1],r=r[0]),n[r]=i,e&&(e[r]=a)}return n}var ke=ye;function Se(t){return t[Ft]||null}function Ee(t,e){return t.hasOwnProperty(Ut)?t[Ut]:null}function Te(t,e){var n=t[Bt]||null;if(!n&&!0===e)throw new Error("Type ".concat(St(t)," does not have '\u0275mod' property."));return n}function Me(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ae(t){return Array.isArray(t)&&!0===t[1]}function Re(t){return 0!=(8&t.flags)}function Pe(t){return 2==(2&t.flags)}function Oe(t){return 1==(1&t.flags)}function Le(t){return null!==t.template}function Ie(t){return 0!=(512&t[2])}var De={lFrame:tn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ne(){return De.bindingsEnabled}function Fe(){return De.lFrame.lView}function ze(){return De.lFrame.tView}function Ve(t){De.lFrame.contextLView=t}function Be(){return De.lFrame.previousOrParentTNode}function je(t,e){De.lFrame.previousOrParentTNode=t,De.lFrame.isParent=e}function Ue(){return De.lFrame.isParent}function He(){De.lFrame.isParent=!1}function Ge(){return De.checkNoChangesMode}function We(t){De.checkNoChangesMode=t}function qe(){var t=De.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ye(){return De.lFrame.bindingIndex++}function Xe(t,e){var n=De.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function Ze(){return De.lFrame.currentQueryIndex}function Qe(t){De.lFrame.currentQueryIndex=t}function Je(t,e){var n=$e();De.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ke(t,e){var n=$e(),i=t[1];De.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex}function $e(){var t=De.lFrame,e=null===t?null:t.child;return null===e?tn(t):e}function tn(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function en(){var t=De.lFrame;return De.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var nn=en;function rn(){var t=en();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function an(){return De.lFrame.selectedIndex}function on(t){De.lFrame.selectedIndex=t}function sn(){De.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function ln(t,e){for(var n=e.directiveStart,i=e.directiveEnd;n<i;n++){var r=t.data[n];r.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,r.afterContentInit),r.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,r.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r.afterContentChecked)),r.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,r.afterViewInit),r.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,r.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,r.afterViewChecked)),null!=r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r.onDestroy)}}function cn(t,e,n){dn(t,e,3,n)}function un(t,e,n,i){(3&t[2])===n&&dn(t,e,n,i)}function hn(t,e){var n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function dn(t,e,n,i){for(var r=null!=i?i:-1,a=0,o=void 0!==i?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(a=e[o],null!=i&&a>=i)break}else e[o]<0&&(t[18]+=65536),(a<r||-1==r)&&(fn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function fn(t,e,n,i){var r=n[i]<0,a=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,a.call(o)):a.call(o)}var pn=function t(e,n,i){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i},mn=void 0;function vn(t){return!!t.listen}var gn={createRenderer:function(t,e){return void 0!==mn?mn:"undefined"!=typeof document?document:void 0}};function yn(t,e,n){for(var i=vn(t),r=0;r<n.length;){var a=n[r];if("number"==typeof a){if(0!==a)break;r++;var o=n[r++],s=n[r++],l=n[r++];i?t.setAttribute(e,s,l,o):e.setAttributeNS(o,s,l)}else{var c=a,u=n[++r];bn(c)?i&&t.setProperty(e,c,u):i?t.setAttribute(e,c,u):e.setAttribute(c,u),r++}}return r}function _n(t){return 3===t||4===t||6===t}function bn(t){return 64===t.charCodeAt(0)}function xn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,i=0;i<e.length;i++){var r=e[i];"number"==typeof r?n=r:0===n||wn(t,n,r,null,-1===n||2===n?e[++i]:null)}return t}function wn(t,e,n,i,r){var a=0,o=t.length;if(-1===e)o=-1;else for(;a<t.length;){var s=t[a++];if("number"==typeof s){if(s===e){o=-1;break}if(s>e){o=a-1;break}}}for(;a<t.length;){var l=t[a];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(t[a+1]=r));if(i===t[a+1])return void(t[a+2]=r)}a++,null!==i&&a++,null!==r&&a++}-1!==o&&(t.splice(o,0,e),a=o+1),t.splice(a++,0,n),null!==i&&t.splice(a++,0,i),null!==r&&t.splice(a++,0,r)}function Cn(t){return-1!==t}function kn(t){return 32767&t}function Sn(t){return t>>16}function En(t,e){for(var n=Sn(t),i=e;n>0;)i=i[15],n--;return i}function Tn(t){return"string"==typeof t?t:null==t?"":""+t}function Mn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Tn(t)}var An=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt);function Rn(t){return t instanceof Function?t():t}var Pn=!0;function On(t){var e=Pn;return Pn=t,e}var Ln=0;function In(t,e){var n=Nn(t,e);if(-1!==n)return n;var i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Dn(i.data,t),Dn(e,null),Dn(i.blueprint,null));var r=Fn(t,e),a=t.injectorIndex;if(Cn(r))for(var o=kn(r),s=En(r,e),l=s[1].data,c=0;c<8;c++)e[a+c]=s[o+c]|l[o+c];return e[a+8]=r,a}function Dn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Nn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Fn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],i=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function zn(t,e,n){!function(t,e,n){var i="string"!=typeof n?n[Ht]:n.charCodeAt(0)||0;null==i&&(i=n[Ht]=Ln++);var r=255&i,a=1<<r,o=64&r,s=32&r,l=e.data;128&r?o?s?l[t+7]|=a:l[t+6]|=a:s?l[t+5]|=a:l[t+4]|=a:o?s?l[t+3]|=a:l[t+2]|=a:s?l[t+1]|=a:l[t]|=a}(t,e,n)}function Vn(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dt.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==t){var a=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[Ht];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof a){Je(e,t);try{var o=a();if(null!=o||i&dt.Optional)return o;throw new Error("No provider for ".concat(Mn(n),"!"))}finally{nn()}}else if("number"==typeof a){if(-1===a)return new qn(t,e);var s=null,l=Nn(t,e),c=-1,u=i&dt.Host?e[16][6]:null;for((-1===l||i&dt.SkipSelf)&&(c=-1===l?Fn(t,e):e[l+8],Wn(i,!1)?(s=e[1],l=kn(c),e=En(c,e)):l=-1);-1!==l;){c=e[l+8];var h=e[1];if(Gn(a,l,h.data)){var d=jn(l,e,n,s,i,u);if(d!==Bn)return d}Wn(i,e[1].data[l+8]===u)&&Gn(a,l,e)?(s=h,l=kn(c),e=En(c,e)):l=-1}}}if(i&dt.Optional&&void 0===r&&(r=null),0==(i&(dt.Self|dt.Host))){var f=e[9],p=Jt(void 0);try{return f?f.get(n,r,i&dt.Optional):ee(n,r,i&dt.Optional)}finally{Jt(p)}}if(i&dt.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(Mn(n),"]"))}var Bn={};function jn(t,e,n,i,r,a){var o=e[1],s=o.data[t+8],l=Un(s,o,n,null==i?Pe(s)&&Pn:i!=o&&3===s.type,r&dt.Host&&a===s);return null!==l?Hn(e,o,l,s):Bn}function Un(t,e,n,i,r){for(var a=t.providerIndexes,o=e.data,s=65535&a,l=t.directiveStart,c=a>>16,u=r?s+c:t.directiveEnd,h=i?s:s+c;h<u;h++){var d=o[h];if(h<l&&n===d||h>=l&&d.type===n)return h}if(r){var f=o[l];if(f&&Le(f)&&f.type===n)return l}return null}function Hn(t,e,n,i){var r=t[n],a=e.data;if(r instanceof pn){var o=r;if(o.resolving)throw new Error("Circular dep for ".concat(Mn(a[n])));var s,l=On(o.canSeeViewProviders);o.resolving=!0,o.injectImpl&&(s=Jt(o.injectImpl)),Je(t,i);try{r=t[n]=o.factory(void 0,a,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){var i=e.onChanges,r=e.onInit,a=e.doCheck;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,r),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,a[n],e)}finally{o.injectImpl&&Jt(s),On(l),o.resolving=!1,nn()}}return r}function Gn(t,e,n){var i=64&t,r=32&t;return!!((128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e])&1<<t)}function Wn(t,e){return!(t&dt.Self||t&dt.Host&&e)}var qn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return Vn(this._tNode,this._lView,t,void 0,e)}}]),t}();function Yn(t){var e=Object.getPrototypeOf(t.prototype).constructor,n=e[Ut]||function t(e){var n=e;if(Rt(e))return function(){var e=t(At(n));return e?e():null};var i=Ee(n);if(null===i){var r=_t(n);i=r&&r.factory}return i||null}(e);return null!==n?n:function(t){return new t}}function Xn(t){return t.ngDebugContext}function Zn(t){return t.ngOriginalError}function Qn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var Jn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Qn}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Xn(t)?Xn(t):this._findContext(Zn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Zn(t);e&&Zn(e);)e=Zn(e);return e}}]),t}(),Kn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}(),$n=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"HTML"}}]),e}(Kn),ti=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Style"}}]),e}(Kn),ei=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Script"}}]),e}(Kn),ni=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"URL"}}]),e}(Kn),ii=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),e}(Kn);function ri(t){return t instanceof Kn?t.changingThisBreaksApplicationSecurity:t}function ai(t,e){var n=oi(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function oi(t){return t instanceof Kn&&t.getTypeName()||null}var si=!0,li=!1;function ci(){return li=!0,si}var ui=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i),n=this.inertDocument.createElement("body"),i.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}(),hi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,di=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fi(t){return(t=String(t)).match(hi)||t.match(di)?t:(ci()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function pi(t){var e={},n=!0,i=!1,r=void 0;try{for(var a,o=t.split(",")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){e[a.value]=!0}}catch(s){i=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return e}function mi(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];for(var s in o)o.hasOwnProperty(s)&&(t[s]=!0)}return t}var vi,gi=pi("area,br,col,hr,img,wbr"),yi=pi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_i=pi("rp,rt"),bi=mi(_i,yi),xi=mi(gi,mi(yi,pi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mi(_i,pi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bi),wi=pi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ci=pi("srcset"),ki=mi(wi,Ci,pi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Si=pi("script,style,template"),Ei=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!xi.hasOwnProperty(e))return this.sanitizedSomething=!0,!Si.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,i=t.attributes,r=0;r<i.length;r++){var a=i.item(r),o=a.name,s=o.toLowerCase();if(ki.hasOwnProperty(s)){var l=a.value;wi[s]&&(l=fi(l)),Ci[s]&&(n=l,l=(n=String(n)).split(",").map((function(t){return fi(t.trim())})).join(", ")),this.buf.push(" ",o,'="',Ai(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();xi.hasOwnProperty(e)&&!gi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Ai(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),Ti=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mi=/([^\#-~ |!])/g;function Ai(t){return t.replace(/&/g,"&amp;").replace(Ti,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Mi,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ri(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Pi=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Oi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Li=/^url\(([^)]+)\)$/;function Ii(t){var e,n=(e=Fe())&&e[12];return n?n.sanitize(Pi.URL,t)||"":ai(t,"URL")?ri(t):fi(Tn(t))}function Di(t){for(;Array.isArray(t);)t=t[0];return t}function Ni(t,e){return Di(e[t+19])}function Fi(t,e){return Di(e[t.index])}function zi(t,e){return t.data[e+19]}function Vi(t,e){var n=e[t];return Me(n)?n:n[0]}function Bi(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ji(t){return 4==(4&t[2])}function Ui(t){return 128==(128&t[2])}function Hi(t,e){return null===t||null==e?null:t[e]}function Gi(t){t[18]=0}function Wi(t,e){t.__ngContext__=e}function qi(t){throw new Error("Multiple components match node with tagname ".concat(t.tagName))}function Yi(){throw new Error("Cannot mix multi providers and regular providers")}function Xi(t,e,n){for(var i=t.length;;){var r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){var a=e.length;if(r+a===i||t.charCodeAt(r+a)<=32)return r}n=r+1}}function Zi(t,e,n){for(var i=0;i<t.length;){var r=t[i++];if(n&&"class"===r){if(-1!==Xi((r=t[i]).toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Qi(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Ji(t,e,n){for(var i=4,r=t.attrs||[],a=function(t){for(var e=0;e<t.length;e++)if(_n(t[e]))return e;return t.length}(r),o=!1,s=0;s<e.length;s++){var l=e[s];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Qi(t,l,n)||""===l&&1===e.length){if(Ki(i))return!1;o=!0}}else{var c=8&i?l:e[++s];if(8&i&&null!==t.attrs){if(!Zi(t.attrs,c,n)){if(Ki(i))return!1;o=!0}continue}var u=$i(8&i?"class":l,r,0==t.type&&"ng-template"!==t.tagName,n);if(-1===u){if(Ki(i))return!1;o=!0;continue}if(""!==c){var h;h=u>a?"":r[u+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==Xi(d,c,0)||2&i&&c!==h){if(Ki(i))return!1;o=!0}}}}else{if(!o&&!Ki(i)&&!Ki(l))return!1;if(o&&Ki(l))continue;o=!1,i=l|1&i}}return Ki(i)||o}function Ki(t){return 0==(1&t)}function $i(t,e,n,i){if(null===e)return-1;var r=0;if(i||!n){for(var a=!1;r<e.length;){var o=e[r];if(o===t)return r;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=e[++r];"string"==typeof s;)s=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=a?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function tr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(Ji(t,e[i],n))return!0;return!1}function er(t,e){t:for(var n=0;n<e.length;n++){var i=e[n];if(t.length===i.length){for(var r=0;r<t.length;r++)if(t[r]!==i[r])continue t;return!0}}return!1}function nr(t,e){return t?":not("+e.trim()+")":e}function ir(t){for(var e=t[0],n=1,i=2,r="",a=!1;n<t.length;){var o=t[n];if("string"==typeof o)if(2&i){var s=t[++n];r+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||Ki(o)||(e+=nr(a,r),r=""),i=o,a=a||!Ki(i);n++}return""!==r&&(e+=nr(a,r)),e}var rr={};function ar(t){var e=t[3];return Ae(e)?e[3]:e}function or(t){sr(ze(),Fe(),an()+t,Ge())}function sr(t,e,n,i){if(!i)if(3==(3&e[2])){var r=t.preOrderCheckHooks;null!==r&&cn(e,r,n)}else{var a=t.preOrderHooks;null!==a&&un(e,a,0,n)}on(n)}function lr(t,e){return t<<17|e<<2}function cr(t){return t>>17&32767}function ur(t){return 2|t}function hr(t){return(131068&t)>>2}function dr(t,e){return-131069&t|e<<2}function fr(t){return 1|t}function pr(t,e){var n=t.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],a=n[i+1];if(-1!==a){var o=t.data[a];Qe(r),o.contentQueries(2,e[a],a)}}}function mr(t,e,n){return vn(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function vr(t,e,n,i,r,a,o,s,l,c){var u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Gi(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=s||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=a,u[16]=2==e.type?t[16]:u,u}function gr(t,e,n,i,r,a){var o=n+19,s=t.data[o]||function(t,e,n,i,r,a){var o=Be(),s=Ue(),l=s?o:o&&o.parent,c=t.data[n]=Er(0,l&&l!==e?l:null,i,n,r,a);return null===t.firstChild&&(t.firstChild=c),o&&(!s||null!=o.child||null===c.parent&&2!==o.type?s||(o.next=c):o.child=c),c}(t,e,o,i,r,a);return je(s,!0),s}function yr(t,e,n){Ke(e,e[6]);try{var i=t.viewQuery;null!==i&&Zr(1,i,n);var r=t.template;null!==r&&xr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pr(t,e),t.staticViewQueries&&Zr(2,t.viewQuery,n);var a=t.components;null!==a&&function(t,e){for(var n=0;n<e.length;n++)Gr(t,e[n])}(e,a)}finally{e[2]&=-5,rn()}}function _r(t,e,n,i){var r=e[2];if(256!=(256&r)){Ke(e,e[6]);var a=Ge();try{Gi(e),De.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&xr(t,e,n,2,i);var o=3==(3&r);if(!a)if(o){var s=t.preOrderCheckHooks;null!==s&&cn(e,s,null)}else{var l=t.preOrderHooks;null!==l&&un(e,l,0,null),hn(e,0)}if(function(t){for(var e=t[13];null!==e;){var n=void 0;if(Ae(e)&&(n=e[2])>>1==-1){for(var i=9;i<e.length;i++){var r=e[i],a=r[1];Ui(r)&&_r(a,r,a.template,r[8])}0!=(1&n)&&Ur(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&pr(t,e),!a)if(o){var c=t.contentCheckHooks;null!==c&&cn(e,c)}else{var u=t.contentHooks;null!==u&&un(e,u,1),hn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var i=t.expandoStartIndex,r=-1,a=0;a<n.length;a++){var o=n[a];"number"==typeof o?o<=0?(on(0-o),r=i+=9+n[++a]):i+=o:(null!==o&&(Xe(i,r),o(2,e[r])),r++)}}finally{on(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Hr(t,e[n])}(e,h);var d=t.viewQuery;if(null!==d&&Zr(2,d,i),!a)if(o){var f=t.viewCheckHooks;null!==f&&cn(e,f)}else{var p=t.viewHooks;null!==p&&un(e,p,2),hn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),a||(e[2]&=-73)}finally{rn()}}}function br(t,e,n,i){var r=e[10],a=!Ge(),o=ji(e);try{a&&!o&&r.begin&&r.begin(),o&&yr(t,e,i),_r(t,e,n,i)}finally{a&&!o&&r.end&&r.end()}}function xr(t,e,n,i,r){var a=an();try{on(-1),2&i&&e.length>19&&sr(t,e,0,Ge()),n(i,r)}finally{on(a)}}function wr(t,e,n){Ne()&&(function(t,e,n,i){var r=n.directiveStart,a=n.directiveEnd;t.firstCreatePass||In(n,e),Wi(i,e);for(var o=n.initialInputs,s=r;s<a;s++){var l=t.data[s],c=Le(l);c&&zr(e,n,l);var u=Hn(e,t,s,n);Wi(u,e),null!==o&&Vr(0,s-r,u,l,0,o),c&&(Vi(n.index,e)[8]=u)}}(t,e,n,Fi(n,e)),128==(128&n.flags)&&function(t,e,n){var i=n.directiveStart,r=n.directiveEnd,a=t.expandoInstructions,o=t.firstCreatePass,s=n.index-19;try{on(s);for(var l=i;l<r;l++){var c=t.data[l],u=e[l];null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?Or(c,u):o&&a.push(null)}}finally{on(-1)}}(t,e,n))}function Cr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fi,i=e.localNames;if(null!==i)for(var r=e.index+1,a=0;a<i.length;a+=2){var o=i[a+1],s=-1===o?n(e,t):t[o];t[r++]=s}}function kr(t){return t.tView||(t.tView=Sr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Sr(t,e,n,i,r,a,o,s,l,c){var u=19+i,h=u+r,d=function(t,e){for(var n=[],i=0;i<e;i++)n.push(i<t?null:rr);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:s,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c}}function Er(t,e,n,i,r,a){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Tr(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Mr(t,e,n,i,r,a,o,s){var l,c,u=Ni(n,e),h=zi(t,n),d=h.inputs;if(!o&&null!=d&&(l=d[i]))ea(t,e,l,i,r),Pe(h)&&function(t,e){var n=Vi(e,t);16&n[2]||(n[2]|=64)}(e,n+19);else if(3===h.type){i="class"===(c=i)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c;var f=s?s(h,e):e[11];r=null!=a?a(r,h.tagName||"",i):r,vn(f)?f.setProperty(u,i,r):bn(i)||(u.setProperty?u.setProperty(i,r):u[i]=r)}}function Ar(t,e,n,i){var r=!1;if(Ne()){var a=function(t,e,n){var i=t.directiveRegistry,r=null;if(i)for(var a=0;a<i.length;a++){var o=i[a];tr(n,o.selectors,!1)&&(r||(r=[]),zn(In(n,e),t,o.type),Le(o)?(2&n.flags&&qi(n),Ir(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==a){var s=0;r=!0,Nr(n,t.data.length,a.length);for(var l=0;l<a.length;l++){var c=a[l];c.providersResolver&&c.providersResolver(c)}Lr(t,n,a.length);for(var u=!1,h=!1,d=0;d<a.length;d++){var f=a[d];n.mergedAttrs=xn(n.mergedAttrs,f.hostAttrs),Fr(t,e,f),Dr(t.data.length-1,f,o),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128),!u&&(f.onChanges||f.onInit||f.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),u=!0),h||!f.onChanges&&!f.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),h=!0),Rr(t,f),s+=f.hostVars}!function(t,e){for(var n=e.directiveEnd,i=t.data,r=e.attrs,a=[],o=null,s=null,l=e.directiveStart;l<n;l++){var c=i[l],u=c.inputs;a.push(null!==r?Br(u,r):null),o=Tr(u,l,o),s=Tr(c.outputs,l,s)}null!==o&&((o.hasOwnProperty("class")||o.hasOwnProperty("className"))&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=o,e.outputs=s}(t,n),Pr(t,e,s)}o&&function(t,e,n){if(e)for(var i=t.localNames=[],r=0;r<e.length;r+=2){var a=n[e[r+1]];if(null==a)throw new Error("Export of name '".concat(e[r+1],"' not found!"));i.push(e[r],a)}}(n,i,o)}return n.mergedAttrs=xn(n.mergedAttrs,n.attrs),r}function Rr(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Pr(t,e,n){for(var i=0;i<n;i++)e.push(rr),t.blueprint.push(rr),t.data.push(null)}function Or(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Lr(t,e,n){var i=19-e.index,r=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,r,n)}function Ir(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Dr(t,e,n){if(n){if(e.exportAs)for(var i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Le(e)&&(n[""]=t)}}function Nr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fr(t,e,n){t.data.push(n);var i=n.factory||(n.factory=Ee(n.type)),r=new pn(i,Le(n),null);t.blueprint.push(r),e.push(r)}function zr(t,e,n){var i=Fi(e,t),r=kr(n),a=t[10],o=Wr(t,vr(t,r,null,n.onPush?64:16,i,e,a,a.createRenderer(i,n)));t[e.index]=o}function Vr(t,e,n,i,r,a){var o=a[e];if(null!==o)for(var s=i.setInput,l=0;l<o.length;){var c=o[l++],u=o[l++],h=o[l++];null!==s?i.setInput(n,h,c,u):n[u]=h}}function Br(t,e){for(var n=null,i=0;i<e.length;){var r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function jr(t,e,n,i){return new Array(t,!0,-2,e,null,null,i,n,null)}function Ur(t,e){for(var n=t[5],i=0;i<n.length;i++){var r=n[i],a=r[3][3][16];if(a!==e&&0==(16&a[2])){var o=r[1];_r(o,r,o.template,r[8])}}}function Hr(t,e){var n=Vi(e,t);if(Ui(n)&&80&n[2]){var i=n[1];_r(i,n,i.template,n[8])}}function Gr(t,e){var n=Vi(e,t),i=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),yr(i,n,n[8])}function Wr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qr(t){for(;t;){t[2]|=64;var e=ar(t);if(Ie(t)&&!e)return t;t=e}return null}function Yr(t,e,n){var i=e[10];i.begin&&i.begin();try{_r(t,e,t.template,n)}catch(r){throw ta(e,r),r}finally{i.end&&i.end()}}function Xr(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],i=Bi(n),r=i[1];br(r,i,r.template,n)}}(t[8])}function Zr(t,e,n){Qe(0),e(t,n)}var Qr=Promise.resolve(null);function Jr(t){return t[7]||(t[7]=[])}function Kr(t){return t.cleanup||(t.cleanup=[])}function $r(t,e){return function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[t.index])[11]}function ta(t,e){var n=t[9],i=n?n.get(Jn,null):null;i&&i.handleError(e)}function ea(t,e,n,i,r){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,r,i,s):l[s]=r}}function na(t,e){var n=e[3];return-1===t.index?Ae(n)?n:null:n}function ia(t,e){var n=na(t,e);return n?ma(e[11],n[7]):null}function ra(t,e,n,i,r){if(null!=i){var a,o=!1;Ae(i)?a=i:Me(i)&&(o=!0,i=i[0]);var s=Di(i);0===t&&null!==n?null==r?fa(e,n,s):da(e,n,s,r||null):1===t&&null!==n?da(e,n,s,r||null):2===t?function(t,e,n){var i=ma(t,e);i&&function(t,e,n,i){vn(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,s,o):3===t&&e.destroyNode(s),null!=a&&function(t,e,n,i,r){var a=n[7];a!==Di(n)&&ra(e,t,i,a,r);for(var o=9;o<n.length;o++){var s=n[o];ba(s[1],s,t,e,i,a)}}(e,t,a,n,r)}}function aa(t,e,n,i){var r=ia(t.node,e);r&&ba(t,e,e[11],n?1:2,r,i)}function oa(t,e){var n=t[5],i=n.indexOf(e);n.splice(i,1)}function sa(t,e){if(!(t.length<=9)){var n=9+e,i=t[n];if(i){var r=i[17];null!==r&&r!==t&&oa(r,i),e>0&&(t[n-1][4]=i[4]);var a=le(t,9+e);aa(i[1],i,!1,null);var o=a[5];null!==o&&o.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function la(t,e){if(!(256&e[2])){var n=e[11];vn(n)&&n.destroyNode&&ba(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return ua(t[1],t);for(;e;){var n=null;if(Me(e))n=e[13];else{var i=e[9];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)Me(e)&&ua(e[1],e),e=ca(e,t);null===e&&(e=t),Me(e)&&ua(e[1],e),n=e&&e[4]}e=n}}(e)}}function ca(t,e){var n;return Me(t)&&(n=t[6])&&2===n.type?na(n,t):t[3]===e?null:t[3]}function ua(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var i=0;i<n.length;i+=2){var r=e[n[i]];r instanceof pn||n[i+1].call(r)}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var i=e[7],r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){var a=n[r+1],o="function"==typeof a?a(e):Di(e[a]),s=i[n[r+2]],l=n[r+3];"boolean"==typeof l?o.removeEventListener(n[r],s,l):l>=0?i[l]():i[-l].unsubscribe(),r+=2}else n[r].call(i[n[r+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&vn(e[11])&&e[11].destroy();var i=e[17];if(null!==i&&Ae(e[3])){i!==e[3]&&oa(i,e);var r=e[5];null!==r&&r.detachView(t)}}}function ha(t,e,n){for(var i=e.parent;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){var r=n[6];return 2===r.type?ia(r,n):n[0]}if(e&&5===e.type&&4&e.flags)return Fi(e,n).parentNode;if(2&i.flags){var a=t.data,o=a[a[i.index].directiveStart].encapsulation;if(o!==fe.ShadowDom&&o!==fe.Native)return null}return Fi(i,n)}function da(t,e,n,i){vn(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function fa(t,e,n){vn(t)?t.appendChild(e,n):e.appendChild(n)}function pa(t,e,n,i){null!==i?da(t,e,n,i):fa(t,e,n)}function ma(t,e){return vn(t)?t.parentNode(e):e.parentNode}function va(t,e){if(2===t.type){var n=na(t,e);return null===n?null:ya(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Fi(t,e):null}function ga(t,e,n,i){var r=ha(t,i,e);if(null!=r){var a=e[11],o=va(i.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)pa(a,r,n[s],o);else pa(a,r,n,o)}}function ya(t,e){var n=9+t+1;if(n<e.length){var i=e[n],r=i[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){var i=n.type;if(3===i)return Fi(n,e);if(0===i)return ya(-1,e[n.index]);if(4===i||5===i){var r=n.child;if(null!==r)return t(e,r);var a=e[n.index];return Ae(a)?ya(-1,a):Di(a)}var o=e[16],s=o[6],l=ar(o),c=s.projection[n.projection];return null!=c?t(l,c):t(e,n.next)}return null}(i,r)}return e[7]}function _a(t,e,n,i,r,a,o){for(;null!=n;){var s=i[n.index],l=n.type;o&&0===e&&(s&&Wi(Di(s),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(_a(t,e,n.child,i,r,a,!1),ra(e,t,r,s,a)):1===l?xa(t,e,i,n,r,a):ra(e,t,r,s,a)),n=o?n.projectionNext:n.next}}function ba(t,e,n,i,r,a){_a(n,i,t.node.child,e,r,a,!1)}function xa(t,e,n,i,r,a){var o=n[16],s=o[6].projection[i.projection];if(Array.isArray(s))for(var l=0;l<s.length;l++)ra(e,t,r,s[l],a);else _a(t,e,s,o[3],r,a,!0)}function wa(t,e,n){vn(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ca(t,e,n){vn(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var ka,Sa,Ea,Ta=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}la(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,i;e=this._lView[1],i=t,Jr(n=this._lView).push(i),e.firstCreatePass&&Kr(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){qr(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Yr(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){We(!0);try{Yr(t,e,n)}finally{We(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,ba(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,i,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var o=n[i.index];if(null!==o&&r.push(Di(o)),Ae(o))for(var s=9;s<o.length;s++){var l=o[s],c=l[1].firstChild;null!==c&&t(l[1],l,c,r)}var u=i.type;if(4===u||5===u)t(e,n,i.child,r);else if(1===u){var h=n[16],d=h[6],f=ar(h),p=d.projection[i.projection];null!==p&&null!==f&&t(f[1],f,p,r,!0)}i=a?i.projectionNext:i.next}return r}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Ma=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._view=t,n}return _inherits(e,t),_createClass(e,[{key:"detectChanges",value:function(){Xr(this._view)}},{key:"checkNoChanges",value:function(){!function(t){We(!0);try{Xr(t)}finally{We(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),e}(Ta);function Aa(t,e,n){return ka||(ka=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(t)),new ka(Fi(e,n))}function Ra(t,e,n,i){return Sa||(Sa=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._declarationView=t,r._declarationTContainer=n,r.elementRef=i,r}return _inherits(e,t),_createClass(e,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=vr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var i=this._declarationView[5];null!==i&&(n[5]=i.createEmbeddedView(e)),yr(e,n,t);var r=new Ta(n);return r._tViewNode=n[6],r}}]),e}(t)),0===n.type?new Sa(i,n,Aa(e,n,i)):null}function Pa(t,e,n,i){var r;Ea||(Ea=function(t){function n(t,e,i){var r;return _classCallCheck(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this)))._lContainer=t,r._hostTNode=e,r._hostView=i,r}return _inherits(n,t),_createClass(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var a=n||this.parentInjector;if(!r&&null==t.ngModule&&a){var o=a.get(re,null);o&&(r=o)}var s=t.create(a,i,void 0,r);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ae(n[3])){var r=this.indexOf(t);if(-1!==r)this.detach(r);else{var a=n[3],o=new Ea(a,a[6],a[3]);o.detach(o.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,i){var r=9+i,a=n.length;i>0&&(n[r-1][4]=e),i<a-9?(e[4]=n[r],se(n,9+i,e)):(n.push(e),e[4]=null),e[3]=n;var o=e[17];null!==o&&n!==o&&function(t,e){var n=t[5],i=e[3][3][16];16!=(16&i[2])&&e[16]!==i&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(o,e);var s=e[5];null!==s&&s.insertView(t),e[2]|=128}(i,n,this._lContainer,s),aa(i,n,!0,ya(s,this._lContainer)),t.attachToViewContainerRef(this),se(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);(function(t,e){var n=sa(t,e);n&&la(n[1],n)})(this._lContainer,e),le(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=sa(this._lContainer,e);return n&&null!=le(this._lContainer[8],e)?new Ta(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Aa(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new qn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=Fn(this._hostTNode,this._hostView),e=En(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var i=n.parent.injectorIndex,r=n.parent;null!=r.parent&&i==r.parent.injectorIndex;)r=r.parent;return r}for(var a=Sn(t),o=e,s=e[6];a>1;)s=(o=o[15])[6],a--;return s}(t,this._hostView,this._hostTNode);return Cn(t)&&null!=n?new qn(n,e):new qn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-9}}]),n}(t));var a=i[n.index];if(Ae(a))(function(t,e){t[2]=-2})(r=a);else{var o;if(4===n.type)o=Di(a);else if(o=i[11].createComment(""),Ie(i)){var s=i[11],l=Fi(n,i);da(s,ma(s,l),o,function(t,e){return vn(t)?t.nextSibling(e):e.nextSibling}(s,l))}else ga(i[1],i,o,n);i[n.index]=r=jr(a,i,o,n),Wr(i,r)}return new Ea(r,n,i)}var Oa=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return La()},t}(),La=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Pe(t)){var i=Vi(t.index,e);return new Ta(i,i)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ta(e[16],e):null}(Be(),Fe(),t)},Ia=new Gt("Set Injector scope."),Da={},Na={},Fa=[],za=void 0;function Va(){return void 0===za&&(za=new ie),za}function Ba(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return e=e||Va(),new ja(t,n,e,i)}var ja=function(){function t(e,n,i){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&oe(n,(function(t){return r.processProvider(t,e,n)})),oe([e],(function(t){return r.processInjectorType(t,[],o)})),this.records.set(Wt,Ga(void 0,this));var s=this.records.get(Ia);this.scope=null!=s?s.value:null,this.injectorDefTypes.forEach((function(t){return r.get(t)})),this.source=a||("object"==typeof e?null:St(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt.Default;this.assertNotDestroyed();var i,r=Qt(this);try{if(!(n&dt.SkipSelf)){var a=this.records.get(t);if(void 0===a){var o=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Gt)&&gt(t);a=o&&this.injectableDefInScope(o)?Ga(Ua(t),Da):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(n&dt.Self?Va():this.parent).get(t,e=n&dt.Optional&&e===qt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(St(t)),r)throw s;return function(t,e,n,i){var r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=St(e);if(Array.isArray(e))r=e.map(St).join(" -> ");else if("object"==typeof e){var a=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):St(s)))}r="{".concat(a.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(Yt,"\n  "))}("\n"+t.message,r,"R3InjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Qt(r)}}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(St(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var i=this;if(!(t=At(t)))return!1;var r=_t(t),a=null==r&&t.ngModule||void 0,o=void 0===a?t:a,s=-1!==n.indexOf(o);if(void 0!==a&&(r=_t(a)),null==r)return!1;if(null!=r.imports&&!s){var l;n.push(o);try{oe(r.imports,(function(t){i.processInjectorType(t,e,n)&&(void 0===l&&(l=[]),l.push(t))}))}finally{}if(void 0!==l)for(var c=function(t){var e=l[t],n=e.ngModule,r=e.providers;oe(r,(function(t){return i.processProvider(t,n,r||Fa)}))},u=0;u<l.length;u++)c(u)}this.injectorDefTypes.add(o),this.records.set(o,Ga(r.factory,Da));var h=r.providers;if(null!=h&&!s){var d=t;oe(h,(function(t){return i.processProvider(t,d,h)}))}return void 0!==a&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var i=qa(t=At(t))?t:At(t&&t.provide),r=function(t,e,n){return Wa(t)?Ga(void 0,t.useValue):Ga(Ha(t,e,n),Da)}(t,e,n);if(qa(t)||!0!==t.multi){var a=this.records.get(i);a&&void 0!==a.multi&&Yi()}else{var o=this.records.get(i);o?void 0===o.multi&&Yi():((o=Ga(void 0,Da,!0)).factory=function(){return ne(o.multi)},this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,r)}},{key:"hydrate",value:function(t,e){var n;return e.value===Na?function(t){throw new Error("Cannot instantiate cyclic dependency! ".concat(t))}(St(t)):e.value===Da&&(e.value=Na,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Ua(t){var e=gt(t),n=null!==e?e.factory:Ee(t);if(null!==n)return n;var i=_t(t);if(null!==i)return i.factory;if(t instanceof Gt)throw new Error("Token ".concat(St(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=ce(e,"?");throw new Error("Can't resolve all parameters for ".concat(St(t),": (").concat(n.join(", "),")."))}var i=function(t){var e=t&&(t[bt]||t[Ct]||t[wt]&&t[wt]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),e}return null}(t);return null!==i?function(){return i.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Ha(t,e,n){var i,r=void 0;if(qa(t))return Ua(At(t));if(Wa(t))r=function(){return At(t.useValue)};else if((i=t)&&i.useFactory)r=function(){return t.useFactory.apply(t,_toConsumableArray(ne(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return $t(At(t.useExisting))};else{var a=At(t&&(t.useClass||t.provide));if(a||function(t,e,n){var i="";throw t&&e&&(i=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(St(t),"'")+i)}(e,n,t),!function(t){return!!t.deps}(t))return Ua(a);r=function(){return _construct(a,_toConsumableArray(ne(t.deps)))}}return r}function Ga(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Wa(t){return null!==t&&"object"==typeof t&&Xt in t}function qa(t){return"function"==typeof t}var Ya=function(t,e,n){return Ba({name:n},e,t,n)},Xa=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Ya(t,e,""):Ya(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=qt,t.NULL=new ie,t.\u0275prov=mt({token:t,providedIn:"any",factory:function(){return $t(Wt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Za=new Gt("AnalyzeForEntryComponents"),Qa=new Map,Ja=new Set;function Ka(t){return"string"==typeof t?t:t.text()}function $a(t,e){for(var n=t.styles,i=t.classes,r=0,a=0;a<e.length;a++){var o=e[a];"number"==typeof o?r=o:1==r?i=Et(i,o):2==r&&(n=Et(n,o+": "+e[++a]+";"))}null!==n&&(t.styles=n),null!==i&&(t.classes=i)}var to=null;function eo(){if(!to){var t=Nt.Symbol;if(t&&t.iterator)to=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(to=i)}}return to}function no(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function io(t){return!!ro(t)&&(Array.isArray(t)||!(t instanceof Map)&&eo()in t)}function ro(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ao(t,e,n){return t[e]=n}function oo(t,e){return t[e]}function so(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function lo(t,e,n,i){var r=Fe();return so(r,Ye(),e)&&function(t,e,n,i,r,a,o){var s=Ni(t,r),l=r[11];if(null==n)vn(l)?l.removeAttribute(s,e,o):s.removeAttribute(e);else{var c=zi(i,t),u=null==a?Tn(n):a(n,c.tagName||"",e);vn(l)?l.setAttribute(s,e,u,o):o?s.setAttributeNS(o,e,u):s.setAttribute(e,u)}}(an(),t,e,ze(),r,n,i),lo}function co(t,e,n,i,r,a,o,s){var l=Fe(),c=ze(),u=t+19,h=c.firstCreatePass?function(t,e,n,i,r,a,o,s,l){var c=e.consts,u=gr(e,n[6],t,0,o||null,Hi(c,s));Ar(e,n,u,Hi(c,l)),ln(e,u);var h=u.tViews=Sr(2,-1,i,r,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=Er(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,c,l,e,n,i,r,a,o):c.data[u];je(h,!1);var d=l[11].createComment("");ga(c,l,d,h),Wi(d,l),Wr(l,l[u]=jr(d,l,d,h)),Oe(h)&&wr(c,l,h),null!=o&&Cr(l,h,s)}function uo(t){return function(t,e){return t[e+19]}(De.lFrame.contextLView,t)}function ho(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt.Default,n=Fe();return null==n?$t(t,e):Vn(Be(),n,At(t),e)}function fo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var i=n.length,r=0;r<i;){var a=n[r];if(_n(a))break;if(0===a)r+=2;else if("number"==typeof a)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(a===e)return n[r+1];r+=2}}return null}(Be(),t)}function po(){throw new Error("invalid")}function mo(t,e,n){var i=Fe();if(so(i,Ye(),e)){var r=an();Mr(ze(),i,r,t,e,n)}return mo}function vo(t,e,n,i,r){var a=e.inputs,o=r?"class":"style";ea(t,n,a[o]||r&&a.className,o,i)}function go(t,e,n,i){var r=Fe(),a=ze(),o=19+t,s=r[11],l=r[o]=mr(e,s,De.lFrame.currentNamespace),c=a.firstCreatePass?function(t,e,n,i,r,a,o){var s=e.consts,l=Hi(s,a),c=gr(e,n[6],t,3,r,l);return Ar(e,n,c,Hi(s,o)),null!==c.mergedAttrs&&$a(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,a,r,0,e,n,i):a.data[o];je(c,!0);var u=c.mergedAttrs;null!==u&&yn(s,l,u);var h=c.classes;null!==h&&Ca(s,l,h);var d=c.styles;null!==d&&wa(s,l,d),ga(a,r,l,c),0===De.lFrame.elementDepthCount&&Wi(l,r),De.lFrame.elementDepthCount++,Oe(c)&&(wr(a,r,c),function(t,e,n){if(Re(e))for(var i=e.directiveEnd,r=e.directiveStart;r<i;r++){var a=t.data[r];a.contentQueries&&a.contentQueries(1,n[r],r)}}(a,c,r)),null!==i&&Cr(r,c)}function yo(){var t=Be();Ue()?He():je(t=t.parent,!1);var e=t;De.lFrame.elementDepthCount--;var n=ze();n.firstCreatePass&&(ln(n,t),Re(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&vo(n,e,Fe(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&vo(n,e,Fe(),e.styles,!1)}function _o(t,e,n,i){go(t,e,n,i),yo()}function bo(){return Fe()}function xo(t){return!!t&&"function"==typeof t.then}function wo(t){return!!t&&"function"==typeof t.subscribe}function Co(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Fe(),a=ze(),o=Be();return So(a,r,r[11],o,t,e,n,i),Co}function ko(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Be(),a=Fe(),o=$r(r,a);return So(ze(),a,o,r,t,e,n,i),ko}function So(t,e,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,l=Oe(i),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=Jr(e),h=!0;if(3===i.type){var d=Fi(i,e),f=s?s(d):me,p=f.target||d,m=u.length,v=s?function(t){return s(Di(t[i.index])).target}:i.index;if(vn(n)){var g=null;if(!s&&l&&(g=function(t,e,n,i){var r=t.cleanup;if(null!=r)for(var a=0;a<r.length-1;a+=2){var o=r[a];if(o===n&&r[a+1]===i){var s=e[7],l=r[a+2];return s.length>l?s[l]:null}"string"==typeof o&&(a+=2)}return null}(t,e,r,i.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=a,g.__ngLastListenerFn__=a,h=!1;else{a=To(i,e,a,!1);var y=n.listen(f.name||p,r,a);u.push(a,y),c&&c.push(r,v,m,m+1)}}else a=To(i,e,a,!0),p.addEventListener(r,a,o),u.push(a),c&&c.push(r,v,m,o)}var _,b=i.outputs;if(h&&null!==b&&(_=b[r])){var x=_.length;if(x)for(var w=0;w<x;w+=2){var C=e[_[w]][_[w+1]].subscribe(a),k=u.length;u.push(a,C),c&&c.push(r,i.index,k,-(k+1))}}}function Eo(t,e,n){try{return!1!==e(n)}catch(i){return ta(t,i),!1}}function To(t,e,n,i){return function r(a){if(a===Function)return n;var o=2&t.flags?Vi(t.index,e):e;0==(32&e[2])&&qr(o);for(var s=Eo(e,n,a),l=r.__ngNextListenerFn__;l;)s=Eo(e,l,a)&&s,l=l.__ngNextListenerFn__;return i&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function Mo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(De.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,De.lFrame.contextLView))[8]}(t)}function Ao(t,e){for(var n=null,i=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),r=0;r<e.length;r++){var a=e[r];if("*"!==a){if(null===i?tr(t,a,!0):er(i,a))return r}else n=r}return n}function Ro(t){var e=Fe()[16][6];if(!e.projection)for(var n=e.projection=ce(t?t.length:1,null),i=n.slice(),r=e.child;null!==r;){var a=t?Ao(r,t):0;null!==a&&(i[a]?i[a].projectionNext=r:n[a]=r,i[a]=r),r=r.next}}function Po(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=Fe(),r=ze(),a=gr(r,i[6],t,1,null,n||null);null===a.projection&&(a.projection=e),He(),function(t,e,n){xa(e[11],0,e,n,ha(t,n,e),va(n.parent||e[6],e))}(r,i,a)}var Oo=[];function Lo(t,e,n,i,r){for(var a=t[n+1],o=null===e,s=i?cr(a):hr(a),l=!1;0!==s&&(!1===l||o);){var c=t[s+1];Io(t[s],e)&&(l=!0,t[s+1]=i?fr(c):ur(c)),s=i?cr(c):hr(c)}l&&(t[n+1]=i?ur(a):fr(a))}function Io(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&he(t,e)>=0}function Do(t,e,n){return Fo(t,e,n,!1),Do}function No(t,e){return Fo(t,e,null,!0),No}function Fo(t,e,n,i){var r,a,o,s=Fe(),l=ze(),c=(r=De.lFrame,a=r.bindingIndex,r.bindingIndex=r.bindingIndex+2,a);(l.firstUpdatePass&&function(t,e,n,i){var r=t.data;if(null===r[n+1]){var a=r[an()+19],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(a,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){var r=function(t){var e=De.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),a=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Vo(n=zo(null,t,e,n,i),e.attrs,i),a=null);else{var o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=zo(r,t,e,n,i),null===a){var s=function(t,e,n){var i=n?e.classBindings:e.styleBindings;if(0!==hr(i))return t[cr(i)]}(t,e,i);void 0!==s&&Array.isArray(s)&&function(t,e,n,i){t[cr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,s=Vo(s=zo(null,t,e,s[1],i),e.attrs,i))}else a=function(t,e,n){for(var i=void 0,r=e.directiveEnd,a=1+e.directiveStylingLast;a<r;a++)i=Vo(i,t[a].hostAttrs,n);return Vo(i,e.attrs,n)}(t,e,i)}return void 0!==a&&(i?e.residualClasses=a:e.residualStyles=a),n}(r,a,e,i),function(t,e,n,i,r,a){var o=a?e.classBindings:e.styleBindings,s=cr(o),l=hr(o);t[i]=n;var c,u=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||he(h,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){var d=cr(t[s+1]);t[i+1]=lr(d,s),0!==d&&(t[d+1]=dr(t[d+1],i)),t[s+1]=131071&t[s+1]|i<<17}else t[i+1]=lr(s,0),0!==s&&(t[s+1]=dr(t[s+1],i)),s=i;else t[i+1]=lr(l,0),0===s?s=i:t[l+1]=dr(t[l+1],i),l=i;u&&(t[i+1]=ur(t[i+1])),Lo(t,c,i,!0),Lo(t,c,i,!1),function(t,e,n,i,r){var a=r?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof e&&he(a,e)>=0&&(n[i+1]=fr(n[i+1]))}(e,c,t,i,a),o=lr(s,l),a?e.classBindings=o:e.styleBindings=o}(r,a,e,n,o,i)}}(l,t,c,i),e!==rr&&so(s,c,e))&&(null==n&&(o=function(){var t=De.lFrame;return null===t?null:t.currentSanitizer}())&&(n=o),function(t,e,n,i,r,a,o,s){if(3===e.type){var l=t.data,c=l[s+1];jo(1==(1&c)?Bo(l,e,n,r,hr(c),o):void 0)||(jo(a)||2==(2&c)&&(a=Bo(l,null,n,r,s,o)),function(t,e,n,i,r){var a=vn(t);if(e)r?a?t.addClass(n,i):n.classList.add(i):a?t.removeClass(n,i):n.classList.remove(i);else{var o=-1==i.indexOf("-")?void 0:2;null==r?a?t.removeStyle(n,i,o):n.style.removeProperty(i):a?t.setStyle(n,i,r,o):n.style.setProperty(i,r)}}(i,o,Ni(an(),n),r,a))}}(l,l.data[an()+19],s,s[11],t,s[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=St(ri(t)))),t}(e,n),i,c))}function zo(t,e,n,i,r){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(i=Vo(i,(a=e[s]).hostAttrs,r),a!==t);)s++;return null!==t&&(n.directiveStylingLast=s),i}function Vo(t,e,n){var i,r,a,o,s=n?1:2,l=-1;if(null!==e)for(var c=0;c<e.length;c++){var u=e[c];"number"==typeof u?l=u:l===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),i=t,r=u,a=!!n||e[++c],o=void 0,(o=he(i,r))>=0?i[1|o]=a:function(t,e,n,i){var r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(i,o=~o,r,a))}return void 0===t?null:t}function Bo(t,e,n,i,r,a){for(var o=null===e,s=void 0;r>0;){var l=t[r],c=Array.isArray(l),u=c?l[1]:l,h=null===u,d=n[r+1];d===rr&&(d=h?Oo:void 0);var f=h?ue(d,i):u===i?d:void 0;if(c&&!jo(f)&&(f=ue(l,i)),jo(f)&&(s=f,o))return s;var p=t[r+1];r=o?cr(p):hr(p)}if(null!==e){var m=a?e.residualClasses:e.residualStyles;null!=m&&(s=ue(m,i))}return s}function jo(t){return void 0!==t}function Uo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Fe(),i=ze(),r=t+19,a=i.firstCreatePass?gr(i,n[6],t,3,null,null):i.data[r],o=n[r]=function(t,e){return vn(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);ga(i,n,o,a),je(a,!1)}function Ho(t){return Go("",t,""),Ho}function Go(t,e,n){var i=Fe(),r=function(t,e,n,i){return so(t,Ye(),n)?e+Tn(n)+i:rr}(i,t,e,n);return r!==rr&&function(t,e,n){var i=Ni(e,t),r=t[11];vn(r)?r.setValue(i,n):i.textContent=n}(i,an(),r),Go}function Wo(t,e,n){var i=Fe();if(so(i,Ye(),e)){var r=an();Mr(ze(),i,r,t,e,n,!0)}return Wo}function qo(t,e,n){var i=Fe();if(so(i,Ye(),e)){var r=an();Mr(ze(),i,r,t,e,n,!0,$r)}return qo}function Yo(t,e){var n=Bi(t)[1],i=n.data.length-1;ln(n,{directiveStart:i,directiveEnd:i+1})}function Xo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,i=[t];e;){var r=void 0;if(Le(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);var a=t;a.inputs=Zo(t.inputs),a.declaredInputs=Zo(t.declaredInputs),a.outputs=Zo(t.outputs);var o=r.hostBindings;o&&Ko(t,o);var s=r.viewQuery,l=r.contentQueries;s&&Qo(t,s),l&&Jo(t,l),pt(t.inputs,r.inputs),pt(t.declaredInputs,r.declaredInputs),pt(t.outputs,r.outputs),a.afterContentChecked=a.afterContentChecked||r.afterContentChecked,a.afterContentInit=t.afterContentInit||r.afterContentInit,a.afterViewChecked=t.afterViewChecked||r.afterViewChecked,a.afterViewInit=t.afterViewInit||r.afterViewInit,a.doCheck=t.doCheck||r.doCheck,a.onDestroy=t.onDestroy||r.onDestroy,a.onInit=t.onInit||r.onInit}var c=r.features;if(c)for(var u=0;u<c.length;u++){var h=c[u];h&&h.ngInherit&&h(t),h===Xo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,i=t.length-1;i>=0;i--){var r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=xn(r.hostAttrs,n=xn(n,r.hostAttrs))}}(i)}function Zo(t){return t===me?{}:t===ve?[]:t}function Qo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,i){e(t,i),n(t,i)}:e}function Jo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,i,r){e(t,i,r),n(t,i,r)}:e}function Ko(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,i){e(t,i),n(t,i)}:e}var $o=function(){function t(e,n,i){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function ts(){return es.ngInherit=!0,es}function es(t){t.type.prototype.ngOnChanges&&(t.setInput=ns,t.onChanges=function(){var t=is(this),e=t&&t.current;if(e){var n=t.previous;if(n===me)t.previous=e;else for(var i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}})}function ns(t,e,n,i){var r=is(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:me,current:null}),a=r.current||(r.current={}),o=r.previous,s=this.declaredInputs[n],l=o[s];a[s]=new $o(l&&l.currentValue,e,o===me),t[i]=e}function is(t){return t.__ngSimpleChanges__||null}function rs(t,e,n,i,r){if(t=At(t),Array.isArray(t))for(var a=0;a<t.length;a++)rs(t[a],e,n,i,r);else{var o=ze(),s=Fe(),l=qa(t)?t:At(t.provide),c=Ha(t),u=Be(),h=65535&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>16;if(qa(t)||!t.multi){var p=new pn(c,r,ho),m=ss(l,e,r?h:h+f,d);-1===m?(zn(In(u,s),o,l),as(o,t,e.length),e.push(l),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=65536),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{var v=ss(l,e,h+f,d),g=ss(l,e,h,h+f),y=v>=0&&n[v],_=g>=0&&n[g];if(r&&!_||!r&&!y){zn(In(u,s),o,l);var b=function(t,e,n,i,r){var a=new pn(t,n,ho);return a.multi=[],a.index=e,a.componentProviders=0,os(a,r,i&&!n),a}(r?cs:ls,n.length,r,i,c);!r&&_&&(n[g].providerFactory=b),as(o,t,e.length),e.push(l),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=65536),n.push(b),s.push(b)}else as(o,t,v>-1?v:g),os(n[r?g:v],c,!r&&i);!r&&i&&_&&n[g].componentProviders++}}}function as(t,e,n){if(qa(e)||e.useClass){var i=(e.useClass||e).prototype.ngOnDestroy;i&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i)}}function os(t,e,n){t.multi.push(e),n&&t.componentProviders++}function ss(t,e,n,i){for(var r=n;r<i;r++)if(e[r]===t)return r;return-1}function ls(t,e,n,i){return us(this.multi,[])}function cs(t,e,n,i){var r,a=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Hn(n,n[1],this.providerFactory.index,i);us(a,r=s.slice(0,o));for(var l=o;l<s.length;l++)r.push(s[l])}else us(a,r=[]);return r}function us(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function hs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(t,e,n){var i=ze();if(i.firstCreatePass){var r=Le(t);rs(n,i.data,i.blueprint,r,!0),rs(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}}var ds=function t(){_classCallCheck(this,t)},fs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(St(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),ps=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new fs,t}(),ms=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return vs(t)},t}(),vs=function(t){return Aa(t,Be(),Fe())},gs=function t(){_classCallCheck(this,t)},ys=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),_s=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return bs()},t}(),bs=function(){var t=Fe(),e=Vi(Be().index,t);return function(t){var e=t[11];if(vn(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Me(e)?e:t)},xs=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=mt({token:t,providedIn:"root",factory:function(){return null}}),t}(),ws=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Cs=new ws("9.0.2"),ks=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return io(t)}},{key:"create",value:function(t){return new Es(t)}}]),t}(),Ss=function(t,e){return e},Es=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ss}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var a=!n||e&&e.currentIndex<Rs(n,i,r)?e:n,o=Rs(a,i,r),s=a.currentIndex;if(a===n)i--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)i++;else{r||(r=[]);var l=o-i,c=s-i;if(l!=c){for(var u=0;u<l;u++){var h=u<r.length?r[u]:r[u]=0,d=h+u;c<=d&&d<l&&(r[u]=h+1)}r[a.previousIndex]=c-l}}o!==s&&t(a,o,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!io(t))throw new Error("Error trying to diff '".concat(St(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,a=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=t[s],r=this._trackByFn(s,i),null!==a&&no(a.trackById,r)?(o&&(a=this._verifyReinsertion(a,i,r,s)),no(a.item,i)||this._addIdentityChange(a,i)):(a=this._mismatch(a,i,r,s),o=!0),a=a._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[eo()]();!(i=r.next()).done;)e(i.value)}(t,(function(t){r=e._trackByFn(n,t),null!==a&&no(a.trackById,r)?(o&&(a=e._verifyReinsertion(a,t,r,n)),no(a.item,t)||e._addIdentityChange(a,t)):(a=e._mismatch(a,t,r,n),o=!0),a=a._next,n++})),this.length=n;return this._truncate(a),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(no(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(no(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Ts(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new As),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new As),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Ts=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ms=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&no(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),As=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ms,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Rs(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Ps=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||ro(t)}},{key:"create",value:function(){return new Os}}]),t}(),Os=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||ro(t)))throw new Error("Error trying to diff '".concat(St(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var a=new Ls(t);return this._records.set(t,a),a.currentValue=e,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){no(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Ls=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Is=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new ct]]}}}]),t}();return t.\u0275prov=mt({token:t,providedIn:"root",factory:function(){return new t([new ks])}}),t}(),Ds=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new ct]]}}}]),t}();return t.\u0275prov=mt({token:t,providedIn:"root",factory:function(){return new t([new Ps])}}),t}(),Ns=[new Ps],Fs=new Is([new ks]),zs=new Ds(Ns),Vs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Bs(t,ms)},t}(),Bs=function(t,e){return Ra(t,e,Be(),Fe())},js=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Us(t,ms)},t}(),Us=function(t,e){return Pa(t,e,Be(),Fe())},Hs={};function Gs(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Ws=new Gt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return An}}),qs=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).componentDef=t,i.ngModule=n,i.componentType=t.type,i.selector=t.selectors.map(ir).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!n,i}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e,n,i){var r,a,o=(i=i||this.ngModule)?function(t,e){return{get:function(n,i,r){var a=t.get(n,Hs,r);return a!==Hs||i===Hs?a:e.get(n,i,r)}}}(t,i.injector):t,s=o.get(gs,gn),l=o.get(xs,null),c=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(vn(t))return t.selectRootElement(e,n===fe.ShadowDom);var i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(c,n,this.componentDef.encapsulation):mr(u,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,f="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:An,clean:Qr,playerHandler:null,flags:0},m=Sr(0,-1,null,1,0,null,null,null,null,null),v=vr(null,m,p,d,null,null,s,c,l,o);Ke(v,null);try{var g=function(t,e,n,i,r,a){var o=n[1];n[19]=t;var s=gr(o,null,0,3,null,null),l=s.mergedAttrs=e.hostAttrs;null!==l&&($a(s,l),null!==t&&(yn(r,t,l),null!==s.classes&&Ca(r,t,s.classes),null!==s.styles&&wa(r,t,s.styles)));var c=i.createRenderer(t,e),u=vr(n,kr(e),null,e.onPush?64:16,n[19],s,i,c,void 0);return o.firstCreatePass&&(zn(In(s,n),o,e.type),Ir(o,s),Nr(s,n.length,1)),Wr(n,u),n[19]=u}(h,this.componentDef,v,s,c);if(h)if(n)yn(c,h,["ng-version",Cs.full]);else{var y=function(t){for(var e=[],n=[],i=1,r=2;i<t.length;){var a=t[i];if("string"==typeof a)2===r?""!==a&&e.push(a,t[++i]):8===r&&n.push(a);else{if(!Ki(r))break;r=a}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=y.attrs,b=y.classes;_&&yn(c,h,_),b&&b.length>0&&Ca(c,h,b.join(" "))}a=zi(v[1],0),e&&(a.projection=e.map((function(t){return Array.from(t)}))),r=function(t,e,n,i,r){var a=n[1],o=function(t,e,n){var i=Be();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Lr(t,i,1),Fr(t,e,n));var r=Hn(e,t,e.length-1,i);Wi(r,e);var a=Fi(i,e);return a&&Wi(a,e),r}(a,n,e);i.components.push(o),t[8]=o,r&&r.forEach((function(t){return t(o,e)})),e.contentQueries&&e.contentQueries(1,o,n.length-1);var s=Be();if(a.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){on(s.index-19);var l=n[1];Rr(l,e),Pr(l,n,e.hostVars),Or(e,o)}return o}(g,this.componentDef,v,p,[Yo]),yr(m,v,null)}finally{rn()}var x=new Ys(this.componentType,r,Aa(ms,a,v),v,a);return n&&!f||(x.hostView._tViewNode.child=a),x}},{key:"inputs",get:function(){return Gs(this.componentDef.inputs)}},{key:"outputs",get:function(){return Gs(this.componentDef.outputs)}}]),e}(ds),Ys=function(t){function e(t,n,i,r,a){var o,s,l,c;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).location=i,o._rootLView=r,o._tNode=a,o.destroyCbs=[],o.instance=n,o.hostView=o.changeDetectorRef=new Ma(r),o.hostView._tViewNode=(s=r[1],l=r,null==(c=s.node)&&(s.node=c=Er(0,null,2,-1,null,null)),l[6]=c),o.componentType=t,o}return _inherits(e,t),_createClass(e,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new qn(this._tNode,this._rootLView)}}]),e}(function(){return function t(){_classCallCheck(this,t)}}()),Xs=void 0,Zs=["en",[["a","p"],["AM","PM"],Xs],[["AM","PM"],Xs,Xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xs,"{1} 'at' {0}",Xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Qs={};function Js(t){return t in Qs||(Qs[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),Qs[t]}var Ks=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function $s(t){var e;null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var tl=new Map,el={provide:ps,useClass:function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).ngModule=t,n}return _inherits(e,t),_createClass(e,[{key:"resolveComponentFactory",value:function(t){var e=Se(t);return new qs(e,this.ngModule)}}]),e}(ps),deps:[re]},nl=function(t){function e(t,n){var i;_classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=n,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[];var r=Te(t),a=t[jt]||null;return a&&$s(a),i._bootstrapComponents=Rn(r.bootstrap),i._r3Injector=Ba(t,n,[{provide:re,useValue:_assertThisInitialized(i)},el],St(t)),i.instance=i.get(t),i}return _inherits(e,t),_createClass(e,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xa.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt.Default;return t===Xa||t===re||t===Wt?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}},{key:"componentFactoryResolver",get:function(){return this.get(ps)}}]),e}(re),il=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).moduleType=t,null!==Te(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(St(e)," vs ").concat(St(e.name)))})(n,tl.get(n),e),tl.set(n,e)}var i=e.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(e){return t(e)}))}(t),n}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t){return new nl(this.moduleType,t)}}]),e}(ae);function rl(t,e,n,i,r){return function(t,e,n,i,r,a,o){var s=e+n;return function(t,e,n,i){var r=so(t,e,n);return so(t,e+1,i)||r}(t,s,r,a)?ao(t,s+2,o?i.call(o,r,a):i(r,a)):oo(t,s+2)}(Fe(),qe(),t,e,n,i,r)}var al=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).__isAsync=n,t}return _inherits(e,t),_createClass(e,[{key:"emit",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,n,i){var r,a=function(t){return null},o=function(){return null};t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(o=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},n&&(a=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),i&&(o=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var s=_get(_getPrototypeOf(e.prototype),"subscribe",this).call(this,r,a,o);return t instanceof d&&t.add(s),s}}]),e}(M);function ol(){return this._results[eo()]()}var sl=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new al,this.length=0;var e=eo(),n=t.prototype;n[e]||(n[e]=ol)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),ll=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),cl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[],a=0;a<i;a++){var o=n.getByIndex(a);r.push(this.queries[o.indexInDeclarationView].clone())}return new t(r)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Sl(t,e).matches&&this.queries[e].setDirty()}}]),t}(),ul=function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=i,this.read=r},hl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,a=this.getByIndex(i).embeddedTView(e,r);a&&(a.indexInDeclarationView=i,null!==n?n.push(a):n=[a])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),dl=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,fl(e,n[i]));else{var r=this.metadata.predicate;r===Vs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Un(e,t,r,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===ms||i===js||i===Vs&&0===e.type)this.addMatch(e.index,-2);else{var r=Un(e,t,i,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function fl(t,e){var n=t.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function pl(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?Aa(ms,t,e):0===t.type?Ra(Vs,ms,t,e):null}(e,t):-2===n?function(t,e,n){return n===ms?Aa(ms,e,t):n===Vs?Ra(Vs,ms,e,t):n===js?Pa(js,ms,e,t):void 0}(t,e,i):Hn(t,t[1],n,e)}function ml(t,e,n,i){var r=e[5].queries[i];if(null===r.matches){for(var a=t.data,o=n.matches,s=[],l=0;l<o.length;l+=2){var c=o[l];s.push(c<0?null:pl(e,a[c],o[l+1],n.metadata.read))}r.matches=s}return r.matches}function vl(t){var e=Fe(),n=ze(),i=Ze();Qe(i+1);var r=Sl(n,i);if(t.dirty&&ji(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{var a=r.crossesNgTemplate?function t(e,n,i,r){var a=e.queries.getByIndex(i),o=a.matches;if(null!==o)for(var s=ml(e,n,a,i),l=0;l<o.length;l+=2){var c=o[l];if(c>0)r.push(s[l/2]);else{for(var u=o[l+1],h=n[-c],d=9;d<h.length;d++){var f=h[d];f[17]===f[3]&&t(f[1],f,u,r)}if(null!==h[5])for(var p=h[5],m=0;m<p.length;m++){var v=p[m];t(v[1],v,u,r)}}}return r}(n,e,i,[]):ml(n,e,r,i);t.reset(a),t.notifyOnChanges()}return!0}return!1}function gl(t,e,n){_l(ze(),Fe(),t,e,n,!0)}function yl(t,e,n){_l(ze(),Fe(),t,e,n,!1)}function _l(t,e,n,i,r,a){t.firstCreatePass&&(kl(t,new ul(n,i,a,r),-1),a&&(t.staticViewQueries=!0)),Cl(t,e)}function bl(t,e,n,i){xl(ze(),Fe(),e,n,i,!1,Be(),t)}function xl(t,e,n,i,r,a,o,s){t.firstCreatePass&&(kl(t,new ul(n,i,a,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),a&&(t.staticContentQueries=!0)),Cl(t,e)}function wl(){return t=Fe(),e=Ze(),t[5].queries[e].queryList;var t,e}function Cl(t,e){var n=new sl;!function(t,e,n,i){var r=Jr(e);r.push(n),t.firstCreatePass&&Kr(t).push(i,r.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new cl),e[5].queries.push(new ll(n))}function kl(t,e,n){null===t.queries&&(t.queries=new hl),t.queries.track(new dl(e,n))}function Sl(t,e){return t.queries.getByIndex(e)}var El=new Gt("Application Initializer"),Tl=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();xo(r)&&e.push(r)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)($t(El,8))},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t}(),Ml=new Gt("AppId"),Al={provide:Ml,useFactory:function(){return"".concat(Rl()).concat(Rl()).concat(Rl())},deps:[]};function Rl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Pl=new Gt("Platform Initializer"),Ol=new Gt("Platform ID"),Ll=new Gt("appBootstrapListener"),Il=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t}(),Dl=new Gt("LocaleId"),Nl=new Gt("DefaultCurrencyCode"),Fl=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},zl=function(t){return new il(t)},Vl=zl,Bl=function(t){return Promise.resolve(zl(t))},jl=function(t){var e=zl(t),n=Rn(Te(t).declarations).reduce((function(t,e){var n=Se(e);return n&&t.push(new qs(n)),t}),[]);return new Fl(e,n)},Ul=jl,Hl=function(t){return Promise.resolve(jl(t))},Gl=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Vl,this.compileModuleAsync=Bl,this.compileModuleAndAllComponentsSync=Ul,this.compileModuleAndAllComponentsAsync=Hl}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t}(),Wl=new Gt("compilerOptions"),ql=Promise.resolve(0);function Yl(t){"undefined"==typeof Zone?ql.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Xl=function(){function t(e){var n,i,r=e.enableLongStackTrace,a=void 0!==r&&r,o=e.shouldCoalesceEventChangeDetection,s=void 0!==o&&o;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new al(!1),this.onMicrotaskEmpty=new al(!1),this.onStable=new al(!1),this.onError=new al(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Nt.requestAnimationFrame,e=Nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,(function(){t.lastRequestAnimationFrameId=-1,Kl(t),Jl(t)})),Kl(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(t,e,r,a,o,s){try{return $l(n),t.invokeTask(r,a,o,s)}finally{i&&"eventTask"===a.type&&i(),tc(n)}},onInvoke:function(t,e,i,r,a,o,s){try{return $l(n),t.invoke(i,r,a,o,s)}finally{tc(n)}},onHasTask:function(t,e,i,r){t.hasTask(i,r),e===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Kl(n),Jl(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,i,r){return t.handleError(i,r),n.runOutsideAngular((function(){return n.onError.emit(r)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+i,t,Ql,Zl,Zl);try{return r.runTask(a,e,n)}finally{r.cancelTask(a)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Zl(){}var Ql={};function Jl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Kl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function $l(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tc(t){t._nesting--,Jl(t)}var ec,nc=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new al,this.onMicrotaskEmpty=new al,this.onStable=new al,this.onError=new al}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,i){return t.apply(e,n)}}]),t}(),ic=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Xl.assertNotInAngularZone(),Yl((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Yl((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(t){return t.timeoutId!==r})),t(i._didWork,i.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)($t(Xl))},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t}(),rc=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,ac.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ac.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t}(),ac=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),oc=function(t,e,n){var i=new il(n);if(0===Qa.size)return Promise.resolve(i);var r,a,o=(r=t.get(Wl,[]).concat(e).map((function(t){return t.providers})),a=[],r.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===o.length)return Promise.resolve(i);var s=function(){var t=Nt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),l=Xa.create({providers:o}).get(s.ResourceLoader);return function(t){var e=[],n=new Map;function i(t){var e=n.get(t);if(!e){var i=function(t){return Promise.resolve(l.get(t))}(t);n.set(t,e=i.then(Ka))}return e}return Qa.forEach((function(t,n){var r=[];t.templateUrl&&r.push(i(t.templateUrl).then((function(e){t.template=e})));var a=t.styleUrls,o=t.styles||(t.styles=[]),s=t.styles.length;a&&a.forEach((function(e,n){o.push(""),r.push(i(e).then((function(i){o[s+n]=i,a.splice(a.indexOf(e),1),0==a.length&&(t.styleUrls=void 0)})))}));var l=Promise.all(r).then((function(){return function(t){Ja.delete(t)}(n)}));e.push(l)})),Qa=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},sc=new Gt("AllowMultipleToken"),lc=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function cc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(e),r=new Gt(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=uc();if(!a||a.injector.get(sc,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var o=n.concat(e).concat({provide:r,useValue:!0},{provide:Ia,useValue:"platform"});!function(t){if(ec&&!ec.destroyed&&!ec.injector.get(sc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ec=t.get(hc);var e=t.get(Pl,null);e&&e.forEach((function(t){return t()}))}(Xa.create({providers:o,name:i}))}return function(t){var e=uc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function uc(){return ec&&!ec.destroyed?ec:null}var hc=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,i,r=this,a=(n=e?e.ngZone:void 0,i=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new nc:("zone.js"===n?void 0:n)||new Xl({enableLongStackTrace:ci(),shouldCoalesceEventChangeDetection:i})),o=[{provide:Xl,useValue:a}];return a.run((function(){var e=Xa.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),i=n.injector.get(Jn,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return mc(r._modules,n)})),a.runOutsideAngular((function(){return a.onError.subscribe({next:function(t){i.handleError(t)}})})),function(t,e,i){try{var a=((o=n.injector.get(Tl)).runInitializers(),o.donePromise.then((function(){return $s(n.injector.get(Dl,"en-US")||"en-US"),r._moduleDoBootstrap(n),n})));return xo(a)?a.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):a}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var o}(i,a)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=dc({},n);return oc(this.injector,i,t).then((function(t){return e.bootstrapModuleFactory(t,i)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(pc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(St(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)($t(Xa))},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t}();function dc(t,e){return Array.isArray(e)?e.reduce(dc,t):Object.assign(Object.assign({},t),e)}var fc,pc=((fc=function(){function t(e,n,i,r,a,o){var s=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=a,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ci(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var l=new w((function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){t.next(s._stable),t.complete()}))})),c=new w((function(t){var e;s._zone.runOutsideAngular((function(){e=s._zone.onStable.subscribe((function(){Xl.assertNotInAngularZone(),Yl((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Xl.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Q(l,c.pipe(ot()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ds?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(re),a=n.create(Xa.NULL,[],e||n.selector,r);a.onDestroy((function(){i._unloadComponent(a)}));var o=a.injector.get(ic,null);return o&&a.injector.get(rc).registerApplication(a.location.nativeElement,o),this._loadComponent(a),ci()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),a}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e=!0,n=!1,i=void 0;try{for(var r,a=this._views[Symbol.iterator]();!(e=(r=a.next()).done);e=!0)r.value.detectChanges()}catch(h){n=!0,i=h}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}if(this._enforceNoNewChanges){var o=!0,s=!1,l=void 0;try{for(var c,u=this._views[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)c.value.checkNoChanges()}catch(h){s=!0,l=h}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}}}catch(d){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(d)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;mc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ll,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),mc(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||fc)($t(Xl),$t(Il),$t(Xa),$t(Jn),$t(ps),$t(Tl))},fc.\u0275prov=mt({token:fc,factory:fc.\u0275fac}),fc);function mc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var vc=function t(){_classCallCheck(this,t)},gc=function t(){_classCallCheck(this,t)},yc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},_c=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||yc}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,i=_slicedToArray(t.split("#"),2),r=i[0],a=i[1];return void 0===a&&(a="default"),n("zn8P")(r).then((function(t){return t[a]})).then((function(t){return bc(t,r,a)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),i=e[0],r=e[1],a="NgFactory";return void 0===r&&(r="default",a=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(t){return t[r+a]})).then((function(t){return bc(t,i,r)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)($t(Gl),$t(gc,8))},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t}();function bc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var xc=cc(null,"core",[{provide:Ol,useValue:"unknown"},{provide:hc,deps:[Xa]},{provide:rc,deps:[]},{provide:Il,deps:[]}]),wc=[{provide:pc,useClass:pc,deps:[Xl,Il,Xa,Jn,ps,Tl]},{provide:Ws,deps:[Xl],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Tl,useClass:Tl,deps:[[new ct,El]]},{provide:Gl,useClass:Gl,deps:[]},Al,{provide:Is,useFactory:function(){return Fs},deps:[]},{provide:Ds,useFactory:function(){return zs},deps:[]},{provide:Dl,useFactory:function(t){return $s(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new lt(Dl),new ct,new ht]]},{provide:Nl,useValue:"USD"}],Cc=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=we({type:t}),t.\u0275inj=vt({factory:function(e){return new(e||t)($t(pc))},providers:wc}),t}(),kc=null;function Sc(){return kc}var Ec,Tc=new Gt("DocumentToken"),Mc=((Ec=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Ec)},Ec.\u0275prov=mt({factory:Ac,token:Ec,providedIn:"platform"}),Ec);function Ac(){return $t(Oc)}var Rc,Pc=new Gt("Location Initialized"),Oc=((Rc=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n._init(),n}return _inherits(e,t),_createClass(e,[{key:"_init",value:function(){this.location=Sc().getLocation(),this._history=Sc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Sc().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Sc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Sc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){Lc()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Lc()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),e}(Mc)).\u0275fac=function(t){return new(t||Rc)($t(Tc))},Rc.\u0275prov=mt({factory:Ic,token:Rc,providedIn:"platform"}),Rc);function Lc(){return!!window.history.pushState}function Ic(){return new Oc($t(Tc))}function Dc(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Nc(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Fc(t){return t&&"?"!==t[0]?"?"+t:t}var zc,Vc=((zc=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||zc)},zc.\u0275prov=mt({factory:Bc,token:zc,providedIn:"root"}),zc);function Bc(t){var e=$t(Tc).location;return new Wc($t(Mc),e&&e.origin||"")}var jc,Uc,Hc,Gc=new Gt("appBaseHref"),Wc=((Hc=function(t){function e(t,n){var i;if(_classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,_possibleConstructorReturn(i)}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return Dc(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+Fc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Fc(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Fc(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(Vc)).\u0275fac=function(t){return new(t||Hc)($t(Mc),$t(Gc,8))},Hc.\u0275prov=mt({token:Hc,factory:Hc.\u0275fac}),Hc),qc=((Uc=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,i._baseHref="",null!=n&&(i._baseHref=n),i}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=Dc(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Fc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Fc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(Vc)).\u0275fac=function(t){return new(t||Uc)($t(Mc),$t(Gc,8))},Uc.\u0275prov=mt({token:Uc,factory:Uc.\u0275fac}),Uc),Yc=((jc=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new al,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Nc(Zc(r)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+Fc(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Zc(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fc(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fc(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||jc)($t(Vc),$t(Mc))},jc.normalizeQueryParams=Fc,jc.joinWithSlash=Dc,jc.stripTrailingSlash=Nc,jc.\u0275prov=mt({factory:Xc,token:jc,providedIn:"root"}),jc);function Xc(){return new Yc($t(Vc),$t(Mc))}function Zc(t){return t.replace(/\/index.html$/,"")}var Qc,Jc=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Kc=function t(){_classCallCheck(this,t)},$c=((Qc=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).locale=t,n}return _inherits(e,t),_createClass(e,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return function(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Js(e);if(n)return n;var i=e.split("-")[0];if(n=Js(i))return n;if("en"===i)return Zs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[Ks.PluralCase]}(e||this.locale)(t)){case Jc.Zero:return"zero";case Jc.One:return"one";case Jc.Two:return"two";case Jc.Few:return"few";case Jc.Many:return"many";default:return"other"}}}]),e}(Kc)).\u0275fac=function(t){return new(t||Qc)($t(Dl))},Qc.\u0275prov=mt({token:Qc,factory:Qc.\u0275fac}),Qc);function tu(t,e){e=encodeURIComponent(e);var n=!0,i=!1,r=void 0;try{for(var a,o=t.split(";")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=s.indexOf("="),c=_slicedToArray(-1==l?[s,""]:[s.slice(0,l),s.slice(l+1)],2),u=c[0],h=c[1];if(u.trim()===e)return decodeURIComponent(h)}}catch(d){i=!0,r=d}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return null}var eu,nu,iu,ru=((eu=function(){function t(e,n,i,r){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(St(t.item)));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(io(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}()).\u0275fac=function(t){return new(t||eu)(ho(Is),ho(Ds),ho(ms),ho(_s))},eu.\u0275dir=ke({type:eu,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),eu),au=function(){function t(e,n,i,r){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),ou=((nu=function(){function t(e,n,i){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,i,r){if(null==t.previousIndex){var a=e._viewContainer.createEmbeddedView(e._template,new au(null,e._ngForOf,-1,-1),null===r?void 0:r),o=new su(t,a);n.push(o)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,r);var l=new su(t,s);n.push(l)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,a=this._viewContainer.length;r<a;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=a,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){ci()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||nu)(ho(js),ho(Vs),ho(Is))},nu.\u0275dir=ke({type:nu,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),nu),su=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},lu=((iu=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new cu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){uu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){uu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||iu)(ho(js),ho(Vs))},iu.\u0275dir=ke({type:iu,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),iu),cu=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function uu(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(St(e),"'."))}var hu,du,fu,pu=function(){function t(e,n){_classCallCheck(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _createClass(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),mu=((fu=function(){function t(){_classCallCheck(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}()).\u0275fac=function(t){return new(t||fu)},fu.\u0275dir=ke({type:fu,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),fu),vu=((du=function(){function t(e,n,i){_classCallCheck(this,t),this.ngSwitch=i,i._addCase(),this._view=new pu(e,n)}return _createClass(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||du)(ho(js),ho(Vs),ho(mu,1))},du.\u0275dir=ke({type:du,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),du),gu=((hu=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:hu}),hu.\u0275inj=vt({factory:function(t){return new(t||hu)},providers:[{provide:Kc,useClass:$c}]}),hu);function yu(t){return"browser"===t}function _u(t){return"server"===t}var bu,xu,wu,Cu,ku,Su=((bu=function t(){_classCallCheck(this,t)}).\u0275prov=mt({token:bu,providedIn:"root",factory:function(){return new Eu($t(Tc),window,$t(Jn))}}),bu),Eu=function(){function t(e,n,i){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#".concat(t));if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}(),Tu=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Mu||(Mu=document.querySelector("base"))?Mu.getAttribute("href"):null;return null==n?null:(e=n,xu||(xu=document.createElement("a")),xu.setAttribute("href",e),"/"===xu.pathname.charAt(0)?xu.pathname:"/"+xu.pathname)}},{key:"resetBaseElement",value:function(){Mu=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return tu(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new e,kc||(kc=t)}}]),e}(function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass(e,[{key:"supportsDOMEvents",value:function(){return!0}}]),e}(function(){return function t(){_classCallCheck(this,t)}}())),Mu=null,Au=new Gt("TRANSITION_ID"),Ru=[{provide:El,useFactory:function(t,e,n){return function(){n.get(Tl).donePromise.then((function(){var n=Sc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[Au,Tc,Xa],multi:!0}],Pu=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){Nt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Nt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Nt.getAllAngularRootElements=function(){return t.getAllRootElements()},Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push((function(t){var e=Nt.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?Sc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,ac=e}}]),t}(),Ou=new Gt("EventManagerPlugins"),Lu=((wu=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=i})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||wu)($t(Ou),$t(Xl))},wu.\u0275prov=mt({token:wu,factory:wu.\u0275fac}),wu),Iu=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=Sc().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),Du=((ku=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||ku)},ku.\u0275prov=mt({token:ku,factory:ku.\u0275fac}),ku),Nu=((Cu=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return _inherits(e,t),_createClass(e,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Sc().remove(t)}))}}]),e}(Du)).\u0275fac=function(t){return new(t||Cu)($t(Tc))},Cu.\u0275prov=mt({token:Cu,factory:Cu.\u0275fac}),Cu),Fu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zu=/%COMP%/g;function Vu(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?Vu(t,r,n):(r=r.replace(zu,t),n.push(r))}return n}function Bu(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var ju,Uu,Hu,Gu,Wu,qu,Yu,Xu,Zu,Qu=((ju=function(){function t(e,n,i){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ju(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case fe.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ku(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case fe.Native:case fe.ShadowDom:return new $u(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=Vu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ju)($t(Lu),$t(Nu),$t(Ml))},ju.\u0275prov=mt({token:ju,factory:ju.\u0275fac}),ju),Ju=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Fu[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=Fu[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=Fu[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&ys.DashCase?t.style.setProperty(e,n,i&ys.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&ys.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Bu(n)):this.eventManager.addEventListener(t,e,Bu(n))}}]),t}(),Ku=function(t){function e(t,n,i,r){var a;_classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).component=i;var o,s=Vu(r+"-"+i.id,i.styles,[]);return n.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(zu,r+"-"+i.id),a.hostAttr=(o=r+"-"+i.id,"_nghost-%COMP%".replace(zu,o)),a}return _inherits(e,t),_createClass(e,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,n){var i=_get(_getPrototypeOf(e.prototype),"createElement",this).call(this,t,n);return _get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),e}(Ju),$u=function(t){function e(t,n,i,r){var a;_classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).sharedStylesHost=n,a.hostEl=i,a.component=r,a.shadowRoot=r.encapsulation===fe.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var o=Vu(r.id,r.styles,[]),s=0;s<o.length;s++){var l=document.createElement("style");l.textContent=o[s],a.shadowRoot.appendChild(l)}return a}return _inherits(e,t),_createClass(e,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,n){return _get(_getPrototypeOf(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"insertBefore",value:function(t,n,i){return _get(_getPrototypeOf(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),n,i)}},{key:"removeChild",value:function(t,n){return _get(_getPrototypeOf(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),e}(Ju),th=((Uu=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this;return t.addEventListener(e,n,!1),function(){return i.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),e}(Iu)).\u0275fac=function(t){return new(t||Uu)($t(Tc))},Uu.\u0275prov=mt({token:Uu,factory:Uu.\u0275fac}),Uu),eh={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},nh=new Gt("HammerGestureConfig"),ih=new Gt("HammerLoader"),rh=((Hu=function(){function t(){_classCallCheck(this,t),this.events=[],this.overrides={}}return _createClass(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}()).\u0275fac=function(t){return new(t||Hu)},Hu.\u0275prov=mt({token:Hu,factory:Hu.\u0275fac}),Hu),ah=[{provide:Ou,useClass:(Gu=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._config=n,a.console=i,a.loader=r,a}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return!(!eh.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(t,e,n){var i=this,r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var a=!1,o=function(){a=!0};return this.loader().then((function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(o=function(){});a||(o=i.addEventListener(t,e,n))})).catch((function(){i.console.warn('The "'.concat(e,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),o=function(){}})),function(){o()}}return r.runOutsideAngular((function(){var a=i._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return a.on(e,o),function(){a.off(e,o),"function"==typeof a.destroy&&a.destroy()}}))}},{key:"isCustomEvent",value:function(t){return this._config.events.indexOf(t)>-1}}]),e}(Iu),Gu.\u0275fac=function(t){return new(t||Gu)($t(Tc),$t(nh),$t(Il),$t(ih,8))},Gu.\u0275prov=mt({token:Gu,factory:Gu.\u0275fac}),Gu),multi:!0,deps:[Tc,nh,Il,[new ct,ih]]},{provide:nh,useClass:rh,deps:[]}],oh=((Wu=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Wu}),Wu.\u0275inj=vt({factory:function(t){return new(t||Wu)},providers:ah}),Wu),sh=["alt","control","meta","shift"],lh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ch={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},uh={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},hh=((Xu=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return null!=e.parseEventName(t)}},{key:"addEventListener",value:function(t,n,i){var r=e.parseEventName(n),a=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Sc().onAndCancel(t,r.domEventName,a)}))}}],[{key:"parseEventName",value:function(t){var n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;var r=e._normalizeKey(n.pop()),a="";if(sh.forEach((function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),a+=t+".")})),a+=r,0!=n.length||0===r.length)return null;var o={};return o.domEventName=i,o.fullKey=a,o}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ch.hasOwnProperty(e)&&(e=ch[e]))}return lh[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),sh.forEach((function(i){i!=n&&(0,uh[i])(t)&&(e+=i+".")})),e+=n}},{key:"eventCallback",value:function(t,n,i){return function(r){e.getEventFullKey(r)===t&&i.runGuarded((function(){return n(r)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),e}(Iu)).\u0275fac=function(t){return new(t||Xu)($t(Tc))},Xu.\u0275prov=mt({token:Xu,factory:Xu.\u0275fac}),Xu),dh=((Yu=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Yu)},Yu.\u0275prov=mt({factory:function(){return $t(fh)},token:Yu,providedIn:"root"}),Yu),fh=((qu=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n}return _inherits(e,t),_createClass(e,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case Pi.NONE:return e;case Pi.HTML:return ai(e,"HTML")?ri(e):function(t,e){var n=null;try{vi=vi||new ui(t);var i=e?String(e):"";n=vi.getInertBodyElement(i);var r=5,a=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=a,a=n.innerHTML,n=vi.getInertBodyElement(i)}while(i!==a);var o=new Ei,s=o.sanitizeChildren(Ri(n)||n);return ci()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var l=Ri(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}(this._doc,String(e));case Pi.STYLE:return ai(e,"Style")?ri(e):function(t){if(!(t=String(t).trim()))return"";var e=t.match(Li);return e&&fi(e[1])===e[1]||t.match(Oi)&&function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(ci()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e);case Pi.SCRIPT:if(ai(e,"Script"))return ri(e);throw new Error("unsafe value used in a script context");case Pi.URL:return oi(e),ai(e,"URL")?ri(e):fi(String(e));case Pi.RESOURCE_URL:if(ai(e,"ResourceURL"))return ri(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return new $n(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new ti(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new ei(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new ni(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new ii(t)}}]),e}(dh)).\u0275fac=function(t){return new(t||qu)($t(Tc))},qu.\u0275prov=mt({factory:function(){return t=$t(Wt),new fh(t.get(Tc));var t},token:qu,providedIn:"root"}),qu),ph=cc(xc,"browser",[{provide:Ol,useValue:"browser"},{provide:Pl,useValue:function(){Tu.makeCurrent(),Pu.init()},multi:!0},{provide:Tc,useFactory:function(){return function(t){mn=t}(document),document},deps:[]}]),mh=[[],{provide:Ia,useValue:"root"},{provide:Jn,useFactory:function(){return new Jn},deps:[]},{provide:Ou,useClass:th,multi:!0,deps:[Tc,Xl,Ol]},{provide:Ou,useClass:hh,multi:!0,deps:[Tc]},[],{provide:Qu,useClass:Qu,deps:[Lu,Nu,Ml]},{provide:gs,useExisting:Qu},{provide:Du,useExisting:Nu},{provide:Nu,useClass:Nu,deps:[Tc]},{provide:ic,useClass:ic,deps:[Xl]},{provide:Lu,useClass:Lu,deps:[Ou,Xl]},[]],vh=((Zu=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Ml,useValue:e.appId},{provide:Au,useExisting:Ml},Ru]}}}]),t}()).\u0275mod=we({type:Zu}),Zu.\u0275inj=vt({factory:function(t){return new(t||Zu)($t(Zu,12))},providers:mh,imports:[gu,Cc]}),Zu);"undefined"!=typeof window&&window;var gh=new w((function(t){return t.complete()}));function yh(t){return t?function(t){return new w((function(e){return t.schedule((function(){return e.complete()}))}))}(t):gh}function _h(t){return new w((function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?H(n):yh()).subscribe(e)}))}function bh(t,e){return new w(e?function(n){return e.schedule(xh,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function xh(t){var e=t.error;t.subscriber.error(e)}function wh(t,e,n,r){return i(n)&&(r=n,n=void 0),r?wh(t,e,n).pipe(V((function(t){return l(t)?r.apply(void 0,_toConsumableArray(t)):r(t)}))):new w((function(i){!function t(e,n,i,r,a){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,i,a),o=function(){return s.removeEventListener(n,i,a)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var l=e;e.on(n,i),o=function(){return l.off(n,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,i),o=function(){return c.removeListener(n,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,h=e.length;u<h;u++)t(e[u],n,i,r,a)}r.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)}))}function Ch(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return R(i)?(e.pop(),U(e,i)):Z(e)}function kh(){return X(1)}function Sh(){return kh()(Ch.apply(void 0,arguments))}var Eh=new w(y);function Th(t,e){return function(n){return n.lift(new Mh(t,e))}}var Mh=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ah(t,this.predicate,this.thisArg))}}]),t}(),Ah=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=n,r.thisArg=i,r.count=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),e}(m);function Rh(t,e){return"function"==typeof e?function(n){return n.pipe(Rh((function(n,i){return H(t(n,i)).pipe(V((function(t,r){return e(n,t,i,r)})))})))}:function(e){return e.lift(new Ph(t))}}var Ph=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Oh(t,this.project))}}]),t}(),Oh=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,i.index=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new P(this,e,n),a=this.destination;a.add(r),this.innerSubscription=F(this,t,void 0,void 0,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(e.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}}]),e}(z),Lh=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Ih(t){return function(e){return 0===t?yh():e.lift(new Dh(t))}}var Dh=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Lh}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Nh(t,this.total))}}]),t}(),Nh=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=n,i.count=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),e}(m);function Fh(t,e,n){return function(i){return i.lift(new jh(t,e,n))}}var zh,Vh,Bh,jh=function(){function t(e,n,i){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Uh(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Uh=function(t){function e(t,n,r,a){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._tapNext=y,o._tapError=y,o._tapComplete=y,o._tapError=r||y,o._tapComplete=a||y,i(n)?(o._context=_assertThisInitialized(o),o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||y,o._tapError=n.error||y,o._tapComplete=n.complete||y),o}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),e}(m),Hh=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,i.work=n,i.pending=!1,i}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),e}(function(t){function e(t,n){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),e}(d)),Gh=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),Wh=new(function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gh.now;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,(function(){return e.delegate&&e.delegate!==_assertThisInitialized(n)?e.delegate.now():i()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):_get(_getPrototypeOf(e.prototype),"schedule",this).call(this,t,n,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),e}(Gh))(Hh),qh=((zh=function(){function t(e,n,i){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Ch(this.value);case"E":return bh(this.error);case"C":return yh()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new zh("C"),zh.undefinedValueNotification=new zh("N",void 0),zh),Yh=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xh(t,this.delay,this.scheduler))}}]),t}(),Xh=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).delay=n,r.scheduler=i,r.queue=[],r.active=!1,r.errored=!1,r}return _inherits(e,t),_createClass(e,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new Zh(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(qh.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(qh.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var a=Math.max(0,n[0].time-i.now());this.schedule(t,a)}else this.unsubscribe(),e.active=!1}}]),e}(m),Zh=function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n},Qh="Service workers are disabled or not supported by this browser",Jh=function(){function t(e){if(_classCallCheck(this,t),this.serviceWorker=e,e){var n=wh(e,"controllerchange").pipe(V((function(){return e.controller}))),i=Sh(_h((function(){return Ch(e.controller)})),n);this.worker=i.pipe(Th((function(t){return!!t}))),this.registration=this.worker.pipe(Rh((function(){return e.getRegistration()})));var r=wh(e,"message").pipe(V((function(t){return t.data}))).pipe(Th((function(t){return t&&t.type}))).pipe(it(new M));r.connect(),this.events=r}else this.worker=this.events=this.registration=_h((function(){return bh(new Error("Service workers are disabled or not supported by this browser"))}))}return _createClass(t,[{key:"postMessage",value:function(t,e){return this.worker.pipe(Ih(1),Fh((function(n){n.postMessage(Object.assign({action:t},e))}))).toPromise().then((function(){}))}},{key:"postMessageWithStatus",value:function(t,e,n){var i=this.waitForStatus(n),r=this.postMessage(t,e);return Promise.all([i,r]).then((function(){}))}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(t){return this.events.pipe(Th((function(e){return e.type===t})))}},{key:"nextEventOfType",value:function(t){return this.eventsOfType(t).pipe(Ih(1))}},{key:"waitForStatus",value:function(t){return this.eventsOfType("STATUS").pipe(Th((function(e){return e.nonce===t})),Ih(1),V((function(t){if(!t.status)throw new Error(t.error)}))).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),t}(),Kh=((Bh=function(){function t(e){if(_classCallCheck(this,t),this.sw=e,this.subscriptionChanges=new M,!e.isEnabled)return this.messages=Eh,this.notificationClicks=Eh,void(this.subscription=Eh);this.messages=this.sw.eventsOfType("PUSH").pipe(V((function(t){return t.data}))),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(V((function(t){return t.data}))),this.pushManager=this.sw.registration.pipe(V((function(t){return t.pushManager})));var n=this.pushManager.pipe(Rh((function(t){return t.getSubscription()})));this.subscription=Q(n,this.subscriptionChanges)}return _createClass(t,[{key:"requestSubscription",value:function(t){var e=this;if(!this.sw.isEnabled)return Promise.reject(new Error(Qh));for(var n={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(i.length)),a=0;a<i.length;a++)r[a]=i.charCodeAt(a);return n.applicationServerKey=r,this.pushManager.pipe(Rh((function(t){return t.subscribe(n)})),Ih(1)).toPromise().then((function(t){return e.subscriptionChanges.next(t),t}))}},{key:"unsubscribe",value:function(){var t=this;return this.sw.isEnabled?this.subscription.pipe(Ih(1),Rh((function(e){if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then((function(e){if(!e)throw new Error("Unsubscribe failed!");t.subscriptionChanges.next(null)}))}))).toPromise():Promise.reject(new Error(Qh))}},{key:"decodeBase64",value:function(t){return atob(t)}},{key:"isEnabled",get:function(){return this.sw.isEnabled}}]),t}()).\u0275fac=function(t){return new(t||Bh)($t(Jh))},Bh.\u0275prov=mt({token:Bh,factory:Bh.\u0275fac}),Bh),$h=((Vh=function(){function t(e){if(_classCallCheck(this,t),this.sw=e,!e.isEnabled)return this.available=Eh,void(this.activated=Eh);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}return _createClass(t,[{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Qh));var t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Qh));var t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}},{key:"isEnabled",get:function(){return this.sw.isEnabled}}]),t}()).\u0275fac=function(t){return new(t||Vh)($t(Jh))},Vh.\u0275prov=mt({token:Vh,factory:Vh.\u0275fac}),Vh),td=function t(){_classCallCheck(this,t)},ed=new Gt("NGSW_REGISTER_SCRIPT");function nd(t,e,n,i){return function(){if(yu(i)&&"serviceWorker"in navigator&&!1!==n.enabled){var r;if(navigator.serviceWorker.addEventListener("controllerchange",(function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})})),"function"==typeof n.registrationStrategy)r=n.registrationStrategy();else{var a=_toArray((n.registrationStrategy||"registerWhenStable").split(":")),o=a[0],s=a.slice(1);switch(o){case"registerImmediately":r=Ch(null);break;case"registerWithDelay":r=Ch(null).pipe(function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wh,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new Yh(i,n))}}(+s[0]||0));break;case"registerWhenStable":r=t.get(pc).isStable.pipe(Th((function(t){return t})));break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(n.registrationStrategy))}}r.pipe(Ih(1)).subscribe((function(){return navigator.serviceWorker.register(e,{scope:n.scope}).catch((function(t){return console.error("Service worker registration failed with:",t)}))}))}}}function id(t,e){return new Jh(yu(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}var rd,ad=((rd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"register",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:t,providers:[{provide:ed,useValue:e},{provide:td,useValue:n},{provide:Jh,useFactory:id,deps:[td,Ol]},{provide:El,useFactory:nd,deps:[Xa,ed,td,Ol],multi:!0}]}}}]),t}()).\u0275mod=we({type:rd}),rd.\u0275inj=vt({factory:function(t){return new(t||rd)},providers:[Kh,$h]}),rd);function od(t,e){return G(t,e,1)}var sd=function t(){_classCallCheck(this,t)},ld=function t(){_classCallCheck(this,t)},cd=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),a=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(a):n.headers.set(r,[a])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var a=this.headers.get(e);if(!a)return;0===(a=a.filter((function(t){return-1===r.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),ud=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return hd(t)}},{key:"encodeValue",value:function(t){return hd(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function hd(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var dd=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new ud,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var i=t.indexOf("="),r=_slicedToArray(-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],2),a=r[0],o=r[1],s=n.get(a)||[];s.push(o),n.set(a,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var i=n.fromObject[t];e.map.set(t,Array.isArray(i)?i:[i])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function fd(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function pd(t){return"undefined"!=typeof Blob&&t instanceof Blob}function md(t){return"undefined"!=typeof FormData&&t instanceof FormData}var vd=function(){function t(e,n,i,r){var a;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.params&&(this.params=a.params)),this.headers||(this.headers=new cd),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new dd,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:fd(this.body)||pd(this.body)||md(this.body)||"string"==typeof this.body?this.body:this.body instanceof dd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body?null:md(this.body)?null:pd(this.body)?this.body.type||null:fd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,l=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,i,a,{params:c,headers:l,reportProgress:s,responseType:r,withCredentials:o})}}]),t}(),gd=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),yd=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new cd,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},_d=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).type=gd.ResponseHeader,t}return _inherits(e,t),_createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),e}(yd),bd=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).type=gd.Response,t.body=void 0!==n.body?n.body:null,t}return _inherits(e,t),_createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),e}(yd),xd=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,0,"Unknown Error"))).name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),n.error=t.error||null,n}return _inherits(e,t),e}(yd);function wd(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Cd,kd,Sd,Ed,Td,Md,Ad,Rd,Pd,Od=((Cd=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof vd)n=t;else{var a=void 0;a=r.headers instanceof cd?r.headers:new cd(r.headers);var o=void 0;r.params&&(o=r.params instanceof dd?r.params:new dd({fromObject:r.params})),n=new vd(t,e,void 0!==r.body?r.body:null,{headers:a,params:o,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var s=Ch(n).pipe(od((function(t){return i.handler.handle(t)})));if(t instanceof vd||"events"===r.observe)return s;var l=s.pipe(Th((function(t){return t instanceof bd})));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe(V((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return l.pipe(V((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return l.pipe(V((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return l.pipe(V((function(t){return t.body})))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new dd).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,wd(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,wd(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,wd(n,e))}}]),t}()).\u0275fac=function(t){return new(t||Cd)($t(sd))},Cd.\u0275prov=mt({token:Cd,factory:Cd.\u0275fac}),Cd),Ld=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Id=new Gt("HTTP_INTERCEPTORS"),Dd=((kd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||kd)},kd.\u0275prov=mt({token:kd,factory:kd.\u0275fac}),kd),Nd=/^\)\]\}',?\n/,Fd=function t(){_classCallCheck(this,t)},zd=((Ed=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Ed)},Ed.\u0275prov=mt({token:Ed,factory:Ed.\u0275fac}),Ed),Vd=((Sd=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w((function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((function(t,e){return i.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var a=t.responseType.toLowerCase();i.responseType="json"!==a?a:"text"}var o=t.serializeBody(),s=null,l=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new cd(i.getAllResponseHeaders()),a=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new _d({headers:r,status:e,statusText:n,url:a})},c=function(){var e=l(),r=e.headers,a=e.status,o=e.statusText,s=e.url,c=null;204!==a&&(c=void 0===i.response?i.responseText:i.response),0===a&&(a=c?200:0);var u=a>=200&&a<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Nd,"");try{c=""!==c?JSON.parse(c):null}catch(d){c=h,u&&(u=!1,c={error:d,text:c})}}u?(n.next(new bd({body:c,headers:r,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new xd({error:c,headers:r,status:a,statusText:o,url:s||void 0}))},u=function(t){var e=l().url,r=new xd({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,d=function(e){h||(n.next(l()),h=!0);var r={type:gd.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(t){var e={type:gd.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",c),i.addEventListener("error",u),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",f)),i.send(o),n.next({type:gd.Sent}),function(){i.removeEventListener("error",u),i.removeEventListener("load",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",f)),i.abort()}}))}}]),t}()).\u0275fac=function(t){return new(t||Sd)($t(Fd))},Sd.\u0275prov=mt({token:Sd,factory:Sd.\u0275fac}),Sd),Bd=new Gt("XSRF_COOKIE_NAME"),jd=new Gt("XSRF_HEADER_NAME"),Ud=function t(){_classCallCheck(this,t)},Hd=((Pd=function(){function t(e,n,i){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=tu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Pd)($t(Tc),$t(Ol),$t(Bd))},Pd.\u0275prov=mt({token:Pd,factory:Pd.\u0275fac}),Pd),Gd=((Rd=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Rd)($t(Ud),$t(jd))},Rd.\u0275prov=mt({token:Rd,factory:Rd.\u0275fac}),Rd),Wd=((Ad=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Id,[]);this.chain=e.reduceRight((function(t,e){return new Ld(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ad)($t(ld),$t(Xa))},Ad.\u0275prov=mt({token:Ad,factory:Ad.\u0275fac}),Ad),qd=((Md=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Gd,useClass:Dd}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Bd,useValue:e.cookieName}:[],e.headerName?{provide:jd,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=we({type:Md}),Md.\u0275inj=vt({factory:function(t){return new(t||Md)},providers:[Gd,{provide:Id,useExisting:Gd,multi:!0},{provide:Ud,useClass:Hd},{provide:Bd,useValue:"XSRF-TOKEN"},{provide:jd,useValue:"X-XSRF-TOKEN"}]}),Md),Yd=((Td=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Td}),Td.\u0275inj=vt({factory:function(t){return new(t||Td)},providers:[Od,{provide:sd,useClass:Wd},Vd,{provide:ld,useExisting:Vd},zd,{provide:Fd,useExisting:zd}],imports:[[qd.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Td),Xd=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._value=t,n}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){var n=_get(_getPrototypeOf(e.prototype),"_subscribe",this).call(this,t);return n&&!n.closed&&t.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),e}(M);function Zd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wh;return function(n){return n.lift(new Qd(t,e))}}var Qd=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Jd(t,this.dueTime,this.scheduler))}}]),t}(),Jd=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Kd,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),e}(m);function Kd(t){t.debouncedNext()}function $d(t){return function(e){return e.lift(new nf(t))}}var tf,ef,nf=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new rf(t),i=F(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),rf=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).seenValue=!1,n}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,i,r){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),e}(z),af={provide:Ll,useFactory:function(t,e){return function(){if(yu(e)){var n=Array.from(t.querySelectorAll("[class*=".concat(of,"]"))),i=/\bflex-layout-.+?\b/g;n.forEach((function(t){t.classList.contains("".concat(of,"ssr"))&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(i,"")}))}}},deps:[Tc,Ol],multi:!0},of="flex-layout-",sf=((tf=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:tf}),tf.\u0275inj=vt({factory:function(t){return new(t||tf)},providers:[af]}),tf),lf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;_classCallCheck(this,t),this.matches=e,this.mediaQuery=n,this.mqAlias=i,this.suffix=r,this.priority=a,this.property=""}return _createClass(t,[{key:"clone",value:function(){return new t(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}]),t}(),cf=((ef=function(){function t(){_classCallCheck(this,t),this.stylesheet=new Map}return _createClass(t,[{key:"addStyleToElement",value:function(t,e,n){var i=this.stylesheet.get(t);i?i.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}},{key:"clearStyles",value:function(){this.stylesheet.clear()}},{key:"getStyleForElement",value:function(t,e){var n=this.stylesheet.get(t),i="";if(n){var r=n.get(e);"number"!=typeof r&&"string"!=typeof r||(i=r+"")}return i}}]),t}()).\u0275fac=function(t){return new(t||ef)},ef.\u0275prov=mt({factory:function(){return new ef},token:ef,providedIn:"root"}),ef),uf={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},hf=new Gt("Flex Layout token, config options for the library",{providedIn:"root",factory:function(){return uf}}),df=new Gt("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),ff=new Gt("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}});function pf(t,e){return t=t?t.clone():new lf,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}var mf=["row","column","row-reverse","column-reverse"];function vf(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}var gf,yf=((gf=function(){function t(e,n,i,r){_classCallCheck(this,t),this.elementRef=e,this.styleBuilder=n,this.styler=i,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new M,this.styleCache=new Map}return _createClass(t,[{key:"ngOnChanges",value:function(t){var e=this;Object.keys(t).forEach((function(n){if(-1!==e.inputs.indexOf(n)){var i=n.split(".").slice(1).join(".");e.setValue(t[n].currentValue,i)}}))}},{key:"ngOnDestroy",value:function(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}},{key:"addStyles",value:function(t,e){var n=this.styleBuilder,i=n.shouldCache,r=this.styleCache.get(t);r&&i||(r=n.buildStyles(t,e),i&&this.styleCache.set(t,r)),this.mru=Object.assign({},r),this.applyStyleToElement(r),n.sideEffect(t,r,e)}},{key:"clearStyles",value:function(){var t=this;Object.keys(this.mru).forEach((function(e){t.mru[e]=""})),this.applyStyleToElement(this.mru),this.mru={}}},{key:"triggerUpdate",value:function(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}},{key:"getFlexFlowDirection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var n=this.styler.getFlowDirection(t),i=_slicedToArray(n,2),r=i[0],a=i[1];if(!a&&e){var o=function(t){var e=function(t){var e=_slicedToArray((t=t?t.toLowerCase():"").split(" "),3),n=e[0],i=e[1],r=e[2];return mf.find((function(t){return t===n}))||(n=mf[0]),"inline"===i&&(i="inline"!==r?r:"",r="inline"),[n,vf(i),!!r]}(t),n=_slicedToArray(e,3);return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(n[0],n[1],n[2])}(r);this.styler.applyStyleToElements(o,[t])}return r.trim()}return"row"}},{key:"applyStyleToElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nativeElement;this.styler.applyStyleToElement(n,t,e)}},{key:"setValue",value:function(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}},{key:"updateWithValue",value:function(t){this.addStyles(t)}},{key:"parentElement",get:function(){return this.elementRef.nativeElement.parentElement}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"activatedValue",get:function(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)},set:function(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}}]),t}()).\u0275fac=function(t){po()},gf.\u0275dir=ke({type:gf,features:[ts()]}),gf),_f=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],bf="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",xf="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",wf="(orientation: portrait) and (min-width: 840px)",Cf="(orientation: landscape) and (min-width: 1280px)",kf={HANDSET:"(orientation: portrait) and (max-width: 599.9px), (orientation: landscape) and (max-width: 959.9px)",TABLET:"".concat(bf," , ").concat(xf),WEB:"".concat(wf,", ").concat(Cf," "),HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599.9px)",TABLET_PORTRAIT:"".concat(bf," "),WEB_PORTRAIT:"".concat(wf),HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.9px)]",TABLET_LANDSCAPE:"".concat(xf),WEB_LANDSCAPE:"".concat(Cf)},Sf=[{alias:"handset",priority:2e3,mediaQuery:kf.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:kf.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:kf.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:kf.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:kf.TABLET},{alias:"tablet.portrait",priority:2100,mediaQuery:kf.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:kf.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:kf.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:kf.WEB_PORTRAIT,overlapping:!0}],Ef=/(\.|-|_)/g;function Tf(t){var e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}var Mf=new Gt("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:function(){var t=te(ff),e=te(hf),n=[].concat.apply([],(t||[]).map((function(t){return Array.isArray(t)?t:[t]})));return function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i={};return t.forEach((function(t){i[t.alias]=t})),n.forEach((function(t){i[t.alias]?function(t){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}}(i[t.alias],t):i[t.alias]=t})),(e=Object.keys(i).map((function(t){return i[t]}))).forEach((function(t){t.suffix||(t.suffix=t.alias.replace(Ef,"|").split("|").map(Tf).join(""),t.overlapping=!!t.overlapping)})),e}((e.disableDefaultBps?[]:_f).concat(e.addOrientationBps?Sf:[]),n)}});function Af(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function Rf(t,e){return(t.priority||0)-(e.priority||0)}var Pf,Of,Lf,If=((Of=function(){function t(e){_classCallCheck(this,t),this.findByMap=new Map,this.items=_toConsumableArray(e).sort(Rf)}return _createClass(t,[{key:"findByAlias",value:function(t){return t?this.findWithPredicate(t,(function(e){return e.alias==t})):null}},{key:"findByQuery",value:function(t){return this.findWithPredicate(t,(function(e){return e.mediaQuery==t}))}},{key:"findWithPredicate",value:function(t,e){var n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}},{key:"overlappings",get:function(){return this.items.filter((function(t){return 1==t.overlapping}))}},{key:"aliases",get:function(){return this.items.map((function(t){return t.alias}))}},{key:"suffixes",get:function(){return this.items.map((function(t){return t.suffix?t.suffix:""}))}}]),t}()).\u0275fac=function(t){return new(t||Of)($t(Mf))},Of.\u0275prov=mt({factory:function(){return new Of($t(Mf))},token:Of,providedIn:"root"}),Of),Df=((Pf=function(){function t(e,n,i){_classCallCheck(this,t),this._zone=e,this._platformId=n,this._document=i,this.source=new Xd(new lf(!0)),this.registry=new Map,this._observable$=this.source.asObservable()}return _createClass(t,[{key:"isActive",value:function(t){var e=this.registry.get(t);return!!e&&e.matches}},{key:"observe",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&t.length){var i=this._observable$.pipe(Th((function(e){return!n||t.indexOf(e.mediaQuery)>-1})));return Q(new w((function(n){var i=e.registerQuery(t);if(i.length){var r=i.pop();i.forEach((function(t){n.next(t)})),e.source.next(r)}n.complete()})),i)}return this._observable$}},{key:"registerQuery",value:function(t){var e=this,n=Array.isArray(t)?t:[t],i=[];return function(t,e){var n=t.filter((function(t){return!Nf[t]}));if(n.length>0){var i=n.join(", ");try{var r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode("\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ".concat(i," {.fx-query-test{ }}\n"))),e.head.appendChild(r),n.forEach((function(t){return Nf[t]=r}))}catch(a){console.error(a)}}}(n,this._document),n.forEach((function(t){var n=e.registry.get(t);n||((n=e.buildMQL(t)).addListener((function(n){e._zone.run((function(){return e.source.next(new lf(n.matches,t))}))})),e.registry.set(t,n)),n.matches&&i.push(new lf(!0,t))})),i}},{key:"buildMQL",value:function(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}(t,yu(this._platformId))}},{key:"activations",get:function(){var t=[];return this.registry.forEach((function(e,n){e.matches&&t.push(n)})),t}}]),t}()).\u0275fac=function(t){return new(t||Pf)($t(Xl),$t(Ol),$t(Tc))},Pf.\u0275prov=mt({factory:function(){return new Pf($t(Xl),$t(Ol),$t(Tc))},token:Pf,providedIn:"root"}),Pf),Nf={},Ff={alias:"print",mediaQuery:"print",priority:1e3},zf=((Lf=function(){function t(e,n,i){_classCallCheck(this,t),this.breakpoints=e,this.layoutConfig=n,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.isPrinting=!1,this.queue=new Vf,this.deactivations=[]}return _createClass(t,[{key:"withPrintQuery",value:function(t){return[].concat(_toConsumableArray(t),["print"])}},{key:"isPrintEvent",value:function(t){return t.mediaQuery.startsWith("print")}},{key:"getEventBreakpoints",value:function(t){var e=t.mediaQuery,n=this.breakpoints.findByQuery(e);return(n?[].concat(_toConsumableArray(this.printBreakPoints),[n]):this.printBreakPoints).sort(Af)}},{key:"updateEvent",value:function(t){var e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),pf(t,e)}},{key:"registerBeforeAfterPrintHooks",value:function(t){var e=this;this._document.defaultView&&!this.registeredBeforeAfterPrintHooks&&(this.registeredBeforeAfterPrintHooks=!0,this._document.defaultView.addEventListener("beforeprint",(function(){e.isPrinting||(e.isPrintingBeforeAfterEvent=!0,e.startPrinting(t,e.getEventBreakpoints(new lf(!0,"print"))),t.updateStyles())})),this._document.defaultView.addEventListener("afterprint",(function(){e.isPrintingBeforeAfterEvent=!1,e.isPrinting&&(e.stopPrinting(t),t.updateStyles())})))}},{key:"interceptEvents",value:function(t){var e=this;return this.registerBeforeAfterPrintHooks(t),function(n){e.isPrintEvent(n)?n.matches&&!e.isPrinting?(e.startPrinting(t,e.getEventBreakpoints(n)),t.updateStyles()):n.matches||!e.isPrinting||e.isPrintingBeforeAfterEvent||(e.stopPrinting(t),t.updateStyles()):e.collectActivations(n)}}},{key:"blockPropagation",value:function(){var t=this;return function(e){return!(t.isPrinting||t.isPrintEvent(e))}}},{key:"startPrinting",value:function(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}},{key:"stopPrinting",value:function(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}},{key:"collectActivations",value:function(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{var e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(Af))}}},{key:"printAlias",get:function(){return this.layoutConfig.printWithBreakpoints||[]}},{key:"printBreakPoints",get:function(){var t=this;return this.printAlias.map((function(e){return t.breakpoints.findByAlias(e)})).filter((function(t){return null!==t}))}}]),t}()).\u0275fac=function(t){return new(t||Lf)($t(If),$t(hf),$t(Tc))},Lf.\u0275prov=mt({factory:function(){return new Lf($t(If),$t(hf),$t(Tc))},token:Lf,providedIn:"root"}),Lf),Vf=function(){function t(){_classCallCheck(this,t),this.printBreakpoints=[]}return _createClass(t,[{key:"addPrintBreakpoints",value:function(t){var e=this;return t.push(Ff),t.sort(Af),t.forEach((function(t){return e.addBreakpoint(t)})),this.printBreakpoints}},{key:"addBreakpoint",value:function(t){t&&void 0===this.printBreakpoints.find((function(e){return e.mediaQuery===t.mediaQuery}))&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith("print")}(t)?[t].concat(_toConsumableArray(this.printBreakpoints)):[].concat(_toConsumableArray(this.printBreakpoints),[t]))}},{key:"clear",value:function(){this.printBreakpoints=[]}}]),t}();function Bf(t){for(var e in t){var n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}var jf,Uf=((jf=function(){function t(e,n,i,r){_classCallCheck(this,t),this._serverStylesheet=e,this._serverModuleLoaded=n,this._platformId=i,this.layoutConfig=r}return _createClass(t,[{key:"applyStyleToElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={};"string"==typeof e&&(i[e]=n,e=i),i=this.layoutConfig.disableVendorPrefixes?e:Bf(e),this._applyMultiValueStyleToElement(i,t)}},{key:"applyStyleToElements",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.layoutConfig.disableVendorPrefixes?t:Bf(t);n.forEach((function(t){e._applyMultiValueStyleToElement(i,t)}))}},{key:"getFlowDirection",value:function(t){var e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||_u(this._platformId)&&this._serverModuleLoaded?e:""]}},{key:"lookupAttributeValue",value:function(t,e){return t.getAttribute(e)||""}},{key:"lookupInlineStyle",value:function(t,e){return yu(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}},{key:"lookupStyle",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="";return t&&((i=this.lookupInlineStyle(t,e))||(yu(this._platformId)?n||(i=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(i=this._serverStylesheet.getStyleForElement(t,e)))),i?i.trim():""}},{key:"_applyMultiValueStyleToElement",value:function(t,e){var n=this;Object.keys(t).sort().forEach((function(i){var r=t[i],a=Array.isArray(r)?r:[r];a.sort();var o=!0,s=!1,l=void 0;try{for(var c,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;h=h?h+"":"",yu(n._platformId)||!n._serverModuleLoaded?yu(n._platformId)?e.style.setProperty(i,h):n._setServerStyle(e,i,h):n._serverStylesheet.addStyleToElement(e,i,h)}}catch(d){s=!0,l=d}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}}))}},{key:"_setServerStyle",value:function(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var i=this._readStyleAttribute(t);i[e]=n||"",this._writeStyleAttribute(t,i)}},{key:"_getServerStyle",value:function(t,e){return this._readStyleAttribute(t)[e]||""}},{key:"_readStyleAttribute",value:function(t){var e={},n=t.getAttribute("style");if(n)for(var i=n.split(/;+/g),r=0;r<i.length;r++){var a=i[r].trim();if(a.length>0){var o=a.indexOf(":");if(-1===o)throw new Error("Invalid CSS style: ".concat(a));e[a.substr(0,o).trim()]=a.substr(o+1).trim()}}return e}},{key:"_writeStyleAttribute",value:function(t,e){var n="";for(var i in e)e[i]&&(n+=i+":"+e[i]+";");t.setAttribute("style",n)}}]),t}()).\u0275fac=function(t){return new(t||jf)($t(cf),$t(df),$t(Ol),$t(hf))},jf.\u0275prov=mt({factory:function(){return new jf($t(cf),$t(df),$t(Ol),$t(hf))},token:jf,providedIn:"root"}),jf),Hf=function(){function t(){_classCallCheck(this,t),this.shouldCache=!0}return _createClass(t,[{key:"sideEffect",value:function(t,e,n){}}]),t}();function Gf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",i=[e,n,t],r=t.indexOf("calc");if(r>0){i[2]=Wf(t.substring(r).trim());var a=t.substr(0,r).trim().split(" ");2==a.length&&(i[0]=a[0],i[1]=a[1])}else if(0==r)i[2]=Wf(t.trim());else{var o=t.split(" ");i=3===o.length?o:[e,n,t]}return i}function Wf(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}var qf,Yf=((qf=function(){function t(e,n,i){_classCallCheck(this,t),this.matchMedia=e,this.breakpoints=n,this.hook=i,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new M,this.observeActivations()}return _createClass(t,[{key:"onMediaChange",value:function(t){var e=this.findByQuery(t.mediaQuery);e&&((t=pf(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(Af),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(Af),this.updateStyles()))}},{key:"init",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Xf(this.updateMap,t,e,n),Xf(this.clearMap,t,e,i),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,r)}},{key:"getValue",value:function(t,e,n){var i=this.elementMap.get(t);if(i){var r=void 0!==n?i.get(n):this.getActivatedValues(i,e);if(r)return r.get(e)}}},{key:"hasValue",value:function(t,e){var n=this.elementMap.get(t);if(n){var i=this.getActivatedValues(n,e);if(i)return void 0!==i.get(e)||!1}return!1}},{key:"setValue",value:function(t,e,n,i){var r=this.elementMap.get(t);if(r){var a=(r.get(i)||new Map).set(e,n);r.set(i,a),this.elementMap.set(t,r)}else r=(new Map).set(i,(new Map).set(e,n)),this.elementMap.set(t,r);var o=this.getValue(t,e);void 0!==o&&this.updateElement(t,e,o)}},{key:"trackValue",value:function(t,e){return this.subject.asObservable().pipe(Th((function(n){return n.element===t&&n.key===e})))}},{key:"updateStyles",value:function(){var t=this;this.elementMap.forEach((function(e,n){var i=new Set(t.elementKeyMap.get(n)),r=t.getActivatedValues(e);r&&r.forEach((function(e,r){t.updateElement(n,r,e),i.delete(r)})),i.forEach((function(i){if(r=t.getActivatedValues(e,i)){var a=r.get(i);t.updateElement(n,i,a)}else t.clearElement(n,i)}))}))}},{key:"clearElement",value:function(t,e){var n=this.clearMap.get(t);if(n){var i=n.get(e);i&&(i(),this.subject.next({element:t,key:e,value:""}))}}},{key:"updateElement",value:function(t,e,n){var i=this.updateMap.get(t);if(i){var r=i.get(e);r&&(r(n),this.subject.next({element:t,key:e,value:n}))}}},{key:"releaseElement",value:function(t){var e=this.watcherMap.get(t);e&&(e.forEach((function(t){return t.unsubscribe()})),this.watcherMap.delete(t));var n=this.elementMap.get(t);n&&(n.forEach((function(t,e){return n.delete(e)})),this.elementMap.delete(t))}},{key:"triggerUpdate",value:function(t,e){var n=this,i=this.elementMap.get(t);if(i){var r=this.getActivatedValues(i,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach((function(e,i){return n.updateElement(t,i,e)})))}}},{key:"buildElementKeyMap",value:function(t,e){var n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}},{key:"watchExtraTriggers",value:function(t,e,n){var i=this;if(n&&n.length){var r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(e)){var a=Q.apply(void 0,_toConsumableArray(n)).subscribe((function(){var n=i.getValue(t,e);i.updateElement(t,e,n)}));r.set(e,a)}}}},{key:"findByQuery",value:function(t){return this.breakpoints.findByQuery(t)}},{key:"getActivatedValues",value:function(t,e){for(var n=0;n<this.activatedBreakpoints.length;n++){var i=t.get(this.activatedBreakpoints[n].alias);if(i&&(void 0===e||i.has(e)))return i}var r=t.get("");return void 0===e||r&&r.has(e)?r:void 0}},{key:"observeActivations",value:function(){var t=this.breakpoints.items.map((function(t){return t.mediaQuery}));this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Fh(this.hook.interceptEvents(this)),Th(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}},{key:"activatedAlias",get:function(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}}]),t}()).\u0275fac=function(t){return new(t||qf)($t(Df),$t(If),$t(zf))},qf.\u0275prov=mt({factory:function(){return new qf($t(Df),$t(If),$t(zf))},token:qf,providedIn:"root"}),qf);function Xf(t,e,n,i){if(void 0!==i){var r=t.get(e);r||(r=new Map,t.set(e,r)),r.set(n,i)}}function Zf(t){return null!=t&&"false"!=="".concat(t)}function Qf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Jf(t){return Array.isArray(t)?t:[t]}function Kf(t){return null==t?"":"string"==typeof t?t:"".concat(t,"px")}function $f(t){return t instanceof ms?t.nativeElement:t}var tp,ep,np,ip,rp,ap,op=((tp=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"buildStyles",value:function(t,e){return{display:"true"===t?e.display:"none"}}}]),e}(Hf)).\u0275fac=function(t){return sp(t||tp)},tp.\u0275prov=mt({factory:function(){return new tp},token:tp,providedIn:"root"}),tp),sp=Yn(op),lp=((ep=function(t){function e(t,n,i,r,a,o,s){var l;return _classCallCheck(this,e),(l=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i,r))).layoutConfig=a,l.platformId=o,l.serverModuleLoaded=s,l.DIRECTIVE_KEY="show-hide",l.display="",l.hasLayout=!1,l.hasFlexChild=!1,l}return _inherits(e,t),_createClass(e,[{key:"ngAfterViewInit",value:function(){this.trackExtraTriggers();for(var t=Array.from(this.nativeElement.children),e=0;e<t.length;e++)if(this.marshal.hasValue(t[e],"flex")){this.hasFlexChild=!0;break}cp.has(this.nativeElement)?this.display=cp.get(this.nativeElement):(this.display=this.getDisplayStyle(),cp.set(this.nativeElement,this.display)),this.init();var n=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===n||""===n?this.setValue(!0,""):this.triggerUpdate()}},{key:"ngOnChanges",value:function(t){var e=this;Object.keys(t).forEach((function(n){if(-1!==e.inputs.indexOf(n)){var i=n.split("."),r=i.slice(1).join("."),a=t[n].currentValue,o=""===a||0!==a&&Zf(a);"fxHide"===i[0]&&(o=!o),e.setValue(o,r)}}))}},{key:"trackExtraTriggers",value:function(){var t=this;this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach((function(e){t.marshal.trackValue(t.nativeElement,e).pipe($d(t.destroySubject)).subscribe(t.triggerUpdate.bind(t))}))}},{key:"getDisplayStyle",value:function(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}},{key:"updateWithValue",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];""!==t&&(this.addStyles(t?"true":"false",{display:this.display}),_u(this.platformId)&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap"))}}]),e}(yf)).\u0275fac=function(t){return new(t||ep)(ho(ms),ho(op),ho(Uf),ho(Yf),ho(hf),ho(Ol),ho(df))},ep.\u0275dir=ke({type:ep,features:[Xo,ts()]}),ep),cp=new WeakMap,up=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"],hp=((np=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).inputs=up,t}return _inherits(e,t),e}(lp)).\u0275fac=function(t){return dp(t||np)},np.\u0275dir=ke({type:np,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[Xo]}),np),dp=Yn(hp),fp=((ip=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:ip}),ip.\u0275inj=vt({factory:function(t){return new(t||ip)},imports:[[sf]]}),ip),pp=new Gt("cdk-dir-doc",{providedIn:"root",factory:function(){return te(Tc)}}),mp=((ap=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new al,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||ap)($t(pp,8))},ap.\u0275prov=mt({factory:function(){return new ap($t(pp,8))},token:ap,providedIn:"root"}),ap),vp=((rp=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:rp}),rp.\u0275inj=vt({factory:function(t){return new(t||rp)}}),rp),gp=["row","column","row-reverse","column-reverse"];function yp(t){var e=_slicedToArray((t=t?t.toLowerCase():"").split(" "),3),n=e[0],i=e[1],r=e[2];return gp.find((function(t){return t===n}))||(n=gp[0]),"inline"===i&&(i="inline"!==r?r:"",r="inline"),[n,bp(i),!!r]}function _p(t){return _slicedToArray(yp(t),1)[0].indexOf("row")>-1}function bp(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}var xp,wp,Cp,kp=((xp=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"buildStyles",value:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}((e=_slicedToArray(yp(t),3))[0],e[1],e[2]);var e}}]),e}(Hf)).\u0275fac=function(t){return Sp(t||xp)},xp.\u0275prov=mt({factory:function(){return new xp},token:xp,providedIn:"root"}),xp),Sp=Yn(kp),Ep=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"],Tp=((Cp=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i,n,r))).DIRECTIVE_KEY="layout",a.styleCache=Rp,a.init(),a}return _inherits(e,t),e}(yf)).\u0275fac=function(t){return new(t||Cp)(ho(ms),ho(Uf),ho(kp),ho(Yf))},Cp.\u0275dir=ke({type:Cp,features:[Xo]}),Cp),Mp=((wp=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).inputs=Ep,t}return _inherits(e,t),e}(Tp)).\u0275fac=function(t){return Ap(t||wp)},wp.\u0275dir=ke({type:wp,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Xo]}),wp),Ap=Yn(Mp),Rp=new Map;function Pp(t){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t}var Op,Lp,Ip,Dp,Np,Fp,zp,Vp,Bp,jp=((Op=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).layoutConfig=t,n}return _inherits(e,t),_createClass(e,[{key:"buildStyles",value:function(t,e){var n=_toArray(t.split(" ")),i=n[0],r=n[1],a=n.slice(2).join(" "),o=e.direction.indexOf("column")>-1?"column":"row",s=_p(o)?"max-width":"max-height",l=_p(o)?"min-width":"min-height",c=String(a).indexOf("calc")>-1,u=c||"auto"===a,h=String(a).indexOf("%")>-1&&!c,d=String(a).indexOf("px")>-1||String(a).indexOf("rem")>-1||String(a).indexOf("em")>-1||String(a).indexOf("vw")>-1||String(a).indexOf("vh")>-1,f=c||d;r="0"==r?0:r;var p=!(i="0"==i?0:i)&&!r,m={},v={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(a||""){case"":var g=!1!==this.layoutConfig.useColumnBasisZero;a="row"===o?"0%":g?"0.000000001px":"auto";break;case"initial":case"nogrow":i=0,a="auto";break;case"grow":a="100%";break;case"noshrink":r=0,a="auto";break;case"auto":break;case"none":i=0,r=0,a="auto";break;default:f||h||isNaN(a)||(a+="%"),"0%"===a&&(f=!0),"0px"===a&&(a="0%"),m=Pp(v,c?{"flex-grow":i,"flex-shrink":r,"flex-basis":f?a:"100%"}:{flex:"".concat(i," ").concat(r," ").concat(f?a:"100%")})}return m.flex||m["flex-grow"]||(m=Pp(v,c?{"flex-grow":i,"flex-shrink":r,"flex-basis":a}:{flex:"".concat(i," ").concat(r," ").concat(a)})),"0%"!==a&&"0px"!==a&&"0.000000001px"!==a&&"auto"!==a&&(m[l]=p||f&&i?a:null,m[s]=p||!u&&r?a:null),m[l]||m[s]?e.hasWrap&&(m[c?"flex-basis":"flex"]=m[s]?c?m[s]:"".concat(i," ").concat(r," ").concat(m[s]):c?m[l]:"".concat(i," ").concat(r," ").concat(m[l])):m=Pp(v,c?{"flex-grow":i,"flex-shrink":r,"flex-basis":a}:{flex:"".concat(i," ").concat(r," ").concat(a)}),Pp(m,{"box-sizing":"border-box"})}}]),e}(Hf)).\u0275fac=function(t){return new(t||Op)($t(hf))},Op.\u0275prov=mt({factory:function(){return new Op($t(hf))},token:Op,providedIn:"root"}),Op),Up=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"],Hp=((Ip=function(t){function e(t,n,i,r,a){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,r,n,a))).layoutConfig=i,o.DIRECTIVE_KEY="flex",o.direction="",o.wrap=!1,o.flexGrow="1",o.flexShrink="1",o.init(),o.parentElement&&(o.marshal.trackValue(o.parentElement,"layout").pipe($d(o.destroySubject)).subscribe(o.onLayoutChange.bind(_assertThisInitialized(o))),o.marshal.trackValue(o.nativeElement,"layout-align").pipe($d(o.destroySubject)).subscribe(o.triggerReflow.bind(_assertThisInitialized(o)))),o}return _inherits(e,t),_createClass(e,[{key:"onLayoutChange",value:function(t){var e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}},{key:"updateWithValue",value:function(t){this.direction||(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent));var e=this.direction,n=e.startsWith("row"),i=this.wrap;n&&i?this.styleCache=Xp:n&&!i?this.styleCache=qp:!n&&i?this.styleCache=Zp:n||i||(this.styleCache=Yp);var r=Gf(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(r.join(" "),{direction:e,hasWrap:i})}},{key:"triggerReflow",value:function(){var t=this.activatedValue;if(void 0!==t){var e=Gf(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}},{key:"shrink",get:function(){return this.flexShrink},set:function(t){this.flexShrink=t||"1",this.triggerReflow()}},{key:"grow",get:function(){return this.flexGrow},set:function(t){this.flexGrow=t||"1",this.triggerReflow()}}]),e}(yf)).\u0275fac=function(t){return new(t||Ip)(ho(ms),ho(Uf),ho(hf),ho(jp),ho(Yf))},Ip.\u0275dir=ke({type:Ip,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Xo]}),Ip),Gp=((Lp=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).inputs=Up,t}return _inherits(e,t),e}(Hp)).\u0275fac=function(t){return Wp(t||Lp)},Lp.\u0275dir=ke({type:Lp,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Xo]}),Lp),Wp=Yn(Gp),qp=new Map,Yp=new Map,Xp=new Map,Zp=new Map,Qp=((Dp=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"buildStyles",value:function(t,e){var n={},i=_slicedToArray(t.split(" "),2),r=i[0],a=i[1];switch(r){case"center":n["justify-content"]="center";break;case"space-around":n["justify-content"]="space-around";break;case"space-between":n["justify-content"]="space-between";break;case"space-evenly":n["justify-content"]="space-evenly";break;case"end":case"flex-end":n["justify-content"]="flex-end";break;case"start":case"flex-start":default:n["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":n["align-items"]=n["align-content"]="flex-start";break;case"center":n["align-items"]=n["align-content"]="center";break;case"end":case"flex-end":n["align-items"]=n["align-content"]="flex-end";break;case"space-between":n["align-content"]="space-between",n["align-items"]="stretch";break;case"space-around":n["align-content"]="space-around",n["align-items"]="stretch";break;case"baseline":n["align-content"]="stretch",n["align-items"]="baseline";break;case"stretch":default:n["align-items"]=n["align-content"]="stretch"}return Pp(n,{display:e.inline?"inline-flex":"flex","flex-direction":e.layout,"box-sizing":"border-box","max-width":"stretch"===a?_p(e.layout)?null:"100%":null,"max-height":"stretch"===a&&_p(e.layout)?"100%":null})}}]),e}(Hf)).\u0275fac=function(t){return Jp(t||Dp)},Dp.\u0275prov=mt({factory:function(){return new Dp},token:Dp,providedIn:"root"}),Dp),Jp=Yn(Qp),Kp=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"],$p=((Fp=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i,n,r))).DIRECTIVE_KEY="layout-align",a.layout="row",a.inline=!1,a.init(),a.marshal.trackValue(a.nativeElement,"layout").pipe($d(a.destroySubject)).subscribe(a.onLayoutChange.bind(_assertThisInitialized(a))),a}return _inherits(e,t),_createClass(e,[{key:"updateWithValue",value:function(t){var e=this.layout||"row",n=this.inline;"row"===e&&n?this.styleCache=om:"row"!==e||n?"row-reverse"===e&&n?this.styleCache=lm:"row-reverse"!==e||n?"column"===e&&n?this.styleCache=sm:"column"!==e||n?"column-reverse"===e&&n?this.styleCache=cm:"column-reverse"!==e||n||(this.styleCache=am):this.styleCache=im:this.styleCache=rm:this.styleCache=nm,this.addStyles(t,{layout:e,inline:n})}},{key:"onLayoutChange",value:function(t){var e=this,n=t.value.split(" ");this.layout=n[0],this.inline=t.value.includes("inline"),gp.find((function(t){return t===e.layout}))||(this.layout="row"),this.triggerUpdate()}}]),e}(yf)).\u0275fac=function(t){return new(t||Fp)(ho(ms),ho(Uf),ho(Qp),ho(Yf))},Fp.\u0275dir=ke({type:Fp,features:[Xo]}),Fp),tm=((Np=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).inputs=Kp,t}return _inherits(e,t),e}($p)).\u0275fac=function(t){return em(t||Np)},Np.\u0275dir=ke({type:Np,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Xo]}),Np),em=Yn(tm),nm=new Map,im=new Map,rm=new Map,am=new Map,om=new Map,sm=new Map,lm=new Map,cm=new Map,um=((Bp=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Bp}),Bp.\u0275inj=vt({factory:function(t){return new(t||Bp)},imports:[[sf,vp]]}),Bp),hm=((Vp=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Vp}),Vp.\u0275inj=vt({factory:function(t){return new(t||Vp)},imports:[[sf]]}),Vp),dm=((zp=function(){function t(e,n){_classCallCheck(this,t),_u(n)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}return _createClass(t,null,[{key:"withConfig",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ngModule:t,providers:e.serverLoaded?[{provide:hf,useValue:Object.assign(Object.assign({},uf),e)},{provide:ff,useValue:n,multi:!0},{provide:df,useValue:!0}]:[{provide:hf,useValue:Object.assign(Object.assign({},uf),e)},{provide:ff,useValue:n,multi:!0}]}}}]),t}()).\u0275mod=we({type:zp}),zp.\u0275inj=vt({factory:function(t){return new(t||zp)($t(df),$t(Ol))},imports:[[um,fp,hm],um,fp,hm]}),zp);function fm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(l(i))return pm(i,null);if(c(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return pm(r.map((function(t){return i[t]})),r)}}if("function"==typeof e[e.length-1]){var a=e.pop();return pm(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(V((function(t){return a.apply(void 0,_toConsumableArray(t))})))}return pm(e,null)}function pm(t,e){return new w((function(n){var i=t.length;if(0!==i)for(var r=new Array(i),a=0,o=0,s=function(s){var l=H(t[s]),c=!1;n.add(l.subscribe({next:function(t){c||(c=!0,o++),r[s]=t},error:function(t){return n.error(t)},complete:function(){++a!==i&&c||(o===i&&n.next(e?e.reduce((function(t,e,n){return t[e]=r[n],t}),{}):r),n.complete())}}))},l=0;l<i;l++)s(l);else n.complete()}))}var mm,vm,gm,ym,_m=new Gt("NgValueAccessor"),bm={provide:_m,useExisting:Mt((function(){return xm})),multi:!0},xm=((mm=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||mm)(ho(_s),ho(ms))},mm.\u0275dir=ke({type:mm,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Co("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(t){return e.onTouched()}))},features:[hs([bm])]}),mm),wm={provide:_m,useExisting:Mt((function(){return km})),multi:!0},Cm=new Gt("CompositionEventMode"),km=((ym=function(){function t(e,n,i){var r;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Sc()?Sc().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||ym)(ho(_s),ho(ms),ho(Cm,8))},ym.\u0275dir=ke({type:ym,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Co("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(t){return e.onTouched()}))("compositionstart",(function(t){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[hs([wm])]}),ym),Sm=((gm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||gm)},gm.\u0275dir=ke({type:gm}),gm),Em=((vm=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),e}(Sm)).\u0275fac=function(t){return Tm(t||vm)},vm.\u0275dir=ke({type:vm,features:[Xo]}),vm),Tm=Yn(Em);function Mm(){throw new Error("unimplemented")}var Am,Rm,Pm=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _inherits(e,t),_createClass(e,[{key:"validator",get:function(){return Mm()}},{key:"asyncValidator",get:function(){return Mm()}}]),e}(Sm),Om=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),Lm=((Rm=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),e}(Om)).\u0275fac=function(t){return new(t||Rm)(ho(Pm,2))},Rm.\u0275dir=ke({type:Rm,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&No("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Xo]}),Rm),Im=((Am=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),e}(Om)).\u0275fac=function(t){return new(t||Am)(ho(Em,2))},Am.\u0275dir=ke({type:Am,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&No("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Xo]}),Am);function Dm(t){return null==t||0===t.length}var Nm=new Gt("NgValidators"),Fm=new Gt("NgAsyncValidators"),zm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(Dm(e.value)||Dm(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Dm(e.value)||Dm(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Dm(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Dm(t.value)?null:zm.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(Dm(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(Dm(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Bm);return 0==e.length?null:function(t){return Um(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Bm);return 0==e.length?null:function(t){return fm(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(jm)).pipe(V(Um))}}}]),t}();function Bm(t){return null!=t}function jm(t){var e=xo(t)?H(t):t;if(!wo(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Um(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function Hm(t){return t.validate?function(e){return t.validate(e)}:t}function Gm(t){return t.validate?function(e){return t.validate(e)}:t}var Wm,qm,Ym,Xm,Zm,Qm,Jm={provide:_m,useExisting:Mt((function(){return Km})),multi:!0},Km=((Wm=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Wm)(ho(_s),ho(ms))},Wm.\u0275dir=ke({type:Wm,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Co("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[hs([Jm])]}),Wm),$m={provide:_m,useExisting:Mt((function(){return ev})),multi:!0},tv=((Ym=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Ym)},Ym.\u0275prov=mt({token:Ym,factory:Ym.\u0275fac}),Ym),ev=((qm=function(){function t(e,n,i,r){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Pm),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||qm)(ho(_s),ho(ms),ho(tv),ho(Xa))},qm.\u0275dir=ke({type:qm,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Co("change",(function(t){return e.onChange()}))("blur",(function(t){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[hs([$m])]}),qm),nv={provide:_m,useExisting:Mt((function(){return iv})),multi:!0},iv=((Xm=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Xm)(ho(_s),ho(ms))},Xm.\u0275dir=ke({type:Xm,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Co("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[hs([nv])]}),Xm),rv='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',av='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ov=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(rv))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(av,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(rv))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(av))}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),sv={provide:_m,useExisting:Mt((function(){return lv})),multi:!0},lv=((Zm=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=no}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||Zm)(ho(_s),ho(ms))},Zm.\u0275dir=ke({type:Zm,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Co("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[hs([sv])]}),Zm),cv={provide:_m,useExisting:Mt((function(){return uv})),multi:!0},uv=((Qm=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=no}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,a=0;a<r.length;a++){var o=r.item(a),s=e._getOptionValue(o.value);i.push(s)}else for(var l=n.options,c=0;c<l.length;c++){var u=l.item(c);if(u.selected){var h=e._getOptionValue(u.value);i.push(h)}}e.value=i,t(i)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||Qm)(ho(_s),ho(ms))},Qm.\u0275dir=ke({type:Qm,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Co("change",(function(t){return e.onChange(t.target)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[hs([cv])]}),Qm);function hv(t,e){return[].concat(_toConsumableArray(e.path),[t])}function dv(t,e){t||vv(e,"Cannot find control with"),e.valueAccessor||vv(e,"No value accessor for form control with"),t.validator=Vm.compose([t.validator,e.validator]),t.asyncValidator=Vm.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&fv(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&fv(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function fv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pv(t,e){null==t&&vv(e,"Cannot find control with"),t.validator=Vm.compose([t.validator,e.validator]),t.asyncValidator=Vm.composeAsync([t.asyncValidator,e.asyncValidator])}function mv(t){return vv(t,"There is no FormControl instance attached to form control element with")}function vv(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function gv(t){return null!=t?Vm.compose(t.map(Hm)):null}function yv(t){return null!=t?Vm.composeAsync(t.map(Gm)):null}var _v=[xm,iv,Km,lv,uv,ev];function bv(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function xv(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function wv(t){var e=kv(t)?t.validators:t;return Array.isArray(e)?gv(e):e||null}function Cv(t,e){var n=kv(e)?e.asyncValidators:t;return Array.isArray(n)?yv(n):n||null}function kv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Sv,Ev,Tv,Mv,Av,Rv,Pv=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=wv(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=Cv(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=jm(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var i=t;return e.forEach((function(t){i=i instanceof Lv?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Iv&&i.at(t)||null})),i}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new al,this.statusChanges=new al}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){kv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Ov=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,wv(i),Cv(r,i))))._onChange=[],t._applyFormState(n),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _inherits(e,t),_createClass(e,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),e}(Pv),Lv=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,wv(n),Cv(i,n)))).controls=t,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _inherits(e,t),_createClass(e,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Ov?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(i,r){n=n||e.contains(r)&&t(i)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,i){n=e(n,t,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),e}(Pv),Iv=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,wv(n),Cv(i,n)))).controls=t,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _inherits(e,t),_createClass(e,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Ov?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.controls[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){if(i.value.enabled)return!1}}catch(a){e=!0,n=a}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),e}(Pv),Dv={provide:Em,useExisting:Mt((function(){return Fv}))},Nv=Promise.resolve(null),Fv=((Ev=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).submitted=!1,i._directives=[],i.ngSubmit=new al,i.form=new Lv({},gv(t),yv(n)),i}return _inherits(e,t),_createClass(e,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;Nv.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),dv(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Nv.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),xv(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;Nv.then((function(){var n=e._findContainer(t.path),i=new Lv({});pv(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;Nv.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Nv.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,bv(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),e}(Em)).\u0275fac=function(t){return new(t||Ev)(ho(Nm,10),ho(Fm,10))},Ev.\u0275dir=ke({type:Ev,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Co("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hs([Dv]),Xo]}),Ev),zv=((Sv=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return hv(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return gv(this._validators)}},{key:"asyncValidator",get:function(){return yv(this._asyncValidators)}}]),e}(Em)).\u0275fac=function(t){return Vv(t||Sv)},Sv.\u0275dir=ke({type:Sv,features:[Xo]}),Sv),Vv=Yn(zv),Bv=((Tv=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Tv)},Tv.\u0275dir=ke({type:Tv,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Tv),jv=new Gt("NgModelWithFormControlWarning"),Uv={provide:Em,useExisting:Mt((function(){return Hv}))},Hv=((Mv=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._validators=t,i._asyncValidators=n,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new al,i}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return dv(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){xv(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);pv(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);pv(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,bv(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return mv(e)})),e.valueAccessor.registerOnTouched((function(){return mv(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&dv(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=gv(this._validators);this.form.validator=Vm.compose([this.form.validator,t]);var e=yv(this._asyncValidators);this.form.asyncValidator=Vm.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||ov.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),e}(Em)).\u0275fac=function(t){return new(t||Mv)(ho(Nm,10),ho(Fm,10))},Mv.\u0275dir=ke({type:Mv,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Co("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hs([Uv]),Xo,ts()]}),Mv),Gv={provide:Em,useExisting:Mt((function(){return Wv}))},Wv=((Av=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=t,r._validators=n,r._asyncValidators=i,r}return _inherits(e,t),_createClass(e,[{key:"_checkParentType",value:function(){Xv(this._parent)&&ov.groupParentException()}}]),e}(zv)).\u0275fac=function(t){return new(t||Av)(ho(Em,13),ho(Nm,10),ho(Fm,10))},Av.\u0275dir=ke({type:Av,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[hs([Gv]),Xo]}),Av),qv={provide:Em,useExisting:Mt((function(){return Yv}))},Yv=((Rv=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=t,r._validators=n,r._asyncValidators=i,r}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){Xv(this._parent)&&ov.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return hv(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return gv(this._validators)}},{key:"asyncValidator",get:function(){return yv(this._asyncValidators)}}]),e}(Em)).\u0275fac=function(t){return new(t||Rv)(ho(Em,13),ho(Nm,10),ho(Fm,10))},Rv.\u0275dir=ke({type:Rv,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[hs([qv]),Xo]}),Rv);function Xv(t){return!(t instanceof Wv||t instanceof Hv||t instanceof Yv)}var Zv,Qv,Jv,Kv,$v,tg,eg={provide:Pm,useExisting:Mt((function(){return ng}))},ng=((tg=function(t){function e(t,n,i,r,a){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._ngModelWarningConfig=a,o._added=!1,o.update=new al,o._ngModelWarningSent=!1,o._parent=t,o._rawValidators=n||[],o._rawAsyncValidators=i||[],o.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||vv(t,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return e.forEach((function(e){var a;e.constructor===km?n=e:(a=e,_v.some((function(t){return a.constructor===t}))?(i&&vv(t,"More than one built-in value accessor matches form control with"),i=e):(r&&vv(t,"More than one custom value accessor matches form control with"),r=e))})),r||i||n||(vv(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(o),r),o}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){var n,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!no(e,n.currentValue)}(t,this.viewModel)&&(n=e,i=this._ngModelWarningConfig,ci()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(ov.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Wv)&&this._parent instanceof zv?ov.ngModelGroupException():this._parent instanceof Wv||this._parent instanceof Hv||this._parent instanceof Yv||ov.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){ov.disabledAttrWarning()}},{key:"path",get:function(){return hv(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return gv(this._rawValidators)}},{key:"asyncValidator",get:function(){return yv(this._rawAsyncValidators)}}]),e}(Pm)).\u0275fac=function(t){return new(t||tg)(ho(Em,13),ho(Nm,10),ho(Fm,10),ho(_m,10),ho(jv,8))},tg.\u0275dir=ke({type:tg,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[hs([eg]),Xo,ts()]}),tg._ngModelWarningSentOnce=!1,tg),ig=(($v=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:$v}),$v.\u0275inj=vt({factory:function(t){return new(t||$v)}}),$v),rg=((Kv=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),i=null,r=null,a=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,a=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new Lv(n,{asyncValidators:r,updateOn:a,validators:i})}},{key:"control",value:function(t,e,n){return new Ov(t,e,n)}},{key:"array",value:function(t,e,n){var i=this,r=t.map((function(t){return i._createControl(t)}));return new Iv(r,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e._createControl(t[i])})),n}},{key:"_createControl",value:function(t){return t instanceof Ov||t instanceof Lv||t instanceof Iv?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Kv)},Kv.\u0275prov=mt({token:Kv,factory:Kv.\u0275fac}),Kv),ag=((Jv=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Jv}),Jv.\u0275inj=vt({factory:function(t){return new(t||Jv)},providers:[tv],imports:[ig]}),Jv),og=((Qv=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:jv,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=we({type:Qv}),Qv.\u0275inj=vt({factory:function(t){return new(t||Qv)},providers:[rg,tv],imports:[ig]}),Qv);function sg(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}try{Zv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(AU){Zv=!1}var lg,cg,ug,hg=((ug=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?yu(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Zv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||ug)($t(Ol,8))},ug.\u0275prov=mt({factory:function(){return new ug($t(Ol,8))},token:ug,providedIn:"root"}),ug),dg=((cg=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:cg}),cg.\u0275inj=vt({factory:function(t){return new(t||cg)}}),cg);function fg(t){return function(){if(null==lg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return lg=!0}}))}finally{lg=lg||!1}return lg}()?t:!!t.capture}var pg,mg,vg,gg,yg,_g=((gg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).\u0275fac=function(t){return new(t||gg)},gg.\u0275prov=mt({factory:function(){return new gg},token:gg,providedIn:"root"}),gg),bg=((vg=function(){function t(e){_classCallCheck(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=$f(t);return new w((function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new M,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}()).\u0275fac=function(t){return new(t||vg)($t(_g))},vg.\u0275prov=mt({factory:function(){return new vg($t(_g))},token:vg,providedIn:"root"}),vg),xg=((mg=function(){function t(e,n,i){_classCallCheck(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new al,this._disabled=!1,this._currentSubscription=null}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(Zd(t.debounce)):e).subscribe(t.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Zf(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=Qf(t),this._subscribe()}}]),t}()).\u0275fac=function(t){return new(t||mg)(ho(bg),ho(ms),ho(Xl))},mg.\u0275dir=ke({type:mg,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),mg),wg=((pg=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:pg}),pg.\u0275inj=vt({factory:function(t){return new(t||pg)},providers:[_g]}),pg),Cg=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._origin="program",t}return _inherits(e,t),_createClass(e,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){_get(_getPrototypeOf(e.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),e}(function(){function t(e){var n=this;_classCallCheck(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new M,this._typeaheadSubscription=d.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new M,this.change=new M,e instanceof sl&&e.changes.subscribe((function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}}))}return _createClass(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Fh((function(e){return t._pressedLetters.push(e)})),Zd(e),Th((function(){return t._pressedLetters.length>0})),V((function(){return t._pressedLetters.join("")}))).subscribe((function(e){for(var n=t._getItemsArray(),i=1;i<n.length+1;i++){var r=(t._activeItemIndex+i)%n.length,a=n[r];if(!t._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(r);break}}t._pressedLetters=[]})),this}},{key:"setActiveItem",value:function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((i||sg(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof sl?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}()),kg=((yg=function(){function t(e){_classCallCheck(this,t),this._platform=e}return _createClass(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(AU){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var i=n&&n.nodeName.toLowerCase();if(-1===Eg(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===i)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var r=t.nodeName.toLowerCase(),a=Eg(t);if(t.hasAttribute("contenteditable"))return-1!==a;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}},{key:"isFocusable",value:function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Sg(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}]),t}()).\u0275fac=function(t){return new(t||yg)($t(hg))},yg.\u0275prov=mt({factory:function(){return new yg($t(hg))},token:yg,providedIn:"root"}),yg);function Sg(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Eg(t){if(!Sg(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var Tg,Mg=function(){function t(e,n,i,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return a.focusLastTabbableElement()},this.endAnchorListener=function(){return a.focusFirstTabbableElement()},this._enabled=!0,o||this.attachAnchors()}return _createClass(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], ")+"[cdkFocusRegion".concat(t,"], ")+"[cdk-focus-".concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-".concat(t))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated ")+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute("cdk-focus-region-".concat(t))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated attribute ")+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),ci()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Ih(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),Ag=((Tg=function(){function t(e,n,i){_classCallCheck(this,t),this._checker=e,this._ngZone=n,this._document=i}return _createClass(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Mg(t,this._checker,this._ngZone,this._document,e)}}]),t}()).\u0275fac=function(t){return new(t||Tg)($t(kg),$t(Xl),$t(Tc))},Tg.\u0275prov=mt({factory:function(){return new Tg($t(kg),$t(Xl),$t(Tc))},token:Tg,providedIn:"root"}),Tg);"undefined"!=typeof Element&&Element;var Rg,Pg,Og,Lg,Ig=fg({passive:!0,capture:!0}),Dg=((Lg=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){i._lastTouchTarget=null,i._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){i._lastTouchTarget||i._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=i._touchTimeoutId&&clearTimeout(i._touchTimeoutId),i._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,i._touchTimeoutId=setTimeout((function(){return i._lastTouchTarget=null}),650)},this._windowFocusListener=function(){i._windowFocused=!0,i._windowFocusTimeoutId=setTimeout((function(){return i._windowFocused=!1}))}}return _createClass(t,[{key:"monitor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Ch(null);var i=$f(t);if(this._elementInfo.has(i)){var r=this._elementInfo.get(i);return r.checkChildren=n,r.subject.asObservable()}var a={unlisten:function(){},checkChildren:n,subject:new M};this._elementInfo.set(i,a),this._incrementMonitoredElementCount();var o=function(t){return e._onFocus(t,i)},s=function(t){return e._onBlur(t,i)};return this._ngZone.runOutsideAngular((function(){i.addEventListener("focus",o,!0),i.addEventListener("blur",s,!0)})),a.unlisten=function(){i.removeEventListener("focus",o,!0),i.removeEventListener("blur",s,!0)},a.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=$f(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}},{key:"focusVia",value:function(t,e,n){var i=$f(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_setClasses",value:function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,e._originTimeoutId=setTimeout((function(){return e._origin=null}),1)}))}},{key:"_wasCausedByTouch",value:function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===t.target)){var i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_incrementMonitoredElementCount",value:function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular((function(){document.addEventListener("keydown",t._documentKeydownListener,Ig),document.addEventListener("mousedown",t._documentMousedownListener,Ig),document.addEventListener("touchstart",t._documentTouchstartListener,Ig),window.addEventListener("focus",t._windowFocusListener)}))}},{key:"_decrementMonitoredElementCount",value:function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Ig),document.removeEventListener("mousedown",this._documentMousedownListener,Ig),document.removeEventListener("touchstart",this._documentTouchstartListener,Ig),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}]),t}()).\u0275fac=function(t){return new(t||Lg)($t(Xl),$t(hg))},Lg.\u0275prov=mt({factory:function(){return new Lg($t(Xl),$t(hg))},token:Lg,providedIn:"root"}),Lg),Ng=((Og=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._elementRef=e,this._focusMonitor=n,this.cdkFocusChange=new al,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe((function(t){return i.cdkFocusChange.emit(t)}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Og)(ho(ms),ho(Dg))},Og.\u0275dir=ke({type:Og,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),Og),Fg=((Pg=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._document=n}return _createClass(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=(this._document.defaultView.getComputedStyle(t).backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),e){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||Pg)($t(hg),$t(Tc))},Pg.\u0275prov=mt({factory:function(){return new Pg($t(hg),$t(Tc))},token:Pg,providedIn:"root"}),Pg),zg=((Rg=function t(e){_classCallCheck(this,t),e._applyBodyHighContrastModeCssClasses()}).\u0275mod=we({type:Rg}),Rg.\u0275inj=vt({factory:function(t){return new(t||Rg)($t(Fg))},imports:[[dg,wg]]}),Rg),Vg=new ws("9.1.0");function Bg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return R(i)?(e.pop(),function(t){return Sh(e,t,i)}):function(t){return Sh(e,t)}}var jg=function t(){_classCallCheck(this,t)};function Ug(t,e){return{type:7,name:t,definitions:e,options:{}}}function Hg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function Gg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Wg(t){return{type:6,styles:t,offset:null}}function qg(t,e,n){return{type:0,name:t,styles:e,options:n}}function Yg(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function Xg(t){Promise.resolve(null).then(t)}var Zg=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Xg((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),Qg=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,r=0,a=0,o=this.players.length;0==o?Xg((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++i==o&&n._onFinish()})),t.onDestroy((function(){++r==o&&n._onDestroy()})),t.onStart((function(){++a==o&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function Jg(){return"undefined"!=typeof process}function Kg(t){switch(t.length){case 0:return new Zg;case 1:return t[0];default:return new Qg(t)}}function $g(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],l=-1,c=null;if(i.forEach((function(t){var n=t.offset,i=n==l,u=i&&c||{};Object.keys(t).forEach((function(n){var i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),s){case"!":s=r[n];break;case"*":s=a[n];break;default:s=e.normalizeStyleValue(n,i,s,o)}u[i]=s})),i||s.push(u),c=u,l=n})),o.length){var u="\n - ";throw new Error("Unable to animate due to the following errors:".concat(u).concat(o.join(u)))}return s}function ty(t,e,n,i){switch(e){case"start":t.onStart((function(){return i(n&&ey(n,"start",t))}));break;case"done":t.onDone((function(){return i(n&&ey(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return i(n&&ey(n,"destroy",t))}))}}function ey(t,e,n){var i=n.totalTime,r=ny(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),a=t._data;return null!=a&&(r._data=a),r}function ny(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:a,disabled:!!o}}function iy(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function ry(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var ay=function(t,e){return!1},oy=function(t,e){return!1},sy=function(t,e,n){return[]},ly=Jg();(ly||"undefined"!=typeof Element)&&(ay=function(t,e){return t.contains(e)},oy=function(){if(ly||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:oy}(),sy=function(t,e,n){var i=[];if(n)i.push.apply(i,_toConsumableArray(t.querySelectorAll(e)));else{var r=t.querySelector(e);r&&i.push(r)}return i});var cy=null,uy=!1;function hy(t){cy||(cy=("undefined"!=typeof document?document.body:null)||{},uy=!!cy.style&&"WebkitAppearance"in cy.style);var e=!0;return cy.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in cy.style)&&uy)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in cy.style),e}var dy=oy,fy=ay,py=sy;function my(t){var e={};return Object.keys(t).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]})),e}var vy,gy=((vy=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return hy(t)}},{key:"matchesElement",value:function(t,e){return dy(t,e)}},{key:"containsElement",value:function(t,e){return fy(t,e)}},{key:"query",value:function(t,e,n){return py(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new Zg(n,i)}}]),t}()).\u0275fac=function(t){return new(t||vy)},vy.\u0275prov=mt({token:vy,factory:vy.\u0275fac}),vy),yy=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new gy,t}();function _y(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:by(parseFloat(e[1]),e[2])}function by(t,e){switch(e){case"s":return 1e3*t;default:return t}}function xy(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=0,a="";if("string"==typeof t){var o=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=by(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(r=by(parseFloat(s),o[4]));var l=o[5];l&&(a=l)}else i=t;if(!n){var c=!1,u=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(u,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:r,easing:a}}(t,e,n)}function wy(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Cy(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else wy(t,n);return n}function ky(t,e,n){return n?e+":"+n+";":""}function Sy(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=ky(0,i,t.style.getPropertyValue(i))}for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=ky(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function Ey(t,e,n){t.style&&(Object.keys(e).forEach((function(i){var r=Iy(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]})),Jg()&&Sy(t))}function Ty(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=Iy(e);t.style[n]=""})),Jg()&&Sy(t))}function My(t){return Array.isArray(t)?1==t.length?t[0]:Gg(t):t}var Ay=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ry(t){var e=[];if("string"==typeof t){for(var n;n=Ay.exec(t);)e.push(n[1]);Ay.lastIndex=0}return e}function Py(t,e,n){var i=t.toString(),r=i.replace(Ay,(function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()}));return r==i?t:r}function Oy(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Ly=/-+([a-z0-9])/g;function Iy(t){return t.replace(Ly,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function Dy(t,e){return 0===t||0===e}function Ny(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],a=[];if(i.forEach((function(t){r.hasOwnProperty(t)||a.push(t),r[t]=n[t]})),a.length)for(var o=function(){var n=e[s];a.forEach((function(e){n[e]=zy(t,e)}))},s=1;s<e.length;s++)o()}return e}function Fy(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function zy(t,e){return window.getComputedStyle(t)[e]}var Vy=new Set(["true","1"]),By=new Set(["false","0"]);function jy(t,e){var n=Vy.has(t)||By.has(t),i=Vy.has(e)||By.has(e);return function(r,a){var o="*"==t||t==r,s="*"==e||e==a;return!o&&n&&"boolean"==typeof r&&(o=r?Vy.has(t):By.has(t)),!s&&i&&"boolean"==typeof a&&(s=a?Vy.has(e):By.has(e)),o&&s}}var Uy=new RegExp("s*:selfs*,?","g");function Hy(t,e,n){return new Gy(t).build(e,n)}var Gy=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new Wy(e);return this._resetContextStyleTimingState(n),Fy(this,My(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,a=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,l=s.name;l.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,a.push(n.visitState(s,e))})),s.name=l}else if(1==t.type){var c=n.visitTransition(t,e);i+=c.queryCount,r+=c.depCount,o.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:a,transitions:o,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,a=i||{};if(n.styles.forEach((function(t){if(qy(t)){var e=t;Object.keys(e).forEach((function(t){Ry(e[t]).forEach((function(t){a.hasOwnProperty(t)||r.add(t)}))}))}})),r.size){var o=Oy(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,i,r,a=Fy(this,My(t.animation),e);return{type:1,matchers:(n=t.expr,i=e.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var a=r[1],o=r[2],s=r[3];e.push(jy(a,s)),"<"!=o[0]||"*"==a&&"*"==s||e.push(jy(s,a))}(t,r,i)})):r.push(n),r),animation:a,queryCount:e.queryCount,depCount:e.depCount,options:Yy(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return Fy(n,t,e)})),options:Yy(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,a=t.steps.map((function(t){e.currentTime=i;var a=Fy(n,t,e);return r=Math.max(r,e.currentTime),a}));return e.currentTime=r,{type:3,steps:a,options:Yy(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Xy(xy(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var r=Xy(0,0,"");return r.dynamic=!0,r.strValue=i,r}return Xy((n=n||xy(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var r=t.styles?t.styles:Wg({});if(5==r.type)n=this.visitKeyframes(r,e);else{var a=t.styles,o=!1;if(!a){o=!0;var s={};i.easing&&(s.easing=i.easing),a=Wg(s)}e.currentTime+=i.duration+i.delay;var l=this.visitStyle(a,e);l.isEmptyStep=o,n=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var i=!1,r=null;return n.forEach((function(t){if(qy(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var a in e)if(e[a].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(i){if(n._driver.validateStyleProperty(i)){var o,s,l,c,u,h=e.collectedStyles[e.currentQuerySelector],d=h[i],f=!0;d&&(a!=r&&a>=d.startTime&&r<=d.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(r,'ms"')),f=!1),a=d.startTime),f&&(h[i]={startTime:a,endTime:r}),e.options&&(o=t[i],s=e.options,l=e.errors,c=s.params||{},(u=Ry(o)).length&&u.forEach((function(t){c.hasOwnProperty(t)||l.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,a=[],o=!1,s=!1,l=0,c=t.steps.map((function(t){var i=n._makeStyleAst(t,e),c=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(qy(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(qy(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),u=0;return null!=c&&(r++,u=i.offset=c),s=s||u<0||u>1,o=o||u<l,l=u,a.push(u),i}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");var u=t.steps.length,h=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(u-1));var d=u-1,f=e.currentTime,p=e.currentAnimateTimings,m=p.duration;return c.forEach((function(t,r){var o=h>0?r==d?1:h*r:a[r],s=o*m;e.currentTime=f+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=o,i.styles.push(t)})),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:Fy(this,My(t.animation),e),options:Yy(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Yy(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Yy(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;var r=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Uy,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=r[0],o=r[1];e.currentQuerySelector=n.length?n+" "+a:a,iy(e.collectedStyles,e.currentQuerySelector,{});var s=Fy(this,My(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Yy(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:xy(t.timings,e.errors,!0);return{type:12,animation:Fy(this,My(t.animation),e),timings:n,options:null}}}]),t}(),Wy=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function qy(t){return!Array.isArray(t)&&"object"==typeof t}function Yy(t){var e;return t?(t=wy(t)).params&&(t.params=(e=t.params)?wy(e):null):t={},t}function Xy(t,e,n){return{duration:t,delay:e,easing:n}}function Zy(t,e,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:o,subTimeline:s}}var Qy=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Jy=new RegExp(":enter","g"),Ky=new RegExp(":leave","g");function $y(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new t_).buildKeyframes(t,e,n,i,r,a,o,s,l,c)}var t_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,a,o,s,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new Qy;var u=new n_(t,e,l,i,r,c,[]);u.options=s,u.currentTimeline.setStyles([a],null,u.errors,s),Fy(this,n,u);var h=u.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(o).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([o],null,u.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[Zy(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,i,i.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?_y(n.duration):null,a=null!=n.delay?_y(n.delay):null;return 0!==r&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,r,a);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Fy(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,a=t.options;if(a&&(a.params||a.delay)&&((r=e.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=e_);var o=_y(a.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach((function(t){return Fy(n,t,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,a=t.options&&t.options.delay?_y(t.options.delay):0;t.steps.forEach((function(o){var s=e.createSubContext(t.options);a&&s.delayNextStep(a),Fy(n,o,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)})),i.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return xy(e.params?Py(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach((function(t){a.forwardTime((t.offset||0)*r),a.setStyles(t.styles,t.easing,e.errors,e.options),a.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},a=r.delay?_y(r.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=e_);var o=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;var l=null;s.forEach((function(i,r){e.currentQueryIndex=r;var s=e.createSubContext(t.options,i);a&&s.delayNextStep(a),i===e.element&&(l=s.currentTimeline),Fy(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),o=a*(e.currentQueryTotal-1),s=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var l=e.currentTimeline;s&&l.delayNextStep(s);var c=l.currentTime;Fy(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}]),t}(),e_={},n_=function(){function t(e,n,i,r,a,o,s,l){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=e_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new i_(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=_y(i.duration)),null!=i.delay&&(r.delay=_y(i.delay));var a=i.params;if(a){var o=r.params;o||(o=this.options.params={}),Object.keys(a).forEach((function(t){e&&o.hasOwnProperty(t)||(o[t]=Py(a[t],o,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,a=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=e_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new r_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,r,a){var o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(Jy,"."+this._enterClassName)).replace(Ky,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push.apply(o,_toConsumableArray(s))}return r||0!=o.length||a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),o}},{key:"params",get:function(){return this.options.params}}]),t}(),i_=function(){function t(e,n,i,r){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var a=i&&i.params||{},o=function(t,e){var n,i={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){i[t]="*"})):Cy(t,!1,i)})),i}(t,this._globalTimelineStyles);Object.keys(o).forEach((function(t){var e=Py(o[t],a,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:"*"),r._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(a,o){var s=Cy(a,!0);Object.keys(s).forEach((function(t){var i=s[t];"!"==i?e.add(t):"*"==i&&n.add(t)})),i||(s.offset=o/t.duration),r.push(s)}));var a=e.size?Oy(e.values()):[],o=n.size?Oy(n.values()):[];if(i){var s=r[0],l=wy(s);s.offset=0,l.offset=1,r=[s,l]}return Zy(this.element,r,a,o,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),r_=function(t){function e(t,n,i,r,a,o){var s,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,o.delay))).element=n,s.keyframes=i,s.preStyleProps=r,s.postStyleProps=a,s._stretchStartingKeyframe=l,s.timings={duration:o.duration,delay:o.delay,easing:o.easing},s}return _inherits(e,t),_createClass(e,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=i+n,s=n/o,l=Cy(t[0],!1);l.offset=0,a.push(l);var c=Cy(t[0],!1);c.offset=a_(s),a.push(c);for(var u=t.length-1,h=1;h<=u;h++){var d=Cy(t[h],!1);d.offset=a_((n+d.offset*i)/o),a.push(d)}i=o,n=0,r="",t=a}return Zy(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),e}(i_);function a_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var o_=function t(){_classCallCheck(this,t)},s_=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"normalizePropertyName",value:function(t,e){return Iy(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",a=n.toString().trim();if(l_[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return a+r}}]),e}(o_),l_=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function c_(t,e,n,i,r,a,o,s,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:a,toState:i,toStyles:o,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}var u_={},h_=function(){function t(e,n,i){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return _createClass(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some((function(t){return t(e,n,i,r)}))}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],a=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):a}},{key:"build",value:function(t,e,n,i,r,a,o,s,l,c){var u=[],h=this.ast.options&&this.ast.options.params||u_,d=this.buildStyles(n,o&&o.params||u_,u),f=s&&s.params||u_,p=this.buildStyles(i,f,u),m=new Set,v=new Map,g=new Map,y="void"===i,_={params:Object.assign(Object.assign({},h),f)},b=c?[]:$y(t,e,this.ast.animation,r,a,d,p,_,l,u),x=0;if(b.forEach((function(t){x=Math.max(t.duration+t.delay,x)})),u.length)return c_(e,this._triggerName,n,i,y,d,p,[],[],v,g,x,u);b.forEach((function(t){var n=t.element,i=iy(v,n,{});t.preStyleProps.forEach((function(t){return i[t]=!0}));var r=iy(g,n,{});t.postStyleProps.forEach((function(t){return r[t]=!0})),n!==e&&m.add(n)}));var w=Oy(m.values());return c_(e,this._triggerName,n,i,y,d,p,b,w,v,g,x)}}]),t}(),d_=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},i=wy(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(i[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach((function(t){var a=r[t];a.length>1&&(a=Py(a,i,e)),n[t]=a}))}})),n}}]),t}(),f_=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){i.states[t.name]=new d_(t.style,t.options&&t.options.params||{})})),p_(this.states,"true","1"),p_(this.states,"false","0"),n.transitions.forEach((function(t){i.transitionFactories.push(new h_(e,t,i.states))})),this.fallbackTransition=new h_(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find((function(r){return r.match(t,e,n,i)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function p_(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var m_=new Qy,v_=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],i=Hy(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=$g(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[t],s=new Map;if(o?(n=$y(this._driver,e,o,"ng-enter","ng-leave",{},{},r,m_,a)).forEach((function(t){var e=iy(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=i._driver.computeStyle(e,n,"*")}))}));var l=Kg(n.map((function(t){var e=s.get(t.element);return i._buildPlayer(t,{},e)})));return this._playersById[t]=l,l.onDestroy((function(){return i.destroy(t)})),this.players.push(l),l}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,i){var r=ny(e,"","","");return ty(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),g_=[],y_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},__={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},b_=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var i,r=e&&e.hasOwnProperty("value");if(this.value=null!=(i=r?e.value:e)?i:null,r){var a=wy(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),x_=new b_("void"),w_=function(){function t(e,n,i){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,A_(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,i){var r,a=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var o=iy(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);var l=iy(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(A_(t,"ng-trigger"),A_(t,"ng-trigger-"+e),l[e]=x_),function(){a._engine.afterFlush((function(){var t=o.indexOf(s);t>=0&&o.splice(t,1),a._triggers[e]||delete l[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(e),o=new k_(this.id,e,t),s=this._engine.statesByElement.get(t);s||(A_(t,"ng-trigger"),A_(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var l=s[e],c=new b_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s[e]=c,l||(l=x_),"void"===c.value||l.value!==c.value){var u=iy(this._engine.playersByElement,t,[]);u.forEach((function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=a.matchTransition(l.value,c.value,t,c.params),d=!1;if(!h){if(!r)return;h=a.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:l,toState:c,player:o,isFallbackTransition:d}),d||(A_(t,"ng-animate-queued"),o.onStart((function(){R_(t,"ng-animate-queued")}))),o.onDone((function(){var e=i.players.indexOf(o);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(o);r>=0&&n.splice(r,1)}})),this.players.push(o),u.push(o),o}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var a=n[r];if(!e.hasOwnProperty(a)||t[a]!==e[a])return!1}return!0}(l.params,c.params)){var f=[],p=a.matchStyles(l.value,l.params,f),m=a.matchStyles(c.value,c.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush((function(){Ty(t,p),Ey(t,m)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,i){e._elementListeners.set(i,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,i=this._engine.driver.query(t,".ng-trigger",!0);i.forEach((function(t){if(!t.__ng_removed){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return i.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,a=this._engine.statesByElement.get(t);if(a){var o=[];if(Object.keys(a).forEach((function(e){if(r._triggers[e]){var n=r.trigger(t,e,"void",i);n&&o.push(n)}})),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Kg(o).onDone((function(){return r._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var i=new Set;n.forEach((function(n){var r=n.name;if(!i.has(r)){i.add(r);var a=e._triggers[r].fallbackTransition,o=e._engine.statesByElement.get(t)[r]||x_,s=new b_("void"),l=new k_(e.id,r,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:r,transition:a,fromState:o,toState:s,player:l,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)r=!0;else for(var o=t;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==y_||(i.afterFlush((function(){return n.clearElementCache(t)})),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){A_(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(i){var r=i.player;if(!r.destroyed){var a=i.element,o=e._elementListeners.get(a);o&&o.forEach((function(e){if(e.name==i.triggerName){var n=ny(a,i.triggerName,i.fromState.value,i.toState.value);n._data=t,ty(i.player,e.phase,n,e.callback)}})),r.markedForDestroy?e._engine.afterFlush((function(){r.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),C_=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new w_(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var a=n[i[r]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&e.add(o)}}return e}},{key:"trigger",value:function(t,e,n,i){if(S_(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(S_(e)){var r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){var o=this._fetchNamespace(t);o&&o.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),A_(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),R_(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,i){if(S_(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return S_(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return Kg(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=y_,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)A_(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,e)}finally{for(var a=0;a<r.length;a++)r[a]()}}else for(var o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Kg(n).onDone((function(){s.forEach((function(t){return t()}))})):s.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new Qy,r=[],a=new Map,o=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach((function(t){u.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)u.add(e[i])}));var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=M_(d,this.collectedEnterElements),p=new Map,m=0;f.forEach((function(t,e){var n="ng-enter"+m++;p.set(e,n),t.forEach((function(t){return A_(t,n)}))}));for(var v=[],g=new Set,y=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],x=b.__ng_removed;x&&x.setForRemoval&&(v.push(b),g.add(b),x.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return g.add(t)})):y.add(b))}var w=new Map,C=M_(d,Array.from(g));C.forEach((function(t,e){var n="ng-leave"+m++;w.set(e,n),t.forEach((function(t){return A_(t,n)}))})),t.push((function(){f.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return R_(t,n)}))})),C.forEach((function(t,e){var n=w.get(e);t.forEach((function(t){return R_(t,n)}))})),v.forEach((function(t){n.processLeaveNode(t)}))}));for(var k=[],S=[],E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach((function(t){var e=t.player,a=t.element;if(k.push(e),n.collectedEnterElements.length){var u=a.__ng_removed;if(u&&u.setForMove)return void e.destroy()}var d=!h||!n.driver.containsElement(h,a),f=w.get(a),m=p.get(a),v=n._buildInstruction(t,i,m,f,d);if(!v.errors||!v.errors.length)return d?(e.onStart((function(){return Ty(a,v.fromStyles)})),e.onDestroy((function(){return Ey(a,v.toStyles)})),void r.push(e)):t.isFallbackTransition?(e.onStart((function(){return Ty(a,v.fromStyles)})),e.onDestroy((function(){return Ey(a,v.toStyles)})),void r.push(e)):(v.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),i.append(a,v.timelines),o.push({instruction:v,player:e,element:a}),v.queriedElements.forEach((function(t){return iy(s,t,[]).push(e)})),v.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var i=l.get(e);i||l.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))}})),void v.postStyleProps.forEach((function(t,e){var n=Object.keys(t),i=c.get(e);i||c.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))})));S.push(v)}));if(S.length){var T=[];S.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),k.forEach((function(t){return t.destroy()})),this.reportError(T)}var M=new Map,A=new Map;o.forEach((function(t){var e=t.element;i.has(e)&&(A.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,M))})),r.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){iy(M,e,[]).push(t),t.destroy()}))}));var R=v.filter((function(t){return O_(t,l,c)})),P=new Map;T_(P,this.driver,y,c,"*").forEach((function(t){O_(t,l,c)&&R.push(t)}));var O=new Map;f.forEach((function(t,e){T_(O,n.driver,new Set(t),l,"!")})),R.forEach((function(t){var e=P.get(t),n=O.get(t);P.set(t,Object.assign(Object.assign({},e),n))}));var L=[],I=[],D={};o.forEach((function(t){var e=t.element,o=t.player,s=t.instruction;if(i.has(e)){if(u.has(e))return o.onDestroy((function(){return Ey(e,s.toStyles)})),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);var l=D;if(A.size>1){for(var c=e,h=[];c=c.parentNode;){var d=A.get(c);if(d){l=d;break}h.push(c)}h.forEach((function(t){return A.set(t,l)}))}var f=n._buildAnimation(o.namespaceId,s,M,a,O,P);if(o.setRealPlayer(f),l===D)L.push(o);else{var p=n.playersByElement.get(l);p&&p.length&&(o.parentPlayer=Kg(p)),r.push(o)}}else Ty(e,s.fromStyles),o.onDestroy((function(){return Ey(e,s.toStyles)})),I.push(o),u.has(e)&&r.push(o)})),I.forEach((function(t){var e=a.get(t.element);if(e&&e.length){var n=Kg(e);t.setRealPlayer(n)}})),r.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var N=0;N<v.length;N++){var F=v[N],z=F.__ng_removed;if(R_(F,"ng-leave"),!z||!z.hasAnimation){var V=[];if(s.size){var B=s.get(F);B&&B.length&&V.push.apply(V,_toConsumableArray(B));for(var j=this.driver.query(F,".ng-animating",!0),U=0;U<j.length;U++){var H=s.get(j[U]);H&&H.length&&V.push.apply(V,_toConsumableArray(H))}}var G=V.filter((function(t){return!t.destroyed}));G.length?P_(this,F,G):this.processLeaveNode(F)}}return v.length=0,L.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),L}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var a=[];if(e){var o=this.playersByQueriedElement.get(t);o&&(a=o)}else{var s=this.playersByElement.get(t);if(s){var l=!r||"void"==r;s.forEach((function(t){t.queued||(l||t.triggerName==i)&&a.push(t)}))}}return(n||i)&&(a=a.filter((function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)}))),a}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i=this,r=e.element,a=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName,s=!0,l=!1,c=void 0;try{for(var u,h=function(){var t=u.value.element,s=t!==r,l=iy(n,t,[]);i._getPreviousPlayers(t,s,a,o,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)}))},d=e.timelines[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)h()}catch(f){l=!0,c=f}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}Ty(r,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,a){var o=this,s=e.triggerName,l=e.element,c=[],u=new Set,h=new Set,d=e.timelines.map((function(e){var d=e.element;u.add(d);var f=d.__ng_removed;if(f&&f.removedBeforeQueried)return new Zg(e.duration,e.delay);var p,m,v=d!==l,g=(p=(n.get(d)||g_).map((function(t){return t.getRealPlayer()})),m=[],function t(e,n){for(var i=0;i<e.length;i++){var r=e[i];r instanceof Qg?t(r.players,n):n.push(r)}}(p,m),m).filter((function(t){return!!t.element&&t.element===d})),y=r.get(d),_=a.get(d),b=$g(0,o._normalizer,0,e.keyframes,y,_),x=o._buildPlayer(e,b,g);if(e.subTimeline&&i&&h.add(d),v){var w=new k_(t,s,d);w.setRealPlayer(x),c.push(w)}return x}));c.forEach((function(t){iy(o.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var a=i.indexOf(n);i.splice(a,1)}0==i.length&&delete t[e]}return i}(o.playersByQueriedElement,t.element,t)}))})),u.forEach((function(t){return A_(t,"ng-animating")}));var f=Kg(d);return f.onDestroy((function(){u.forEach((function(t){return R_(t,"ng-animating")})),Ey(l,e.toStyles)})),h.forEach((function(t){iy(i,t,[]).push(f)})),f}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Zg(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),k_=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Zg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return ty(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){iy(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function S_(t){return t&&1===t.nodeType}function E_(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function T_(t,e,n,i,r){var a=[];n.forEach((function(t){return a.push(E_(t))}));var o=[];i.forEach((function(n,i){var a={};n.forEach((function(t){var n=a[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=__,o.push(i))})),t.set(i,a)}));var s=0;return n.forEach((function(t){return E_(t,a[s++])})),o}function M_(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var i=new Set(e),r=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var a=r.get(e);if(a)return a;var o=e.parentNode;return a=n.has(o)?o:i.has(o)?1:t(o),r.set(e,a),a}(t);1!==e&&n.get(e).push(t)})),n}function A_(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function R_(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function P_(t,e,n){Kg(n).onDone((function(){return t.processLeaveNode(e)}))}function O_(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach((function(t){return r.add(t)})):e.set(t,i),n.delete(t),!0}var L_=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new C_(e,n,i),this._timelineEngine=new v_(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var a=t+"-"+i,o=this._triggerCache[a];if(!o){var s=[],l=Hy(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(t,e){return new f_(t,e)}(i,l),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,i,o)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,i){if("@"==n.charAt(0)){var r=_slicedToArray(ry(n),2),a=r[0],o=r[1];this._timelineEngine.command(a,e,o,i)}else this._transitionEngine.trigger(t,e,n,i)}},{key:"listen",value:function(t,e,n,i,r){if("@"==n.charAt(0)){var a=_slicedToArray(ry(n),2),o=a[0],s=a[1];return this._timelineEngine.listen(o,e,s,r)}return this._transitionEngine.listen(t,e,n,i,r)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function I_(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=N_(e[0]),e.length>1&&(i=N_(e[e.length-1]))):e&&(n=N_(e)),n||i?new D_(t,n,i):null}var D_=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Ey(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Ey(this._element,this._initialStyles),this._endStyles&&(Ey(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ty(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ty(this._element,this._endStyles),this._endStyles=null),Ey(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function N_(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];F_(r)&&((e=e||{})[r]=t[r])}return e}function F_(t){return"display"===t||"position"===t}var z_=function(){function t(e,n,i,r,a,o,s){var l=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return l._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=G_(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),H_(t,"",e),U_(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){V_(this._element,this._name,"paused")}},{key:"resume",value:function(){V_(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=B_(this._element,this._name);this._position=t*this._duration,H_(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),U_(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=G_(t,"").split(","),(i=j_(n,e))>=0&&(n.splice(i,1),H_(t,"",n.join(","))))}}]),t}();function V_(t,e,n){H_(t,"PlayState",n,B_(t,e))}function B_(t,e){var n=G_(t,"");return n.indexOf(",")>0?j_(n.split(","),e):j_([n],e)}function j_(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function U_(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function H_(t,e,n,i){var r="animation"+e;if(null!=i){var a=t.style[r];if(a.length){var o=a.split(",");o[i]=n,n=o.join(",")}}t.style[r]=n}function G_(t,e){return t.style["animation"+e]}var W_=function(){function t(e,n,i,r,a,o,s,l){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=a,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+a,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new z_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:zy(t.element,i))}))}this.currentSnapshot=e}}]),t}(),q_=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).element=t,i._startingStyles={},i.__initialized=!1,i._styles=my(n),i}return _inherits(e,t),_createClass(e,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(e.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(e.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(e.prototype),"destroy",this).call(this))}}]),e}(Zg),Y_=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return hy(t)}},{key:"matchesElement",value:function(t,e){return dy(t,e)}},{key:"containsElement",value:function(t,e){return fy(t,e)}},{key:"query",value:function(t,e,n){return py(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return my(t)}));var i="@keyframes ".concat(e," {\n"),r="";n.forEach((function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}})),i+="".concat(r,"}\n")})),i+="}\n";var a=document.createElement("style");return a.innerHTML=i,a}},{key:"animate",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;o&&this._notifyFaultyScrubber();var s=a.filter((function(t){return t instanceof W_})),l={};Dy(n,i)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return l[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=Ny(t,e,l));if(0==n)return new q_(t,c);var u="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);var d=I_(t,e),f=new W_(t,e,u,n,i,r,c,d);return f.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),f}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),X_=function(){function t(e,n,i,r){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:zy(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),Z_=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Q_().toString()),this._cssKeyframesDriver=new Y_}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return hy(t)}},{key:"matchesElement",value:function(t,e){return dy(t,e)}},{key:"containsElement",value:function(t,e){return fy(t,e)}},{key:"query",value:function(t,e,n){return py(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,a);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var l={},c=a.filter((function(t){return t instanceof X_}));Dy(n,i)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return l[t]=e[t]}))}));var u=I_(t,e=Ny(t,e=e.map((function(t){return Cy(t,!1)})),l));return new X_(t,e,s,u)}}]),t}();function Q_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var J_,K_=((J_=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._nextAnimationId=0,i._renderer=t.createRenderer(n.body,{id:"0",encapsulation:fe.None,styles:[],data:{animation:[]}}),i}return _inherits(e,t),_createClass(e,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Gg(t):t;return eb(this._renderer,null,e,"register",[n]),new $_(e,this._renderer)}}]),e}(jg)).\u0275fac=function(t){return new(t||J_)($t(gs),$t(Tc))},J_.\u0275prov=mt({token:J_,factory:J_.\u0275fac}),J_),$_=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._id=t,i._renderer=n,i}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e){return new tb(this._id,t,e||{},this._renderer)}}]),e}(function(){return function t(){_classCallCheck(this,t)}}()),tb=function(){function t(e,n,i,r){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return eb(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function eb(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var nb,ib,rb,ab,ob=((nb=function(){function t(e,n,i){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new sb("",i,this.engine),this._rendererCache.set(i,r)),r}var a=e.id,o=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(o,t),e.data.animation.forEach((function e(i){Array.isArray(i)?i.forEach(e):n.engine.registerTrigger(a,o,t,i.name,i)})),new lb(this,o,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var i=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||nb)($t(gs),$t(L_),$t(Xl))},nb.\u0275prov=mt({token:nb,factory:nb.\u0275fac}),nb),sb=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),lb=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n,i,r))).factory=t,a.namespaceId=n,a}return _inherits(e,t),_createClass(e,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var i,r,a=this;if("@"==e.charAt(0)){var o,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),l=e.substr(1),c="";return"@"!=l.charAt(0)&&(r=(i=l).indexOf("."),l=(o=_slicedToArray([i.substring(0,r),i.substr(r+1)],2))[0],c=o[1]),this.engine.listen(this.namespaceId,s,l,c,(function(t){a.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),e}(sb),cb=((ib=function(t){function e(t,n,i){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t.body,n,i))}return _inherits(e,t),e}(L_)).\u0275fac=function(t){return new(t||ib)($t(Tc),$t(yy),$t(o_))},ib.\u0275prov=mt({token:ib,factory:ib.\u0275fac}),ib),ub=new Gt("AnimationModuleType"),hb=[{provide:yy,useFactory:function(){return"function"==typeof Q_()?new Z_:new Y_}},{provide:ub,useValue:"BrowserAnimations"},{provide:jg,useClass:K_},{provide:o_,useFactory:function(){return new s_}},{provide:L_,useClass:cb},{provide:gs,useFactory:function(t,e,n){return new ob(t,e,n)},deps:[Qu,L_,Xl]}],db=((rb=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:rb}),rb.\u0275inj=vt({factory:function(t){return new(t||rb)},providers:hb,imports:[vh]}),rb),fb=new ws("9.1.0"),pb=new Gt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),mb=((ab=function(){function t(e,n){_classCallCheck(this,t),this._hasDoneGlobalChecks=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_checksAreEnabled",value:function(){return ci()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._window;return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&fb.full!==Vg.full&&console.warn("The Angular Material version ("+fb.full+") does not match the Angular CDK version ("+Vg.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=we({type:ab}),ab.\u0275inj=vt({factory:function(t){return new(t||ab)($t(Fg),$t(pb,8))},imports:[[vp],vp]}),ab);function vb(t){return function(t){function e(){var t,n;_classCallCheck(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=_possibleConstructorReturn(this,(t=_getPrototypeOf(e)).call.apply(t,[this].concat(r))))._disabled=!1,n}return _inherits(e,t),_createClass(e,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Zf(t)}}]),e}(t)}function gb(t,e){return function(t){function n(){var t,i;_classCallCheck(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(i=_possibleConstructorReturn(this,(t=_getPrototypeOf(n)).call.apply(t,[this].concat(a)))).color=e,i}return _inherits(n,t),_createClass(n,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),n&&this._elementRef.nativeElement.classList.add("mat-".concat(n)),this._color=n)}}]),n}(t)}function yb(t){return function(t){function e(){var t,n;_classCallCheck(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=_possibleConstructorReturn(this,(t=_getPrototypeOf(e)).call.apply(t,[this].concat(r))))._disableRipple=!1,n}return _inherits(e,t),_createClass(e,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Zf(t)}}]),e}(t)}function _b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(function(t){function n(){var t,i;_classCallCheck(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(i=_possibleConstructorReturn(this,(t=_getPrototypeOf(n)).call.apply(t,[this].concat(a))))._tabIndex=e,i}return _inherits(n,t),_createClass(n,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?t:e}}]),n}(t))}var bb,xb=new Gt("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return te(Dl)}}),wb=function(){function t(){_classCallCheck(this,t),this._localeChanges=new M}return _createClass(t,[{key:"deserialize",value:function(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}},{key:"setLocale",value:function(t){this.locale=t,this._localeChanges.next()}},{key:"compareDate",value:function(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}},{key:"sameDate",value:function(t,e){if(t&&e){var n=this.isValid(t),i=this.isValid(e);return n&&i?!this.compareDate(t,e):n==i}return t==e}},{key:"clampDate",value:function(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}},{key:"localeChanges",get:function(){return this._localeChanges}}]),t}(),Cb=new Gt("mat-date-formats");try{bb="undefined"!=typeof Intl}catch(AU){bb=!1}var kb={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Sb=Mb(31,(function(t){return String(t+1)})),Eb={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Tb=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Mb(t,e){for(var n=Array(t),i=0;i<t;i++)n[i]=e(i);return n}var Ab,Rb,Pb,Ob,Lb,Ib=((Rb=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).useUtcForDisplay=!0,_get(_getPrototypeOf(e.prototype),"setLocale",_assertThisInitialized(i)).call(_assertThisInitialized(i),t),i.useUtcForDisplay=!n.TRIDENT,i._clampDate=n.TRIDENT||n.EDGE,i}return _inherits(e,t),_createClass(e,[{key:"getYear",value:function(t){return t.getFullYear()}},{key:"getMonth",value:function(t){return t.getMonth()}},{key:"getDate",value:function(t){return t.getDate()}},{key:"getDayOfWeek",value:function(t){return t.getDay()}},{key:"getMonthNames",value:function(t){var e=this;if(bb){var n=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Mb(12,(function(t){return e._stripDirectionalityCharacters(e._format(n,new Date(2017,t,1)))}))}return kb[t]}},{key:"getDateNames",value:function(){var t=this;if(bb){var e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Mb(31,(function(n){return t._stripDirectionalityCharacters(t._format(e,new Date(2017,0,n+1)))}))}return Sb}},{key:"getDayOfWeekNames",value:function(t){var e=this;if(bb){var n=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Mb(7,(function(t){return e._stripDirectionalityCharacters(e._format(n,new Date(2017,0,t+1)))}))}return Eb[t]}},{key:"getYearName",value:function(t){if(bb){var e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}},{key:"getFirstDayOfWeek",value:function(){return 0}},{key:"getNumDaysInMonth",value:function(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}},{key:"clone",value:function(t){return new Date(t.getTime())}},{key:"createDate",value:function(t,e,n){if(e<0||e>11)throw Error('Invalid month index "'.concat(e,'". Month index has to be between 0 and 11.'));if(n<1)throw Error('Invalid date "'.concat(n,'". Date has to be greater than 0.'));var i=this._createDateWithOverflow(t,e,n);if(i.getMonth()!=e)throw Error('Invalid date "'.concat(n,'" for month with index "').concat(e,'".'));return i}},{key:"today",value:function(){return new Date}},{key:"parse",value:function(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}},{key:"format",value:function(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(bb){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});var n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}},{key:"addCalendarYears",value:function(t,e){return this.addCalendarMonths(t,12*e)}},{key:"addCalendarMonths",value:function(t,e){var n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}},{key:"addCalendarDays",value:function(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}},{key:"toIso8601",value:function(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}},{key:"deserialize",value:function(t){if("string"==typeof t){if(!t)return null;if(Tb.test(t)){var n=new Date(t);if(this.isValid(n))return n}}return _get(_getPrototypeOf(e.prototype),"deserialize",this).call(this,t)}},{key:"isDateInstance",value:function(t){return t instanceof Date}},{key:"isValid",value:function(t){return!isNaN(t.getTime())}},{key:"invalid",value:function(){return new Date(NaN)}},{key:"_createDateWithOverflow",value:function(t,e,n){var i=new Date(t,e,n);return t>=0&&t<100&&i.setFullYear(this.getYear(i)-1900),i}},{key:"_2digit",value:function(t){return("00"+t).slice(-2)}},{key:"_stripDirectionalityCharacters",value:function(t){return t.replace(/[\u200e\u200f]/g,"")}},{key:"_format",value:function(t,e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}]),e}(wb)).\u0275fac=function(t){return new(t||Rb)($t(xb,8),$t(hg))},Rb.\u0275prov=mt({token:Rb,factory:Rb.\u0275fac}),Rb),Db=((Ab=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Ab}),Ab.\u0275inj=vt({factory:function(t){return new(t||Ab)},providers:[{provide:wb,useClass:Ib}],imports:[[dg]]}),Ab),Nb={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},Fb=((Lb=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Lb}),Lb.\u0275inj=vt({factory:function(t){return new(t||Lb)},providers:[{provide:Cb,useValue:Nb}],imports:[[Db]]}),Lb),zb=((Ob=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).\u0275fac=function(t){return new(t||Ob)},Ob.\u0275prov=mt({factory:function(){return new Ob},token:Ob,providedIn:"root"}),Ob),Vb=((Pb=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Pb)},Pb.\u0275dir=ke({type:Pb,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Pb);function Bb(t,e,n){var i=t.nativeElement.classList;n?i.add(e):i.remove(e)}var jb,Ub,Hb,Gb,Wb,qb=((jb=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:jb}),jb.\u0275inj=vt({factory:function(t){return new(t||jb)},imports:[[mb],mb]}),jb),Yb=function(){function t(e,n,i){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=i,this.state=3}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),Xb={enterDuration:450,exitDuration:400},Zb=fg({passive:!0}),Qb=function(){function t(e,n,i,r){var a=this;_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(t){var e=function(t){return 0===t.buttons}(t),n=a._lastTouchStartEvent&&Date.now()<a._lastTouchStartEvent+800;a._target.rippleDisabled||e||n||(a._isPointerDown=!0,a.fadeInRipple(t.clientX,t.clientY,a._target.rippleConfig))},this._onTouchStart=function(t){if(!a._target.rippleDisabled){a._lastTouchStartEvent=Date.now(),a._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)a.fadeInRipple(e[n].clientX,e[n].clientY,a._target.rippleConfig)}},this._onPointerUp=function(){a._isPointerDown&&(a._isPointerDown=!1,a._activeRipples.forEach((function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()})))},r.isBrowser&&(this._containerElement=$f(i),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},Xb),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);var o=i.radius||function(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),s=t-r.left,l=e-r.top,c=a.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left="".concat(s-o,"px"),u.style.top="".concat(l-o,"px"),u.style.height="".concat(2*o,"px"),u.style.width="".concat(2*o,"px"),null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration="".concat(c,"ms"),this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";var h=new Yb(this,u,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=1,i.persistent||t&&n._isPointerDown||h.fadeOut()}),c),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign(Object.assign({},Xb),t.config.animation);n.style.transitionDuration="".concat(i.exitDuration,"ms"),n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone((function(){t.state=3,n.parentNode.removeChild(n)}),i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=this,n=$f(t);n&&n!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular((function(){e._triggerEvents.forEach((function(t,e){n.addEventListener(e,t,Zb)}))})),this._triggerElement=n)}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&this._triggerEvents.forEach((function(e,n){t._triggerElement.removeEventListener(n,e,Zb)}))}}]),t}(),Jb=new Gt("mat-ripple-global-options"),Kb=((Wb=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this._elementRef=e,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Qb(this,n,e,i),"NoopAnimations"===a&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign({},this._globalOptions.animation),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}()).\u0275fac=function(t){return new(t||Wb)(ho(ms),ho(Xl),ho(hg),ho(Jb,8),ho(ub,8))},Wb.\u0275dir=ke({type:Wb,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&No("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),Wb),$b=((Gb=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Gb}),Gb.\u0275inj=vt({factory:function(t){return new(t||Gb)},imports:[[mb,dg],mb]}),Gb),tx=((Hb=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Hb}),Hb.\u0275inj=vt({factory:function(t){return new(t||Hb)}}),Hb),ex=((Ub=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Ub}),Ub.\u0275inj=vt({factory:function(t){return new(t||Ub)},imports:[[$b,gu,tx]]}),Ub);function nx(t,e){return function(n){return n.lift(new ix(t,e))}}var ix=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new rx(t,this.compare,this.keySelector))}}]),t}(),rx=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).keySelector=i,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return _inherits(e,t),_createClass(e,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),e}(m),ax=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ox(t,this.durationSelector))}}]),t}(),ox=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).durationSelector=n,i.hasValue=!1,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=F(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),e}(z);function sx(t){return!l(t)&&t-parseFloat(t)+1>=0}function lx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return sx(e)?i=Number(e)<1?1:Number(e):R(e)&&(n=e),R(n)||(n=Wh),new w((function(e){var r=sx(t)?t:+t-n.now();return n.schedule(cx,r,{index:0,period:i,subscriber:e})}))}function cx(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function ux(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wh;return e=function(){return lx(t,n)},function(t){return t.lift(new ax(e))}}var hx,dx,fx,px,mx=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,t),this._multiple=n,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new M,i&&i.length&&(n?i.forEach((function(t){return e._markSelected(t)})):this._markSelected(i[0]),this._selectedToEmit.length=0)}return _createClass(t,[{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach((function(e){return t._markSelected(e)})),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach((function(e){return t._unmarkSelected(e)})),this._emitChangeEvent()}},{key:"toggle",value:function(t){this.isSelected(t)?this.deselect(t):this.select(t)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(t){return this._selection.has(t)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(t){this._multiple&&this.selected&&this._selected.sort(t)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}},{key:"_unmarkSelected",value:function(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}},{key:"_unmarkAll",value:function(){var t=this;this.isEmpty()||this._selection.forEach((function(e){return t._unmarkSelected(e)}))}},{key:"_verifyValueAssignment",value:function(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}},{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}}]),t}(),vx=((px=function(){function t(){_classCallCheck(this,t),this._listeners=[]}return _createClass(t,[{key:"notify",value:function(t,e){var n=!0,i=!1,r=void 0;try{for(var a,o=this._listeners[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)(0,a.value)(t,e)}catch(s){i=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}}},{key:"listen",value:function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter((function(e){return t!==e}))}}},{key:"ngOnDestroy",value:function(){this._listeners=[]}}]),t}()).\u0275fac=function(t){return new(t||px)},px.\u0275prov=mt({factory:function(){return new px},token:px,providedIn:"root"}),px),gx=((fx=function(){function t(e,n){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new M,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new w((function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(ux(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Ch()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Th((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(i,r){e._scrollableContainsElement(r,t)&&n.push(r)})),n}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return wh(window.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||fx)($t(Xl),$t(hg))},fx.\u0275prov=mt({factory:function(){return new fx($t(Xl),$t(hg))},token:fx,providedIn:"root"}),fx),yx=((dx=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._platform=e,n.runOutsideAngular((function(){i._change=e.isBrowser?Q(wh(window,"resize"),wh(window,"orientationchange")):Ch(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(ux(t)):this._change}},{key:"_updateViewportSize",value:function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||dx)($t(hg),$t(Xl))},dx.\u0275prov=mt({factory:function(){return new dx($t(hg),$t(Xl))},token:dx,providedIn:"root"}),dx),_x=((hx=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:hx}),hx.\u0275inj=vt({factory:function(t){return new(t||hx)},imports:[[vp,dg],vp]}),hx);function bx(){throw Error("Host already has a portal attached")}var xx,wx,Cx,kx,Sx=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&bx(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),Ex=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).component=t,a.viewContainerRef=n,a.injector=i,a.componentFactoryResolver=r,a}return _inherits(e,t),e}(Sx),Tx=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).templateRef=t,r.viewContainerRef=n,r.context=i,r}return _inherits(e,t),_createClass(e,[{key:"attach",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=n,_get(_getPrototypeOf(e.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(e.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),e}(Sx),Mx=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).element=t instanceof ms?t.nativeElement:t,n}return _inherits(e,t),e}(Sx),Ax=function(){function t(){_classCallCheck(this,t),this._isDisposed=!1,this.attachDomPortal=null}return _createClass(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&bx(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Ex?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Tx?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Mx?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),Rx=function(t){function e(t,n,i,r,a){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).outletElement=t,o._componentFactoryResolver=n,o._appRef=i,o._defaultInjector=r,o.attachDomPortal=function(t){if(!o._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var n=t.element;if(!n.parentNode)throw Error("DOM portal content must be attached to a parent node.");var i=o._document.createComment("dom-portal");n.parentNode.insertBefore(i,n),o.outletElement.appendChild(n),_get(_getPrototypeOf(e.prototype),"setDisposeFn",_assertThisInitialized(o)).call(_assertThisInitialized(o),(function(){i.parentNode&&i.parentNode.replaceChild(n,i)}))},o._document=a,o}return _inherits(e,t),_createClass(e,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.detectChanges(),i.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(i);-1!==t&&n.remove(t)})),i}},{key:"dispose",value:function(){_get(_getPrototypeOf(e.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),e}(Ax),Px=((Cx=function(t){function e(t,n){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))}return _inherits(e,t),e}(Tx)).\u0275fac=function(t){return new(t||Cx)(ho(Vs),ho(js))},Cx.\u0275dir=ke({type:Cx,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Xo]}),Cx),Ox=((wx=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._componentFactoryResolver=t,r._viewContainerRef=n,r._isInitialized=!1,r.attached=new al,r.attachDomPortal=function(t){if(!r._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var n=t.element;if(!n.parentNode)throw Error("DOM portal content must be attached to a parent node.");var i=r._document.createComment("dom-portal");t.setAttachedHost(_assertThisInitialized(r)),n.parentNode.insertBefore(i,n),r._getRootNode().appendChild(n),_get(_getPrototypeOf(e.prototype),"setDisposeFn",_assertThisInitialized(r)).call(_assertThisInitialized(r),(function(){i.parentNode&&i.parentNode.replaceChild(n,i)}))},r._document=i,r}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(e.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=n.createComponent(i,n.length,t.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),_get(_getPrototypeOf(e.prototype),"setDisposeFn",this).call(this,(function(){return r.destroy()})),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"attachTemplatePortal",value:function(t){var n=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return _get(_getPrototypeOf(e.prototype),"setDisposeFn",this).call(this,(function(){return n._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(e.prototype),"detach",this).call(this),t&&_get(_getPrototypeOf(e.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),e}(Ax)).\u0275fac=function(t){return new(t||wx)(ho(ps),ho(js),ho(Tc))},wx.\u0275dir=ke({type:wx,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Xo]}),wx),Lx=((xx=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(Ox)).\u0275fac=function(t){return Ix(t||xx)},xx.\u0275dir=ke({type:xx,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[hs([{provide:Ox,useExisting:xx}]),Xo]}),xx),Ix=Yn(Lx),Dx=((kx=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:kx}),kx.\u0275inj=vt({factory:function(t){return new(t||kx)}}),kx),Nx=function(){function t(e,n){_classCallCheck(this,t),this._parentInjector=e,this._customTokens=n}return _createClass(t,[{key:"get",value:function(t,e){var n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}]),t}(),Fx=function(){function t(e,n){_classCallCheck(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Kf(-this._previousScrollPosition.left),t.style.top=Kf(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function zx(){return Error("Scroll strategy has already been attached.")}var Vx=function(){function t(e,n,i,r){var a=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){a.disable(),a._overlayRef.hasAttached()&&a._ngZone.run((function(){return a._overlayRef.detach()}))}}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw zx();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Bx=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function jx(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function Ux(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var Hx,Gx=function(){function t(e,n,i,r){_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw zx();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,r=n.height;jx(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Wx=((Hx=function t(e,n,i,r){var a=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new Bx},this.close=function(t){return new Vx(a._scrollDispatcher,a._ngZone,a._viewportRuler,t)},this.block=function(){return new Fx(a._viewportRuler,a._document)},this.reposition=function(t){return new Gx(a._scrollDispatcher,a._viewportRuler,a._ngZone,t)},this._document=r}).\u0275fac=function(t){return new(t||Hx)($t(gx),$t(yx),$t(Xl),$t(Tc))},Hx.\u0275prov=mt({factory:function(){return new Hx($t(gx),$t(yx),$t(Xl),$t(Tc))},token:Hx,providedIn:"root"}),Hx),qx=function t(e){if(_classCallCheck(this,t),this.scrollStrategy=new Bx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(this[r]=e[r])}},Yx=function t(e,n,i,r,a){_classCallCheck(this,t),this.offsetX=i,this.offsetY=r,this.panelClass=a,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},Xx=function t(e,n){_classCallCheck(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function Zx(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". ')+'Expected "top", "bottom" or "center".')}function Qx(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". ')+'Expected "start", "end" or "center".')}var Jx,Kx,$x=((Jx=function(){function t(e){var n=this;_classCallCheck(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,i=e.length-1;i>-1;i--)if(e[i]._keydownEventSubscriptions>0){e[i]._keydownEvents.next(t);break}},this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}()).\u0275fac=function(t){return new(t||Jx)($t(Tc))},Jx.\u0275prov=mt({factory:function(){return new Jx($t(Tc))},token:Jx,providedIn:"root"}),Jx),tw=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),ew=((Kx=function(){function t(e,n){_classCallCheck(this,t),this._platform=n,this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||tw)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);var i=this._document.createElement("div");i.classList.add("cdk-overlay-container"),tw?i.setAttribute("platform","test"):t||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}]),t}()).\u0275fac=function(t){return new(t||Kx)($t(Tc),$t(hg))},Kx.\u0275prov=mt({factory:function(){return new Kx($t(Tc),$t(hg))},token:Kx,providedIn:"root"}),Kx),nw=function(){function t(e,n,i,r,a,o,s,l){var c=this;_classCallCheck(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=l,this._backdropElement=null,this._backdropClick=new M,this._attachments=new M,this._detachments=new M,this._locationChanges=d.EMPTY,this._backdropClickHandler=function(t){return c._backdropClick.next(t)},this._keydownEventsObservable=new w((function(t){var e=c._keydownEvents.subscribe(t);return c._keydownEventSubscriptions++,function(){e.unsubscribe(),c._keydownEventSubscriptions--}})),this._keydownEvents=new M,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return _createClass(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Ih(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEventsObservable}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=Kf(this._config.width),t.height=Kf(this._config.height),t.minWidth=Kf(this._config.minWidth),t.minHeight=Kf(this._config.minHeight),t.maxWidth=Kf(this._config.maxWidth),t.maxHeight=Kf(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",i)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(i,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;Jf(e).forEach((function(t){t&&(n?i.add(t):i.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe($d(Q(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),iw=/([A-Za-z%]+)$/,rw=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new M,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return _createClass(t,[{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=[],a=!0,o=!1,s=void 0;try{for(var l,c=this._preferredPositions[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value,h=this._getOriginPoint(e,u),d=this._getOverlayPoint(h,n,u),f=this._getOverlayFit(d,n,i,u);if(f.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(f,d,i)?r.push({position:u,origin:h,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!t||t.overlayFit.visibleArea<f.visibleArea)&&(t={overlayFit:f,overlayPoint:d,originPoint:h,position:u,overlayRect:n})}}catch(C){o=!0,s=C}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}if(r.length){var p=null,m=-1,v=!0,g=!1,y=void 0;try{for(var _,b=r[Symbol.iterator]();!(v=(_=b.next()).done);v=!0){var x=_.value,w=x.boundingBoxRect.width*x.boundingBoxRect.height*(x.position.weight||1);w>m&&(m=w,p=x)}}catch(C){g=!0,y=C}finally{try{v||null==b.return||b.return()}finally{if(g)throw y}}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&aw(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}},{key:"_getOverlayFit",value:function(t,e,n,i){var r=t.x,a=t.y,o=this._getOffset(i,"x"),s=this._getOffset(i,"y");o&&(r+=o),s&&(a+=s);var l=0-a,c=a+e.height-n.height,u=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,c),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:u==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,r=n.right-e.x,a=ow(this._overlayRef.getConfig().minHeight),o=ow(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=a&&a<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i,r,a=this._viewportRect,o=Math.max(t.x+e.width-a.right,0),s=Math.max(t.y+e.height-a.bottom,0),l=Math.max(a.top-n.top-t.y,0),c=Math.max(a.left-n.left-t.x,0);return i=e.width<=a.width?c||-o:t.x<this._viewportMargin?a.left-n.left-t.x:0,r=e.height<=a.height?l||-s:t.y<this._viewportMargin?a.top-n.top-t.y:0,this._previousPushAmount={x:i,y:r},{x:t.x+i,y:t.y+r}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new Xx(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,r,a,o,s,l=this._viewportRect,c=this._isRtl();if("top"===e.overlayY)i=t.y,n=l.height-i+this._viewportMargin;else if("bottom"===e.overlayY)r=l.height-t.y+2*this._viewportMargin,n=l.height-r+this._viewportMargin;else{var u=Math.min(l.bottom-t.y+l.top,t.y),h=this._lastBoundingBoxSize.height;n=2*u,i=t.y-u,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-h/2)}if("end"===e.overlayX&&!c||"start"===e.overlayX&&c)s=l.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!c||"end"===e.overlayX&&c)o=t.x,a=l.right-t.x;else{var d=Math.min(l.right-t.x+l.left,t.x),f=this._lastBoundingBoxSize.width;a=2*d,o=t.x-d,a>f&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.x-f/2)}return{top:i,left:o,bottom:r,right:s,width:a,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=Kf(n.height),i.top=Kf(n.top),i.bottom=Kf(n.bottom),i.width=Kf(n.width),i.left=Kf(n.left),i.right=Kf(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=Kf(r)),a&&(i.maxWidth=Kf(a))}this._lastBoundingBoxSize=n,aw(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){aw(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){aw(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){var o=this._viewportRuler.getViewportScrollPosition();aw(n,this._getExactOverlayY(e,t,o)),aw(n,this._getExactOverlayX(e,t,o))}else n.position="static";var s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+="translateX(".concat(l,"px) ")),c&&(s+="translateY(".concat(c,"px)")),n.transform=s.trim(),a.maxHeight&&(i?n.maxHeight=Kf(a.maxHeight):r&&(n.maxHeight="")),a.maxWidth&&(i?n.maxWidth=Kf(a.maxWidth):r&&(n.maxWidth="")),aw(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=a,"bottom"===t.overlayY?i.bottom="".concat(this._document.documentElement.clientHeight-(r.y+this._overlayRect.height),"px"):i.top=Kf(r.y),i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right="".concat(this._document.documentElement.clientWidth-(r.x+this._overlayRect.width),"px"):i.left=Kf(r.x),i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:Ux(t,n),isOriginOutsideView:jx(t,n),isOverlayClipped:Ux(e,n),isOverlayOutsideView:jx(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){Qx("originX",t.originX),Zx("originY",t.originY),Qx("overlayX",t.overlayX),Zx("overlayY",t.overlayY)}))}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Jf(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof ms)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function aw(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ow(t){if("number"!=typeof t&&null!=t){var e=_slicedToArray(t.split(iw),2),n=e[0],i=e[1];return i&&"px"!==i?null:parseFloat(n)}return t||null}var sw,lw,cw,uw,hw,dw,fw,pw,mw,vw,gw,yw,_w,bw,xw,ww,Cw,kw,Sw,Ew,Tw,Mw,Aw,Rw,Pw=function(){function t(e,n,i,r,a,o,s){_classCallCheck(this,t),this._preferredPositions=[],this._positionStrategy=new rw(i,r,a,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return _createClass(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var r=new Yx(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),Ow=function(){function t(){_classCallCheck(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,r=n.height,a=n.maxWidth,o=n.maxHeight,s=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),Lw=((lw=function(){function t(e,n,i,r){_classCallCheck(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r}return _createClass(t,[{key:"global",value:function(){return new Ow}},{key:"connectedTo",value:function(t,e,n){return new Pw(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new rw(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||lw)($t(yx),$t(Tc),$t(hg),$t(ew))},lw.\u0275prov=mt({factory:function(){return new lw($t(yx),$t(Tc),$t(hg),$t(ew))},token:lw,providedIn:"root"}),lw),Iw=0,Dw=((sw=function(){function t(e,n,i,r,a,o,s,l,c,u){_classCallCheck(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=o,this._ngZone=s,this._document=l,this._directionality=c,this._location=u}return _createClass(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new qx(t);return r.direction=r.direction||this._directionality.value,new nw(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-".concat(Iw++),e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(pc)),new Rx(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||sw)($t(Wx),$t(ew),$t(ps),$t(Lw),$t($x),$t(Xa),$t(Xl),$t(Tc),$t(mp),$t(Yc,8))},sw.\u0275prov=mt({token:sw,factory:sw.\u0275fac}),sw),Nw={provide:new Gt("cdk-connected-overlay-scroll-strategy"),deps:[Dw],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},Fw=((hw=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:hw}),hw.\u0275inj=vt({factory:function(t){return new(t||hw)},providers:[Dw,Nw],imports:[[vp,Dx,_x],_x]}),hw),zw=((uw=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||uw)},uw.\u0275dir=ke({type:uw}),uw),Vw=((cw=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:cw}),cw.\u0275inj=vt({factory:function(t){return new(t||cw)},imports:[[gu,wg]]}),cw),Bw={provide:new Gt("mat-autocomplete-scroll-strategy"),deps:[Dw],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},jw=((fw=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:fw}),fw.\u0275inj=vt({factory:function(t){return new(t||fw)},providers:[Bw],imports:[[ex,Fw,mb,gu],ex,mb]}),fw),Uw=((dw=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:dw}),dw.\u0275inj=vt({factory:function(t){return new(t||dw)},imports:[[zg,mb]]}),dw),Hw=["mat-button",""],Gw=["*"],Ww=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],qw=gb(vb(yb((function t(e){_classCallCheck(this,t),this._elementRef=e})))),Yw=((vw=function(t){function e(t,n,i){var r;_classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._focusMonitor=n,r._animationMode=i,r.isRoundButton=r._hasHostAttributes("mat-fab","mat-mini-fab"),r.isIconButton=r._hasHostAttributes("mat-icon-button");var a=!0,o=!1,s=void 0;try{for(var l,c=Ww[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;r._hasHostAttributes(u)&&r._getHostElement().classList.add(u)}}catch(h){o=!0,s=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return t.nativeElement.classList.add("mat-button-base"),r._focusMonitor.monitor(r._elementRef,!0),r.isRoundButton&&(r.color="accent"),r}return _inherits(e,t),_createClass(e,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.some((function(e){return t._getHostElement().hasAttribute(e)}))}}]),e}(qw)).\u0275fac=function(t){return new(t||vw)(ho(ms),ho(Dg),ho(ub,8))},vw.\u0275cmp=ye({type:vw,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&yl(Kb,!0),2&t&&vl(n=wl())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(lo("disabled",e.disabled||null),No("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Xo],attrs:Hw,ngContentSelectors:Gw,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Ro(),go(0,"span",0),Po(1),yo(),_o(2,"div",1),_o(3,"div",2)),2&t&&(or(2),No("mat-button-ripple-round",e.isRoundButton||e.isIconButton),mo("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Kb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),vw),Xw=((mw=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:mw}),mw.\u0275inj=vt({factory:function(t){return new(t||mw)},imports:[[$b,mb],mb]}),mw),Zw=((pw=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:pw}),pw.\u0275inj=vt({factory:function(t){return new(t||pw)},imports:[[mb,$b],mb]}),pw),Qw=["*",[["mat-card-footer"]]],Jw=["*","mat-card-footer"],Kw=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],$w=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],tC=((kw=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||kw)},kw.\u0275dir=ke({type:kw,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),kw),eC=((Cw=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Cw)},Cw.\u0275dir=ke({type:Cw,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),Cw),nC=((ww=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ww)},ww.\u0275dir=ke({type:ww,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),ww),iC=((xw=function t(e){_classCallCheck(this,t),this._animationMode=e}).\u0275fac=function(t){return new(t||xw)(ho(ub,8))},xw.\u0275cmp=ye({type:xw,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&No("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:Jw,decls:2,vars:0,template:function(t,e){1&t&&(Ro(Qw),Po(0),Po(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),xw),rC=((bw=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||bw)},bw.\u0275cmp=ye({type:bw,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:$w,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(Ro(Kw),Po(0),go(1,"div",0),Po(2,1),yo(),Po(3,2))},encapsulation:2,changeDetection:0}),bw),aC=((_w=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:_w}),_w.\u0275inj=vt({factory:function(t){return new(t||_w)},imports:[[mb],mb]}),_w),oC=((yw=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:yw}),yw.\u0275inj=vt({factory:function(t){return new(t||yw)}}),yw),sC=((gw=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:gw}),gw.\u0275inj=vt({factory:function(t){return new(t||gw)},imports:[[$b,mb,wg,oC],mb,oC]}),gw),lC=["*"],cC=_b(gb(yb(vb((function t(e){_classCallCheck(this,t),this._elementRef=e}))),"primary"),-1),uC=((Mw=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Mw)},Mw.\u0275dir=ke({type:Mw,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"]}),Mw),hC=((Tw=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Tw)},Tw.\u0275dir=ke({type:Tw,selectors:[["mat-chip-trailing-icon"],["","matChipTrailingIcon",""]],hostAttrs:[1,"mat-chip-trailing-icon"]}),Tw),dC=((Ew=function(t){function e(t,n,i,r,a,o,s,l){var c;return _classCallCheck(this,e),(c=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._elementRef=t,c._ngZone=n,c._changeDetectorRef=o,c._hasFocus=!1,c.chipListSelectable=!0,c._chipListMultiple=!1,c._selected=!1,c._selectable=!0,c._removable=!0,c._onFocus=new M,c._onBlur=new M,c.selectionChange=new al,c.destroyed=new al,c.removed=new al,c._addHostClassName(),c._chipRippleTarget=(l||document).createElement("div"),c._chipRippleTarget.classList.add("mat-chip-ripple"),c._elementRef.nativeElement.appendChild(c._chipRippleTarget),c._chipRipple=new Qb(_assertThisInitialized(c),n,c._chipRippleTarget,i),c._chipRipple.setupTriggerEvents(t),c.rippleConfig=r||{},c._animationsDisabled="NoopAnimations"===a,c.tabIndex=null!=s&&parseInt(s)||-1,c}return _inherits(e,t),_createClass(e,[{key:"_addHostClassName",value:function(){var t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}},{key:"ngOnDestroy",value:function(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}},{key:"selectViaInteraction",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}},{key:"toggleSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}},{key:"focus",value:function(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}},{key:"remove",value:function(){this.removable&&this.removed.emit({chip:this})}},{key:"_handleClick",value:function(t){this.disabled?t.preventDefault():t.stopPropagation()}},{key:"_handleKeydown",value:function(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}},{key:"_blur",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Ih(1)).subscribe((function(){t._ngZone.run((function(){t._hasFocus=!1,t._onBlur.next({chip:t})}))}))}},{key:"_dispatchSelectionChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}},{key:"_markForCheck",value:function(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}},{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}},{key:"selected",get:function(){return this._selected},set:function(t){var e=Zf(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}},{key:"value",get:function(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent},set:function(t){this._value=t}},{key:"selectable",get:function(){return this._selectable&&this.chipListSelectable},set:function(t){this._selectable=Zf(t)}},{key:"removable",get:function(){return this._removable},set:function(t){this._removable=Zf(t)}},{key:"ariaSelected",get:function(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}}]),e}(cC)).\u0275fac=function(t){return new(t||Ew)(ho(ms),ho(Xl),ho(hg),ho(Jb,8),ho(ub,8),ho(Oa),fo("tabindex"),ho(Tc,8))},Ew.\u0275dir=ke({type:Ew,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){var i;1&t&&(bl(n,uC,!0),bl(n,hC,!0),bl(n,fC,!0)),2&t&&(vl(i=wl())&&(e.avatar=i.first),vl(i=wl())&&(e.trailingIcon=i.first),vl(i=wl())&&(e.removeIcon=i.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&Co("click",(function(t){return e._handleClick(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(t){return e.focus()}))("blur",(function(t){return e._blur()})),2&t&&(lo("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),No("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[Xo]}),Ew),fC=((Sw=function(){function t(e){_classCallCheck(this,t),this._parentChip=e}return _createClass(t,[{key:"_handleClick",value:function(t){var e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}]),t}()).\u0275fac=function(t){return new(t||Sw)(ho(dC))},Sw.\u0275dir=ke({type:Sw,selectors:[["","matChipRemove",""]],hostAttrs:["type","button",1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&Co("click",(function(t){return e._handleClick(t)}))}}),Sw),pC=new Gt("mat-chips-default-options"),mC=function(t){function e(){var t,n;_classCallCheck(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=_possibleConstructorReturn(this,(t=_getPrototypeOf(e)).call.apply(t,[this].concat(r)))).errorState=!1,n.stateChanges=new M,n}return _inherits(e,t),_createClass(e,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),e}((function t(e,n,i,r){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r})),vC=0,gC=function t(e,n){_classCallCheck(this,t),this.source=e,this.value=n},yC=((Aw=function(t){function e(t,n,i,r,a,o,s){var l;return _classCallCheck(this,e),(l=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,o,r,a,s)))._elementRef=t,l._changeDetectorRef=n,l._dir=i,l.ngControl=s,l.controlType="mat-chip-list",l._lastDestroyedChipIndex=null,l._destroyed=new M,l._uid="mat-chip-list-".concat(vC++),l._tabIndex=0,l._userTabIndex=null,l._onTouched=function(){},l._onChange=function(){},l._multiple=!1,l._compareWith=function(t,e){return t===e},l._required=!1,l._disabled=!1,l.ariaOrientation="horizontal",l._selectable=!0,l.change=new al,l.valueChange=new al,l.ngControl&&(l.ngControl.valueAccessor=_assertThisInitialized(l)),l}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentInit",value:function(){var t=this;this._keyManager=new Cg(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe($d(this._destroyed)).subscribe((function(e){return t._keyManager.withHorizontalOrientation(e)})),this._keyManager.tabOut.pipe($d(this._destroyed)).subscribe((function(){t._allowFocusEscape()})),this.chips.changes.pipe(Bg(null),$d(this._destroyed)).subscribe((function(){t.disabled&&Promise.resolve().then((function(){t._syncChipsState()})),t._resetChips(),t._initializeSelection(),t._updateTabIndex(),t._updateFocusForDestroyedChips(),t.stateChanges.next()}))}},{key:"ngOnInit",value:function(){this._selectionModel=new mx(this.multiple,void 0,!1),this.stateChanges.next()}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}},{key:"registerInput",value:function(t){this._chipInput=t}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"writeValue",value:function(t){this.chips&&this._setSelectionByValue(t,!1)}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this.stateChanges.next()}},{key:"onContainerClick",value:function(t){this._originatesFromChip(t)||this.focus()}},{key:"focus",value:function(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}},{key:"_focusInput",value:function(t){this._chipInput&&this._chipInput.focus(t)}},{key:"_keydown",value:function(t){var e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(36===t.keyCode?(this._keyManager.setFirstItemActive(),t.preventDefault()):35===t.keyCode?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}},{key:"_updateTabIndex",value:function(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}},{key:"_updateFocusForDestroyedChips",value:function(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){var t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}},{key:"_isValidIndex",value:function(t){return t>=0&&t<this.chips.length}},{key:"_isInputEmpty",value:function(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}},{key:"_setSelectionByValue",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._clearSelection(),this.chips.forEach((function(t){return t.deselect()})),Array.isArray(t))t.forEach((function(t){return e._selectValue(t,n)})),this._sortValues();else{var i=this._selectValue(t,n);i&&n&&this._keyManager.setActiveItem(i)}}},{key:"_selectValue",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.chips.find((function(n){return null!=n.value&&e._compareWith(n.value,t)}));return i&&(n?i.selectViaInteraction():i.select(),this._selectionModel.select(i)),i}},{key:"_initializeSelection",value:function(){var t=this;Promise.resolve().then((function(){(t.ngControl||t._value)&&(t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value,!1),t.stateChanges.next())}))}},{key:"_clearSelection",value:function(t){this._selectionModel.clear(),this.chips.forEach((function(e){e!==t&&e.deselect()})),this.stateChanges.next()}},{key:"_sortValues",value:function(){var t=this;this._multiple&&(this._selectionModel.clear(),this.chips.forEach((function(e){e.selected&&t._selectionModel.select(e)})),this.stateChanges.next())}},{key:"_propagateChanges",value:function(t){var e;e=Array.isArray(this.selected)?this.selected.map((function(t){return t.value})):this.selected?this.selected.value:t,this._value=e,this.change.emit(new gC(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}},{key:"_blur",value:function(){var t=this;this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout((function(){t.focused||t._markAsTouched()})):this._markAsTouched())}},{key:"_markAsTouched",value:function(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_allowFocusEscape",value:function(){var t=this;-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout((function(){t._tabIndex=t._userTabIndex||0,t._changeDetectorRef.markForCheck()})))}},{key:"_resetChips",value:function(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}},{key:"_dropSubscriptions",value:function(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}},{key:"_listenToChipsSelection",value:function(){var t=this;this._chipSelectionSubscription=this.chipSelectionChanges.subscribe((function(e){e.source.selected?t._selectionModel.select(e.source):t._selectionModel.deselect(e.source),t.multiple||t.chips.forEach((function(e){!t._selectionModel.isSelected(e)&&e.selected&&e.deselect()})),e.isUserInput&&t._propagateChanges()}))}},{key:"_listenToChipsFocus",value:function(){var t=this;this._chipFocusSubscription=this.chipFocusChanges.subscribe((function(e){var n=t.chips.toArray().indexOf(e.chip);t._isValidIndex(n)&&t._keyManager.updateActiveItem(n),t.stateChanges.next()})),this._chipBlurSubscription=this.chipBlurChanges.subscribe((function(){t._blur(),t.stateChanges.next()}))}},{key:"_listenToChipsRemoved",value:function(){var t=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe((function(e){var n=e.chip,i=t.chips.toArray().indexOf(e.chip);t._isValidIndex(i)&&n._hasFocus&&(t._lastDestroyedChipIndex=i)}))}},{key:"_originatesFromChip",value:function(t){for(var e=t.target;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}},{key:"_hasFocusedChip",value:function(){return this.chips.some((function(t){return t._hasFocus}))}},{key:"_syncChipsState",value:function(){var t=this;this.chips&&this.chips.forEach((function(e){e.disabled=t._disabled,e._chipListMultiple=t.multiple}))}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"role",get:function(){return this.empty?null:"listbox"}},{key:"multiple",get:function(){return this._multiple},set:function(t){this._multiple=Zf(t),this._syncChipsState()}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(t){this.writeValue(t),this._value=t}},{key:"id",get:function(){return this._chipInput?this._chipInput.id:this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Zf(t),this.stateChanges.next()}},{key:"placeholder",get:function(){return this._chipInput?this._chipInput.placeholder:this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"focused",get:function(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}},{key:"empty",get:function(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}},{key:"shouldLabelFloat",get:function(){return!this.empty||this.focused}},{key:"disabled",get:function(){return this.ngControl?!!this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Zf(t),this._syncChipsState()}},{key:"selectable",get:function(){return this._selectable},set:function(t){var e=this;this._selectable=Zf(t),this.chips&&this.chips.forEach((function(t){return t.chipListSelectable=e._selectable}))}},{key:"tabIndex",set:function(t){this._userTabIndex=t,this._tabIndex=t}},{key:"chipSelectionChanges",get:function(){return Q.apply(void 0,_toConsumableArray(this.chips.map((function(t){return t.selectionChange}))))}},{key:"chipFocusChanges",get:function(){return Q.apply(void 0,_toConsumableArray(this.chips.map((function(t){return t._onFocus}))))}},{key:"chipBlurChanges",get:function(){return Q.apply(void 0,_toConsumableArray(this.chips.map((function(t){return t._onBlur}))))}},{key:"chipRemoveChanges",get:function(){return Q.apply(void 0,_toConsumableArray(this.chips.map((function(t){return t.destroyed}))))}}]),e}(mC)).\u0275fac=function(t){return new(t||Aw)(ho(ms),ho(Oa),ho(mp,8),ho(Fv,8),ho(Hv,8),ho(zb),ho(Pm,10))},Aw.\u0275cmp=ye({type:Aw,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){var i;1&t&&bl(n,dC,!0),2&t&&vl(i=wl())&&(e.chips=i)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&Co("focus",(function(t){return e.focus()}))("blur",(function(t){return e._blur()}))("keydown",(function(t){return e._keydown(t)})),2&t&&(Wo("id",e._uid),lo("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),No("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[hs([{provide:zw,useExisting:Aw}]),Xo],ngContentSelectors:lC,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(Ro(),go(0,"div",0),Po(1),yo())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),Aw),_C={separatorKeyCodes:[13]},bC=((Rw=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Rw}),Rw.\u0275inj=vt({factory:function(t){return new(t||Rw)},providers:[zb,{provide:pC,useValue:_C}]}),Rw);function xC(t,e){}var wC=function t(){_classCallCheck(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},CC={dialogContainer:Ug("dialogContainer",[qg("void, exit",Wg({opacity:0,transform:"scale(0.7)"})),qg("enter",Wg({transform:"none"})),Yg("* => enter",Hg("150ms cubic-bezier(0, 0, 0.2, 1)",Wg({transform:"none",opacity:1}))),Yg("* => void, * => exit",Hg("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Wg({opacity:0})))])};function kC(){throw Error("Attempting to attach dialog content after content is already attached")}var SC,EC,TC,MC,AC,RC,PC,OC,LC,IC,DC=((SC=function(t){function e(t,n,i,r,a){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._elementRef=t,o._focusTrapFactory=n,o._changeDetectorRef=i,o._config=a,o._elementFocusedBeforeDialogWasOpened=null,o._state="enter",o._animationStateChanged=new al,o.attachDomPortal=function(t){return o._portalOutlet.hasAttached()&&kC(),o._savePreviouslyFocusedElement(),o._portalOutlet.attachDomPortal(t)},o._ariaLabelledBy=a.ariaLabelledBy||null,o._document=r,o}return _inherits(e,t),_createClass(e,[{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached()&&kC(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached()&&kC(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_trapFocus",value:function(){var t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{var e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_savePreviouslyFocusedElement",value:function(){var t=this;this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return t._elementRef.nativeElement.focus()})))}},{key:"_onAnimationDone",value:function(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}},{key:"_onAnimationStart",value:function(t){this._animationStateChanged.emit(t)}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),e}(Ax)).\u0275fac=function(t){return new(t||SC)(ho(ms),ho(Ag),ho(Oa),ho(Tc,8),ho(wC))},SC.\u0275cmp=ye({type:SC,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&gl(Ox,!0),2&t&&vl(n=wl())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&ko("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(lo("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),qo("@dialogContainer",e._state))},features:[Xo],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&co(0,xC,0,0,"ng-template",0)},directives:[Ox],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[CC.dialogContainer]}}),SC),NC=0,FC=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-".concat(NC++);_classCallCheck(this,t),this._overlayRef=e,this._containerInstance=n,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new M,this._afterClosed=new M,this._beforeClosed=new M,this._state=0,n._id=r,n._animationStateChanged.pipe(Th((function(t){return"done"===t.phaseName&&"enter"===t.toState})),Ih(1)).subscribe((function(){i._afterOpened.next(),i._afterOpened.complete()})),n._animationStateChanged.pipe(Th((function(t){return"done"===t.phaseName&&"exit"===t.toState})),Ih(1)).subscribe((function(){clearTimeout(i._closeFallbackTimeout),i._overlayRef.dispose()})),e.detachments().subscribe((function(){i._beforeClosed.next(i._result),i._beforeClosed.complete(),i._afterClosed.next(i._result),i._afterClosed.complete(),i.componentInstance=null,i._overlayRef.dispose()})),e.keydownEvents().pipe(Th((function(t){return 27===t.keyCode&&!i.disableClose&&!sg(t)}))).subscribe((function(t){t.preventDefault(),i.close()}))}return _createClass(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(Th((function(t){return"start"===t.phaseName})),Ih(1)).subscribe((function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._state=2,e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout((function(){e._overlayRef.dispose()}),n.totalTime+100)})),this._containerInstance._startExitAnimation(),this._state=1}},{key:"afterOpened",value:function(){return this._afterOpened.asObservable()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"beforeClosed",value:function(){return this._beforeClosed.asObservable()}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}(),zC=new Gt("MatDialogData"),VC=new Gt("mat-dialog-default-options"),BC=new Gt("mat-dialog-scroll-strategy"),jC={provide:BC,deps:[Dw],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},UC=((RC=function(){function t(e,n,i,r,a,o,s){var l=this;_classCallCheck(this,t),this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new M,this._afterOpenedAtThisLevel=new M,this._ariaHiddenElements=new Map,this.afterAllClosed=_h((function(){return l.openDialogs.length?l._afterAllClosed:l._afterAllClosed.pipe(Bg(void 0))})),this._scrollStrategy=a}return _createClass(t,[{key:"open",value:function(t,e){var n=this;if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new wC)).id&&this.getDialogById(e.id))throw Error('Dialog with id "'.concat(e.id,'" exists already. The dialog id must be unique.'));var i=this._createOverlay(e),r=this._attachDialogContainer(i,e),a=this._attachDialogContent(t,r,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe((function(){return n._removeOpenDialog(a)})),this.afterOpened.next(a),a}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find((function(e){return e.id===t}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new qx({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=new Nx(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[wC,e]])),i=new Ex(DC,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}},{key:"_attachDialogContent",value:function(t,e,n,i){var r=new FC(n,e,i.id);if(i.hasBackdrop&&n.backdropClick().subscribe((function(){r.disableClose||r.close()})),t instanceof Vs)e.attachTemplatePortal(new Tx(t,null,{$implicit:i.data,dialogRef:r}));else{var a=this._createInjector(i,r,e),o=e.attachComponentPortal(new Ex(t,i.viewContainerRef,a));r.componentInstance=o.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}},{key:"_createInjector",value:function(t,e,n){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=new WeakMap([[DC,n],[zC,t.data],[FC,e]]);return!t.direction||i&&i.get(mp,null)||r.set(mp,{value:t.direction,change:Ch()}),new Nx(i||this._injector,r)}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_afterAllClosed",get:function(){var t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}}]),t}()).\u0275fac=function(t){return new(t||RC)($t(Dw),$t(Xa),$t(Yc,8),$t(VC,8),$t(BC),$t(RC,12),$t(ew))},RC.\u0275prov=mt({token:RC,factory:RC.\u0275fac}),RC),HC=((AC=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:AC}),AC.\u0275inj=vt({factory:function(t){return new(t||AC)},providers:[UC,jC],imports:[[Fw,Dx,mb],mb]}),AC),GC=((MC=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:MC}),MC.\u0275inj=vt({factory:function(t){return new(t||MC)},imports:[[dg]]}),MC),WC=((TC=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:TC}),TC.\u0275inj=vt({factory:function(t){return new(t||TC)},providers:[zb],imports:[[GC,Vw],GC,Vw]}),TC),qC=((EC=function(){function t(){_classCallCheck(this,t),this.changes=new M,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return _createClass(t,[{key:"formatYearRange",value:function(t,e){return"".concat(t," \u2013 ").concat(e)}}]),t}()).\u0275fac=function(t){return new(t||EC)},EC.\u0275prov=mt({factory:function(){return new EC},token:EC,providedIn:"root"}),EC),YC={provide:new Gt("mat-datepicker-scroll-strategy"),deps:[Dw],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},XC=((IC=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:IC}),IC.\u0275inj=vt({factory:function(t){return new(t||IC)},providers:[qC,YC],imports:[[gu,Xw,HC,Fw,zg,Dx]]}),IC),ZC=0,QC=((LC=function(){function t(){_classCallCheck(this,t),this._stateChanges=new M,this._openCloseAllActions=new M,this.id="cdk-accordion-".concat(ZC++),this._multi=!1}return _createClass(t,[{key:"openAll",value:function(){this._openCloseAll(!0)}},{key:"closeAll",value:function(){this._openCloseAll(!1)}},{key:"ngOnChanges",value:function(t){this._stateChanges.next(t)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_openCloseAll",value:function(t){this.multi&&this._openCloseAllActions.next(t)}},{key:"multi",get:function(){return this._multi},set:function(t){this._multi=Zf(t)}}]),t}()).\u0275fac=function(t){return new(t||LC)},LC.\u0275dir=ke({type:LC,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[ts()]}),LC),JC=0,KC=((OC=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=i,this._openCloseAllSubscription=d.EMPTY,this.closed=new al,this.opened=new al,this.destroyed=new al,this.expandedChange=new al,this.id="cdk-accordion-child-".concat(JC++),this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=i.listen((function(t,e){r.accordion&&!r.accordion.multi&&r.accordion.id===e&&r.id!==t&&(r.expanded=!1)})),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var t=this;return this.accordion._openCloseAllActions.subscribe((function(e){t.disabled||(t.expanded=e)}))}},{key:"expanded",get:function(){return this._expanded},set:function(t){t=Zf(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Zf(t)}}]),t}()).\u0275fac=function(t){return new(t||OC)(ho(QC,12),ho(Oa),ho(vx))},OC.\u0275dir=ke({type:OC,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[hs([{provide:QC,useValue:void 0}])]}),OC),$C=((PC=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:PC}),PC.\u0275inj=vt({factory:function(t){return new(t||PC)}}),PC),tk=["body"];function ek(t,e){}var nk=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],ik=["mat-expansion-panel-header","*","mat-action-row"],rk=function(t,e){return{collapsedHeight:t,expandedHeight:e}},ak=function(t,e){return{value:t,params:e}};function ok(t,e){1&t&&_o(0,"span",2),2&t&&mo("@indicatorRotate",Mo()._getExpandedState())}var sk,lk,ck,uk,hk,dk,fk,pk=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],mk=["mat-panel-title","mat-panel-description","*"],vk=new Gt("MAT_ACCORDION"),gk={indicatorRotate:Ug("indicatorRotate",[qg("collapsed, void",Wg({transform:"rotate(0deg)"})),qg("expanded",Wg({transform:"rotate(180deg)"})),Yg("expanded <=> collapsed, void => collapsed",Hg("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Ug("expansionHeight",[qg("collapsed, void",Wg({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),qg("expanded",Wg({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Yg("expanded <=> collapsed, void => collapsed",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:3,steps:t,options:e}}([function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}("@indicatorRotate",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}(),{optional:!0}),Hg("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Ug("bodyExpansion",[qg("collapsed, void",Wg({height:"0px",visibility:"hidden"})),qg("expanded",Wg({height:"*",visibility:"visible"})),Yg("expanded <=> collapsed, void => collapsed",Hg("225ms cubic-bezier(0.4,0.0,0.2,1)"))])},yk=((sk=function t(e){_classCallCheck(this,t),this._template=e}).\u0275fac=function(t){return new(t||sk)(ho(Vs))},sk.\u0275dir=ke({type:sk,selectors:[["ng-template","matExpansionPanelContent",""]]}),sk),_k=0,bk=new Gt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),xk=((dk=function(t){function e(t,n,i,r,a,o,s){var l;return _classCallCheck(this,e),(l=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i)))._viewContainerRef=r,l._animationMode=o,l._hideToggle=!1,l.afterExpand=new al,l.afterCollapse=new al,l._inputChanges=new M,l._headerId="mat-expansion-panel-header-".concat(_k++),l._bodyAnimationDone=new M,l.accordion=t,l._document=a,l._bodyAnimationDone.pipe(nx((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){"void"!==t.fromState&&("expanded"===t.toState?l.afterExpand.emit():"collapsed"===t.toState&&l.afterCollapse.emit())})),s&&(l.hideToggle=s.hideToggle),l}return _inherits(e,t),_createClass(e,[{key:"_hasSpacing",value:function(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"close",value:function(){this.expanded=!1}},{key:"open",value:function(){this.expanded=!0}},{key:"ngAfterContentInit",value:function(){var t=this;this._lazyContent&&this.opened.pipe(Bg(null),Th((function(){return t.expanded&&!t._portal})),Ih(1)).subscribe((function(){t._portal=new Tx(t._lazyContent._template,t._viewContainerRef)}))}},{key:"ngOnChanges",value:function(t){this._inputChanges.next(t)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(e.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}},{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(t){this._hideToggle=Zf(t)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(t){this._togglePosition=t}}]),e}(KC)).\u0275fac=function(t){return new(t||dk)(ho(vk,12),ho(Oa),ho(vx),ho(js),ho(Tc),ho(ub,8),ho(bk,8))},dk.\u0275cmp=ye({type:dk,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&bl(n,yk,!0),2&t&&vl(i=wl())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&yl(tk,!0),2&t&&vl(n=wl())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&No("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[hs([{provide:vk,useValue:void 0}]),Xo,ts()],ngContentSelectors:ik,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(Ro(nk),Po(0),go(1,"div",0,1),Co("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),go(3,"div",2),Po(4,1),co(5,ek,0,0,"ng-template",3),yo(),Po(6,2),yo()),2&t&&(or(1),mo("@bodyExpansion",e._getExpandedState())("id",e.id),lo("aria-labelledby",e._headerId),or(4),mo("cdkPortalOutlet",e._portal))},directives:[Ox],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[gk.bodyExpansion]},changeDetection:0}),dk),wk=((hk=function(){function t(e,n,i,r,a){var o=this;_classCallCheck(this,t),this.panel=e,this._element=n,this._focusMonitor=i,this._changeDetectorRef=r,this._parentChangeSubscription=d.EMPTY,this._animationsDisabled=!0;var s=e.accordion?e.accordion._stateChanges.pipe(Th((function(t){return!(!t.hideToggle&&!t.togglePosition)}))):gh;this._parentChangeSubscription=Q(e.opened,e.closed,s,e._inputChanges.pipe(Th((function(t){return!!(t.hideToggle||t.disabled||t.togglePosition)})))).subscribe((function(){return o._changeDetectorRef.markForCheck()})),e.closed.pipe(Th((function(){return e._containsFocus()}))).subscribe((function(){return i.focusVia(n,"program")})),i.monitor(n).subscribe((function(t){t&&e.accordion&&e.accordion._handleHeaderFocus(o)})),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}return _createClass(t,[{key:"_animationStarted",value:function(){this._animationsDisabled=!1}},{key:"_toggle",value:function(){this.disabled||this.panel.toggle()}},{key:"_isExpanded",value:function(){return this.panel.expanded}},{key:"_getExpandedState",value:function(){return this.panel._getExpandedState()}},{key:"_getPanelId",value:function(){return this.panel.id}},{key:"_getTogglePosition",value:function(){return this.panel.togglePosition}},{key:"_showToggle",value:function(){return!this.panel.hideToggle&&!this.panel.disabled}},{key:"_keydown",value:function(t){switch(t.keyCode){case 32:case 13:sg(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._element,t,e)}},{key:"ngOnDestroy",value:function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}},{key:"disabled",get:function(){return this.panel.disabled}}]),t}()).\u0275fac=function(t){return new(t||hk)(ho(xk,1),ho(ms),ho(Dg),ho(Oa),ho(bk,8))},hk.\u0275cmp=ye({type:hk,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header"],hostVars:19,hostBindings:function(t,e){1&t&&(ko("@expansionHeight.start",(function(t){return e._animationStarted()})),Co("click",(function(t){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(lo("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),qo("@.disabled",e._animationsDisabled)("@expansionHeight",rl(16,ak,e._getExpandedState(),rl(13,rk,e.collapsedHeight,e.expandedHeight))),No("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:mk,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(Ro(pk),go(0,"span",0),Po(1),Po(2,1),Po(3,2),yo(),co(4,ok,1,1,"span",1)),2&t&&(or(4),mo("ngIf",e._showToggle()))},directives:[lu],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[gk.indicatorRotate,gk.expansionHeaderHeight]},changeDetection:0}),hk),Ck=((uk=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||uk)},uk.\u0275dir=ke({type:uk,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),uk),kk=((ck=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ck)},ck.\u0275dir=ke({type:ck,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),ck),Sk=((lk=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._ownHeaders=new sl,t._hideToggle=!1,t.displayMode="default",t.togglePosition="after",t}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentInit",value:function(){var t=this;this._headers.changes.pipe(Bg(this._headers)).subscribe((function(e){t._ownHeaders.reset(e.filter((function(e){return e.panel.accordion===t}))),t._ownHeaders.notifyOnChanges()})),this._keyManager=new Cg(this._ownHeaders).withWrap()}},{key:"_handleHeaderKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;36===e?sg(t)||(n.setFirstItemActive(),t.preventDefault()):35===e?sg(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}},{key:"_handleHeaderFocus",value:function(t){this._keyManager.updateActiveItem(t)}},{key:"hideToggle",get:function(){return this._hideToggle},set:function(t){this._hideToggle=Zf(t)}}]),e}(QC)).\u0275fac=function(t){return Ek(t||lk)},lk.\u0275dir=ke({type:lk,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var i;1&t&&bl(n,wk,!0),2&t&&vl(i=wl())&&(e._headers=i)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&No("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[hs([{provide:vk,useExisting:lk}]),Xo]}),lk),Ek=Yn(Sk),Tk=((fk=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:fk}),fk.\u0275inj=vt({factory:function(t){return new(t||fk)},imports:[[gu,$C,Dx]]}),fk);function Mk(t){return function(e){var n=new Ak(t),i=e.lift(n);return n.caught=i}}var Ak=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Rk(t,this.selector,this.caught))}}]),t}(),Rk=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).selector=n,r.caught=i,r}return _inherits(e,t),_createClass(e,[{key:"error",value:function(t){if(!this.isStopped){var n;try{n=this.selector(t,this.caught)}catch(a){return void _get(_getPrototypeOf(e.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var i=new P(this,void 0,void 0);this.add(i);var r=F(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}]),e}(z);function Pk(t){return function(e){return e.lift(new Ok(t))}}var Ok=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Lk(t,this.callback))}}]),t}(),Lk=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).add(new d(n)),i}return _inherits(e,t),e}(m),Ik=["*"];function Dk(t){return Error('Unable to find icon with the name "'.concat(t,'"'))}function Nk(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+"via Angular's DomSanitizer. Attempted URL was \"".concat(t,'".'))}function Fk(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+"Angular's DomSanitizer. Attempted literal was \"".concat(t,'".'))}var zk,Vk=function t(e,n){_classCallCheck(this,t),this.options=n,e.nodeName?this.svgElement=e:this.url=e},Bk=((zk=function(){function t(e,n,i,r){_classCallCheck(this,t),this._httpClient=e,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=i}return _createClass(t,[{key:"addSvgIcon",value:function(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}},{key:"addSvgIconLiteral",value:function(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}},{key:"addSvgIconInNamespace",value:function(t,e,n,i){return this._addSvgIconConfig(t,e,new Vk(n,i))}},{key:"addSvgIconLiteralInNamespace",value:function(t,e,n,i){var r=this._sanitizer.sanitize(Pi.HTML,n);if(!r)throw Fk(n);var a=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new Vk(a,i))}},{key:"addSvgIconSet",value:function(t,e){return this.addSvgIconSetInNamespace("",t,e)}},{key:"addSvgIconSetLiteral",value:function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}},{key:"addSvgIconSetInNamespace",value:function(t,e,n){return this._addSvgIconSetConfig(t,new Vk(e,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(t,e,n){var i=this._sanitizer.sanitize(Pi.HTML,e);if(!i)throw Fk(e);var r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new Vk(r,n))}},{key:"registerFontClassAlias",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._fontCssClassesByAlias.set(t,e),this}},{key:"classNameForFontAlias",value:function(t){return this._fontCssClassesByAlias.get(t)||t}},{key:"setDefaultFontSetClass",value:function(t){return this._defaultFontSetClass=t,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(t){var e=this,n=this._sanitizer.sanitize(Pi.RESOURCE_URL,t);if(!n)throw Nk(t);var i=this._cachedIconsByUrl.get(n);return i?Ch(jk(i)):this._loadSvgIconFromConfig(new Vk(t)).pipe(Fh((function(t){return e._cachedIconsByUrl.set(n,t)})),V((function(t){return jk(t)})))}},{key:"getNamedSvgIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Uk(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);var r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):bh(Dk(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(t){return t.svgElement?Ch(jk(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Fh((function(e){return t.svgElement=e})),V((function(t){return jk(t)})))}},{key:"_getSvgFromIconSetConfigs",value:function(t,e){var n=this,i=this._extractIconWithNameFromAnySet(t,e);return i?Ch(i):fm(e.filter((function(t){return!t.svgElement})).map((function(t){return n._loadSvgIconSetFromConfig(t).pipe(Mk((function(e){var i="Loading icon set URL: ".concat(n._sanitizer.sanitize(Pi.RESOURCE_URL,t.url)," failed: ").concat(e.message);return n._errorHandler?n._errorHandler.handleError(new Error(i)):console.error(i),Ch(null)})))}))).pipe(V((function(){var i=n._extractIconWithNameFromAnySet(t,e);if(!i)throw Dk(t);return i})))}},{key:"_extractIconWithNameFromAnySet",value:function(t,e){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.svgElement){var r=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(r)return r}}return null}},{key:"_loadSvgIconFromConfig",value:function(t){var e=this;return this._fetchUrl(t.url).pipe(V((function(n){return e._createSvgElementForSingleIcon(n,t.options)})))}},{key:"_loadSvgIconSetFromConfig",value:function(t){var e=this;return t.svgElement?Ch(t.svgElement):this._fetchUrl(t.url).pipe(V((function(n){return t.svgElement||(t.svgElement=e._svgElementFromString(n)),t.svgElement})))}},{key:"_createSvgElementForSingleIcon",value:function(t,e){var n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}},{key:"_extractSvgIconFromSet",value:function(t,e,n){var i=t.querySelector('[id="'.concat(e,'"]'));if(!i)return null;var r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);var a=this._svgElementFromString("<svg></svg>");return a.appendChild(r),this._setSvgAttributes(a,n)}},{key:"_svgElementFromString",value:function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=t.attributes,i=0;i<n.length;i++){var r=n[i],a=r.name,o=r.value;"id"!==a&&e.setAttribute(a,o)}for(var s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[s].cloneNode(!0));return e}},{key:"_setSvgAttributes",value:function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}},{key:"_fetchUrl",value:function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'.concat(t,'".'));var n=this._sanitizer.sanitize(Pi.RESOURCE_URL,t);if(!n)throw Nk(t);var i=this._inProgressUrlFetches.get(n);if(i)return i;var r=this._httpClient.get(n,{responseType:"text"}).pipe(Pk((function(){return e._inProgressUrlFetches.delete(n)})),ot());return this._inProgressUrlFetches.set(n,r),r}},{key:"_addSvgIconConfig",value:function(t,e,n){return this._svgIconConfigs.set(Uk(t,e),n),this}},{key:"_addSvgIconSetConfig",value:function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}]),t}()).\u0275fac=function(t){return new(t||zk)($t(Od,8),$t(dh),$t(Tc,8),$t(Jn,8))},zk.\u0275prov=mt({factory:function(){return new zk($t(Od,8),$t(dh),$t(Tc,8),$t(Jn,8))},token:zk,providedIn:"root"}),zk);function jk(t){return t.cloneNode(!0)}function Uk(t,e){return t+":"+e}var Hk,Gk,Wk,qk,Yk,Xk,Zk,Qk,Jk,Kk,$k,tS,eS,nS,iS,rS=gb((function t(e){_classCallCheck(this,t),this._elementRef=e})),aS=new Gt("mat-icon-location",{providedIn:"root",factory:function(){var t=te(Tc),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),oS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],sS=oS.map((function(t){return"[".concat(t,"]")})).join(", "),lS=/^url\(['"]?#(.*?)['"]?\)$/,cS=((Wk=function(t){function e(t,n,i,r,a){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._iconRegistry=n,o._location=r,o._errorHandler=a,o._inline=!1,i||t.nativeElement.setAttribute("aria-hidden","true"),o}return _inherits(e,t),_createClass(e,[{key:"_splitIconName",value:function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'.concat(t,'"'))}}},{key:"ngOnChanges",value:function(t){var e=this,n=t.svgIcon;if(n)if(this.svgIcon){var i=_slicedToArray(this._splitIconName(this.svgIcon),2),r=i[0],a=i[1];this._iconRegistry.getNamedSvgIcon(a,r).pipe(Ih(1)).subscribe((function(t){return e._setSvgElement(t)}),(function(t){var n="Error retrieving icon ".concat(r,":").concat(a,"! ").concat(t.message);e._errorHandler?e._errorHandler.handleError(new Error(n)):console.error(n)}))}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngOnInit",value:function(){this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}},{key:"ngOnDestroy",value:function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){var i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i)}this._elementRef.nativeElement.appendChild(t)}},{key:"_clearSvgElement",value:function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(t){return"string"==typeof t?t.trim().split(" ")[0]:t}},{key:"_prependPathToReferences",value:function(t){var e=this._elementsWithExternalReferences;e&&e.forEach((function(e,n){e.forEach((function(e){n.setAttribute(e.name,"url('".concat(t,"#").concat(e.value,"')"))}))}))}},{key:"_cacheChildrenWithExternalReferences",value:function(t){for(var e=t.querySelectorAll(sS),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,i=function(t){oS.forEach((function(i){var r=e[t],a=r.getAttribute(i),o=a?a.match(lS):null;if(o){var s=n.get(r);s||(s=[],n.set(r,s)),s.push({name:i,value:o[1]})}}))},r=0;r<e.length;r++)i(r)}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=Zf(t)}},{key:"fontSet",get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)}}]),e}(rS)).\u0275fac=function(t){return new(t||Wk)(ho(ms),ho(Bk),fo("aria-hidden"),ho(aS,8),ho(Jn,8))},Wk.\u0275cmp=ye({type:Wk,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&No("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[Xo,ts()],ngContentSelectors:Ik,decls:1,vars:0,template:function(t,e){1&t&&(Ro(),Po(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Wk),uS=((Gk=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Gk}),Gk.\u0275inj=vt({factory:function(t){return new(t||Gk)},imports:[[mb],mb]}),Gk),hS=((Hk=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Hk}),Hk.\u0275inj=vt({factory:function(t){return new(t||Hk)},imports:[[mb],mb]}),Hk),dS=["*"],fS=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],pS=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],mS=vb(yb((function t(){_classCallCheck(this,t)}))),vS=yb((function t(){_classCallCheck(this,t)})),gS=((qk=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._stateChanges=new M,t}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),e}(mS)).\u0275fac=function(t){return yS(t||qk)},qk.\u0275cmp=ye({type:qk,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Xo,ts()],ngContentSelectors:dS,decls:1,vars:0,template:function(t,e){1&t&&(Ro(),Po(0))},styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n"],encapsulation:2,changeDetection:0}),qk),yS=Yn(gS),_S=((Kk=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._elementRef=t,n._stateChanges=new M,"action-list"===n._getListType()&&t.nativeElement.classList.add("mat-action-list"),n}return _inherits(e,t),_createClass(e,[{key:"_getListType",value:function(){var t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}},{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),e}(mS)).\u0275fac=function(t){return new(t||Kk)(ho(ms))},Kk.\u0275cmp=ye({type:Kk,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[Xo,ts()],ngContentSelectors:dS,decls:1,vars:0,template:function(t,e){1&t&&(Ro(),Po(0))},styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n"],encapsulation:2,changeDetection:0}),Kk),bS=((Jk=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Jk)},Jk.\u0275dir=ke({type:Jk,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),Jk),xS=((Qk=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Qk)},Qk.\u0275dir=ke({type:Qk,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),Qk),wS=((Zk=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Zk)},Zk.\u0275dir=ke({type:Zk,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),Zk),CS=((Xk=function(t){function e(t,n,i,r){var a;_classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._element=t,a._isInteractiveList=!1,a._destroyed=new M,a._disabled=!1,a._isInteractiveList=!!(i||r&&"action-list"===r._getListType()),a._list=i||r;var o=a._getHostElement();return"button"!==o.nodeName.toLowerCase()||o.hasAttribute("type")||o.setAttribute("type","button"),a._list&&a._list._stateChanges.pipe($d(a._destroyed)).subscribe((function(){n.markForCheck()})),a}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentInit",value:function(){var t,e;e=this._element,(t=this._lines).changes.pipe(Bg(t)).subscribe((function(t){var n=t.length;Bb(e,"mat-2-line",!1),Bb(e,"mat-3-line",!1),Bb(e,"mat-multi-line",!1),2===n||3===n?Bb(e,"mat-".concat(n,"-line"),!0):n>3&&Bb(e,"mat-multi-line",!0)}))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_isRippleDisabled",value:function(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"disabled",get:function(){return this._disabled||!(!this._list||!this._list.disabled)},set:function(t){this._disabled=Zf(t)}}]),e}(vS)).\u0275fac=function(t){return new(t||Xk)(ho(ms),ho(Oa),ho(gS,8),ho(_S,8))},Xk.\u0275cmp=ye({type:Xk,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var i;1&t&&(bl(n,bS,!0),bl(n,xS,!0),bl(n,Vb,!0)),2&t&&(vl(i=wl())&&(e._avatar=i.first),vl(i=wl())&&(e._icon=i.first),vl(i=wl())&&(e._lines=i))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&No("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Xo],ngContentSelectors:pS,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(Ro(fS),go(0,"div",0),_o(1,"div",1),Po(2),go(3,"div",2),Po(4,1),yo(),Po(5,2),yo()),2&t&&(or(1),mo("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[Kb],encapsulation:2,changeDetection:0}),Xk),kS=((Yk=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:Yk}),Yk.\u0275inj=vt({factory:function(t){return new(t||Yk)},imports:[[qb,$b,mb,tx,gu],qb,mb,tx,hS]}),Yk),SS={provide:new Gt("mat-select-scroll-strategy"),deps:[Dw],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},ES=(($k=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:$k}),$k.\u0275inj=vt({factory:function(t){return new(t||$k)},providers:[SS],imports:[[gu,Fw,ex,mb],Vw,ex,mb]}),$k),TS={},MS=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new AS(t,this.resultSelector))}}]),t}(),AS=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.values.push(TS),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(F(this,i,i,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,i,r){var a=this.values,o=this.toRespond?a[n]===TS?--this.toRespond:this.toRespond:0;a[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(z),RS={provide:new Gt("mat-tooltip-scroll-strategy"),deps:[Dw],useFactory:function(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}},PS=((eS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:eS}),eS.\u0275inj=vt({factory:function(t){return new(t||eS)},providers:[RS],imports:[[zg,gu,Fw,mb],mb]}),eS),OS=((tS=function t(){_classCallCheck(this,t),this.changes=new M,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(t,e,n){if(0==n||0==e)return"0 of ".concat(n);var i=t*e;return"".concat(i+1," \u2013 ").concat(i<(n=Math.max(n,0))?Math.min(i+e,n):i+e," of ").concat(n)}}).\u0275fac=function(t){return new(t||tS)},tS.\u0275prov=mt({factory:function(){return new tS},token:tS,providedIn:"root"}),tS),LS={provide:OS,deps:[[new ct,new ht,OS]],useFactory:function(t){return t||new OS}},IS=((iS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:iS}),iS.\u0275inj=vt({factory:function(t){return new(t||iS)},providers:[LS],imports:[[gu,Xw,ES,PS]]}),iS),DS=((nS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:nS}),nS.\u0275inj=vt({factory:function(t){return new(t||nS)},imports:[[gu,mb],mb]}),nS);function NS(t,e){if(1&t&&(sn(),_o(0,"circle",3)),2&t){var n=Mo();Do("animation-name","mat-progress-spinner-stroke-rotate-"+n.diameter)("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),lo("r",n._circleRadius)}}function FS(t,e){if(1&t&&(sn(),_o(0,"circle",3)),2&t){var n=Mo();Do("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),lo("r",n._circleRadius)}}function zS(t,e){if(1&t&&(sn(),_o(0,"circle",3)),2&t){var n=Mo();Do("animation-name","mat-progress-spinner-stroke-rotate-"+n.diameter)("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),lo("r",n._circleRadius)}}function VS(t,e){if(1&t&&(sn(),_o(0,"circle",3)),2&t){var n=Mo();Do("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),lo("r",n._circleRadius)}}var BS,jS,US,HS,GS,WS,qS,YS,XS,ZS,QS,JS,KS,$S,tE,eE,nE=gb((function t(e){_classCallCheck(this,t),this._elementRef=e}),"primary"),iE=new Gt("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}}),rE=((HS=function(t){function e(t,n,i,r,a){var o;_classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._elementRef=t,o._document=i,o._diameter=100,o._value=0,o._fallbackAnimation=!1,o.mode="determinate";var s=e._diameters;return s.has(i.head)||s.set(i.head,new Set([100])),o._fallbackAnimation=n.EDGE||n.TRIDENT,o._noopAnimations="NoopAnimations"===r&&!!a&&!a._forceAnimations,a&&(a.diameter&&(o.diameter=a.diameter),a.strokeWidth&&(o.strokeWidth=a.strokeWidth)),o}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){var t=this._elementRef.nativeElement;this._styleRoot=function(t,e){if("undefined"!=typeof window){var n=e.head;if(n&&(n.createShadowRoot||n.attachShadow)){var i=t.getRootNode?t.getRootNode():null;if(i instanceof window.ShadowRoot)return i}}return null}(t,this._document)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate".concat(this._fallbackAnimation?"-fallback":"","-animation"))}},{key:"_attachStyleNode",value:function(){var t=this._styleRoot,n=this._diameter,i=e._diameters,r=i.get(t);if(!r||!r.has(n)){var a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",n+""),a.textContent=this._getAnimationText(),t.appendChild(a),r||(r=new Set,i.set(t,r)),r.add(n)}}},{key:"_getAnimationText",value:function(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,"".concat(.95*this._strokeCircumference)).replace(/END_VALUE/g,"".concat(.2*this._strokeCircumference)).replace(/DIAMETER/g,"".concat(this.diameter))}},{key:"diameter",get:function(){return this._diameter},set:function(t){this._diameter=Qf(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}},{key:"strokeWidth",get:function(){return this._strokeWidth||this.diameter/10},set:function(t){this._strokeWidth=Qf(t)}},{key:"value",get:function(){return"determinate"===this.mode?this._value:0},set:function(t){this._value=Math.max(0,Math.min(100,Qf(t)))}},{key:"_circleRadius",get:function(){return(this.diameter-10)/2}},{key:"_viewBox",get:function(){var t=2*this._circleRadius+this.strokeWidth;return"0 0 ".concat(t," ").concat(t)}},{key:"_strokeCircumference",get:function(){return 2*Math.PI*this._circleRadius}},{key:"_strokeDashOffset",get:function(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}},{key:"_circleStrokeWidth",get:function(){return this.strokeWidth/this.diameter*100}}]),e}(nE)).\u0275fac=function(t){return new(t||HS)(ho(ms),ho(hg),ho(Tc,8),ho(ub,8),ho(iE))},HS.\u0275cmp=ye({type:HS,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(lo("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),Do("width",e.diameter,"px")("height",e.diameter,"px"),No("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[Xo],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(sn(),go(0,"svg",0),co(1,NS,1,9,"circle",1),co(2,FS,1,7,"circle",2),yo()),2&t&&(Do("width",e.diameter,"px")("height",e.diameter,"px"),mo("ngSwitch","indeterminate"===e.mode),lo("viewBox",e._viewBox),or(1),mo("ngSwitchCase",!0),or(1),mo("ngSwitchCase",!1))},directives:[mu,vu],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),HS._diameters=new WeakMap,HS),aE=((US=function(t){function e(t,n,i,r,a){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i,r,a))).mode="indeterminate",o}return _inherits(e,t),e}(rE)).\u0275fac=function(t){return new(t||US)(ho(ms),ho(hg),ho(Tc,8),ho(ub,8),ho(iE))},US.\u0275cmp=ye({type:US,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(Do("width",e.diameter,"px")("height",e.diameter,"px"),No("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[Xo],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(sn(),go(0,"svg",0),co(1,zS,1,9,"circle",1),co(2,VS,1,7,"circle",2),yo()),2&t&&(Do("width",e.diameter,"px")("height",e.diameter,"px"),mo("ngSwitch","indeterminate"===e.mode),lo("viewBox",e._viewBox),or(1),mo("ngSwitchCase",!0),or(1),mo("ngSwitchCase",!1))},directives:[mu,vu],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),US),oE=((jS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:jS}),jS.\u0275inj=vt({factory:function(t){return new(t||jS)},imports:[[mb,gu],mb]}),jS),sE=((BS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:BS}),BS.\u0275inj=vt({factory:function(t){return new(t||BS)},imports:[[$b,mb],mb]}),BS),lE=["thumbContainer"],cE=["toggleBar"],uE=["input"],hE=function(){return{enterDuration:150}},dE=["*"],fE=new Gt("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1}}}),pE=0,mE={provide:_m,useExisting:Mt((function(){return yE})),multi:!0},vE=function t(e,n){_classCallCheck(this,t),this.source=e,this.checked=n},gE=_b(gb(yb(vb((function t(e){_classCallCheck(this,t),this._elementRef=e}))),"accent")),yE=((ZS=function(t){function e(t,n,i,r,a,o,s,l){var c;return _classCallCheck(this,e),(c=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._focusMonitor=n,c._changeDetectorRef=i,c.defaults=o,c._animationMode=s,c._onChange=function(t){},c._onTouched=function(){},c._uniqueId="mat-slide-toggle-".concat(++pE),c._required=!1,c._checked=!1,c.name=null,c.id=c._uniqueId,c.labelPosition="after",c.ariaLabel=null,c.ariaLabelledby=null,c.change=new al,c.toggleChange=new al,c.dragChange=new al,c.tabIndex=parseInt(r)||0,c}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentInit",value:function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){"keyboard"===e||"program"===e?t._inputElement.nativeElement.focus():e||Promise.resolve().then((function(){return t._onTouched()}))}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_onChangeEvent",value:function(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(t){t.stopPropagation()}},{key:"writeValue",value:function(t){this.checked=!!t}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetectorRef.markForCheck()}},{key:"focus",value:function(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(new vE(this,this.checked))}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"required",get:function(){return this._required},set:function(t){this._required=Zf(t)}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=Zf(t),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}}]),e}(gE)).\u0275fac=function(t){return new(t||ZS)(ho(ms),ho(Dg),ho(Oa),fo("tabindex"),ho(Xl),ho(fE),ho(ub,8),ho(mp,8))},ZS.\u0275cmp=ye({type:ZS,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var n;1&t&&(yl(lE,!0),yl(cE,!0),yl(uE,!0)),2&t&&(vl(n=wl())&&(e._thumbEl=n.first),vl(n=wl())&&(e._thumbBarEl=n.first),vl(n=wl())&&(e._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(Wo("id",e.id),lo("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),No("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[hs([mE]),Xo],ngContentSelectors:dE,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(Ro(),go(0,"label",0,1),go(2,"div",2,3),go(4,"input",4,5),Co("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),yo(),go(6,"div",6,7),_o(8,"div",8),go(9,"div",9),_o(10,"div",10),yo(),yo(),yo(),go(11,"span",11,12),Co("cdkObserveContent",(function(t){return e._onLabelTextChange()})),go(13,"span",13),Uo(14,"\xa0"),yo(),Po(15),yo(),yo()),2&t){var n=uo(1),i=uo(12);lo("for",e.inputId),or(2),No("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),or(2),mo("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),lo("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),or(5),mo("matRippleTrigger",n)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",(r=hE,a=qe()+17,(o=Fe())[a]===rr?ao(o,a,r()):oo(o,a)))}var r,a,o},directives:[Kb,xg],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),ZS),_E=((XS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:XS}),XS.\u0275inj=vt({factory:function(t){return new(t||XS)}}),XS),bE=((YS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:YS}),YS.\u0275inj=vt({factory:function(t){return new(t||YS)},imports:[[_E,$b,mb,wg],_E,mb]}),YS),xE=((qS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:qS}),qS.\u0275inj=vt({factory:function(t){return new(t||qS)},imports:[[gu,mb],mb]}),qS),wE=((WS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:WS}),WS.\u0275inj=vt({factory:function(t){return new(t||WS)},imports:[[Fw,Dx,gu,Xw,mb],mb]}),WS),CE=((GS=function t(){_classCallCheck(this,t),this.changes=new M,this.sortButtonLabel=function(t){return"Change sorting for ".concat(t)}}).\u0275fac=function(t){return new(t||GS)},GS.\u0275prov=mt({factory:function(){return new GS},token:GS,providedIn:"root"}),GS),kE={provide:CE,deps:[[new ct,new ht,CE]],useFactory:function(t){return t||new CE}},SE=((KS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:KS}),KS.\u0275inj=vt({factory:function(t){return new(t||KS)},providers:[kE],imports:[[gu]]}),KS),EE=((JS=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:JS}),JS.\u0275inj=vt({factory:function(t){return new(t||JS)},imports:[[vp]]}),JS),TE=((QS=function t(){_classCallCheck(this,t),this.changes=new M,this.optionalLabel="Optional"}).\u0275fac=function(t){return new(t||QS)},QS.\u0275prov=mt({factory:function(){return new QS},token:QS,providedIn:"root"}),QS),ME={provide:TE,deps:[[new ct,new ht,TE]],useFactory:function(t){return t||new TE}},AE=((eE=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:eE}),eE.\u0275inj=vt({factory:function(t){return new(t||eE)},providers:[ME,zb],imports:[[mb,gu,Dx,Xw,EE,uS,$b],mb]}),eE),RE=((tE=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:tE}),tE.\u0275inj=vt({factory:function(t){return new(t||tE)}}),tE),PE=(($S=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:$S}),$S.\u0275inj=vt({factory:function(t){return new(t||$S)},imports:[[RE,mb]]}),$S);function OE(t,e){1&t&&Po(0)}var LE=["*"];function IE(t,e){}var DE=function(t){return{animationDuration:t}},NE=function(t,e){return{value:t,params:e}},FE=["tabBodyWrapper"],zE=["tabHeader"];function VE(t,e){}function BE(t,e){1&t&&co(0,VE,0,0,"ng-template",9),2&t&&mo("cdkPortalOutlet",Mo().$implicit.templateLabel)}function jE(t,e){1&t&&Uo(0),2&t&&Ho(Mo().$implicit.textLabel)}function UE(t,e){if(1&t){var n=bo();go(0,"div",6),Co("click",(function(t){Ve(n);var i=e.$implicit,r=e.index,a=Mo(),o=uo(1);return a._handleClick(i,o,r)})),go(1,"div",7),co(2,BE,1,1,"ng-template",8),co(3,jE,1,1,"ng-template",8),yo(),yo()}if(2&t){var i=e.$implicit,r=e.index,a=Mo();No("mat-tab-label-active",a.selectedIndex==r),mo("id",a._getTabLabelId(r))("disabled",i.disabled)("matRippleDisabled",i.disabled||a.disableRipple),lo("tabIndex",a._getTabIndex(i,r))("aria-posinset",r+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(r))("aria-selected",a.selectedIndex==r)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),or(2),mo("ngIf",i.templateLabel),or(1),mo("ngIf",!i.templateLabel)}}function HE(t,e){if(1&t){var n=bo();go(0,"mat-tab-body",10),Co("_onCentered",(function(t){return Ve(n),Mo()._removeTabBodyWrapperHeight()}))("_onCentering",(function(t){return Ve(n),Mo()._setTabBodyWrapperHeight(t)})),yo()}if(2&t){var i=e.$implicit,r=e.index,a=Mo();No("mat-tab-body-active",a.selectedIndex==r),mo("id",a._getTabContentId(r))("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",a.animationDuration),lo("aria-labelledby",a._getTabLabelId(r))}}var GE,WE,qE,YE,XE,ZE,QE,JE,KE,$E,tT,eT,nT,iT,rT,aT,oT,sT,lT,cT,uT,hT,dT=["tabListContainer"],fT=["tabList"],pT=["nextPaginator"],mT=["previousPaginator"],vT=new Gt("MatInkBarPositioner",{providedIn:"root",factory:function(){return function(t){return{left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"}}}}),gT=((qE=function(){function t(e,n,i,r){_classCallCheck(this,t),this._elementRef=e,this._ngZone=n,this._inkBarPositioner=i,this._animationMode=r}return _createClass(t,[{key:"alignToElement",value:function(t){var e=this;this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return e._setStyles(t)}))})):this._setStyles(t)}},{key:"show",value:function(){this._elementRef.nativeElement.style.visibility="visible"}},{key:"hide",value:function(){this._elementRef.nativeElement.style.visibility="hidden"}},{key:"_setStyles",value:function(t){var e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}]),t}()).\u0275fac=function(t){return new(t||qE)(ho(ms),ho(Xl),ho(vT),ho(ub,8))},qE.\u0275dir=ke({type:qE,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&No("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),qE),yT=((WE=function t(e){_classCallCheck(this,t),this.template=e}).\u0275fac=function(t){return new(t||WE)(ho(Vs))},WE.\u0275dir=ke({type:WE,selectors:[["","matTabContent",""]]}),WE),_T=((GE=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(Px)).\u0275fac=function(t){return bT(t||GE)},GE.\u0275dir=ke({type:GE,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Xo]}),GE),bT=Yn(_T),xT=vb((function t(){_classCallCheck(this,t)})),wT=new Gt("MAT_TAB_GROUP"),CT=((YE=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._viewContainerRef=t,i._closestTabGroup=n,i.textLabel="",i._contentPortal=null,i._stateChanges=new M,i.position=null,i.origin=null,i.isActive=!1,i}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"ngOnInit",value:function(){this._contentPortal=new Tx(this._explicitContent||this._implicitContent,this._viewContainerRef)}},{key:"templateLabel",get:function(){return this._templateLabel},set:function(t){t&&(this._templateLabel=t)}},{key:"content",get:function(){return this._contentPortal}}]),e}(xT)).\u0275fac=function(t){return new(t||YE)(ho(js),ho(wT,8))},YE.\u0275cmp=ye({type:YE,selectors:[["mat-tab"]],contentQueries:function(t,e,n){var i,r,a,o;1&t&&(bl(n,_T,!0),r=n,a=yT,o=Vs,xl(ze(),Fe(),a,!0,o,!0,Be(),r)),2&t&&(vl(i=wl())&&(e.templateLabel=i.first),vl(i=wl())&&(e._explicitContent=i.first))},viewQuery:function(t,e){var n;1&t&&gl(Vs,!0),2&t&&vl(n=wl())&&(e._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[Xo,ts()],ngContentSelectors:LE,decls:1,vars:0,template:function(t,e){1&t&&(Ro(),co(0,OE,1,0,"ng-template"))},encapsulation:2}),YE),kT={translateTab:Ug("translateTab",[qg("center, void, left-origin-center, right-origin-center",Wg({transform:"none"})),qg("left",Wg({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),qg("right",Wg({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Yg("* => left, * => right, left => center, right => center",Hg("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Yg("void => left-origin-center",[Wg({transform:"translate3d(-100%, 0, 0)"}),Hg("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Yg("void => right-origin-center",[Wg({transform:"translate3d(100%, 0, 0)"}),Hg("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},ST=((QE=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,r)))._host=i,a._centeringSub=d.EMPTY,a._leavingSub=d.EMPTY,a}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){var t=this;_get(_getPrototypeOf(e.prototype),"ngOnInit",this).call(this),this._centeringSub=this._host._beforeCentering.pipe(Bg(this._host._isCenterPosition(this._host._position))).subscribe((function(e){e&&!t.hasAttached()&&t.attach(t._host._content)})),this._leavingSub=this._host._afterLeavingCenter.subscribe((function(){t.detach()}))}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(e.prototype),"ngOnDestroy",this).call(this),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}]),e}(Ox)).\u0275fac=function(t){return new(t||QE)(ho(ps),ho(js),ho(Mt((function(){return TT}))),ho(Tc))},QE.\u0275dir=ke({type:QE,selectors:[["","matTabBodyHost",""]],features:[Xo]}),QE),ET=((ZE=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this._elementRef=e,this._dir=n,this._dirChangeSubscription=d.EMPTY,this._translateTabComplete=new M,this._onCentering=new al,this._beforeCentering=new al,this._afterLeavingCenter=new al,this._onCentered=new al(!0),this.animationDuration="500ms",n&&(this._dirChangeSubscription=n.change.subscribe((function(t){r._computePositionAnimationState(t),i.markForCheck()}))),this._translateTabComplete.pipe(nx((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){r._isCenterPosition(t.toState)&&r._isCenterPosition(r._position)&&r._onCentered.emit(),r._isCenterPosition(t.fromState)&&!r._isCenterPosition(r._position)&&r._afterLeavingCenter.emit()}))}return _createClass(t,[{key:"ngOnInit",value:function(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}},{key:"ngOnDestroy",value:function(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}},{key:"_onTranslateTabStarted",value:function(t){var e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_isCenterPosition",value:function(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}},{key:"_computePositionAnimationState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getLayoutDirection();this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}},{key:"_computePositionFromOrigin",value:function(t){var e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}},{key:"position",set:function(t){this._positionIndex=t,this._computePositionAnimationState()}}]),t}()).\u0275fac=function(t){return new(t||ZE)(ho(ms),ho(mp,8),ho(Oa))},ZE.\u0275dir=ke({type:ZE,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),ZE),TT=((XE=function(t){function e(t,n,i){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i))}return _inherits(e,t),e}(ET)).\u0275fac=function(t){return new(t||XE)(ho(ms),ho(mp,8),ho(Oa))},XE.\u0275cmp=ye({type:XE,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var n;1&t&&yl(Lx,!0),2&t&&vl(n=wl())&&(e._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[Xo],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){var n,i;1&t&&(go(0,"div",0,1),Co("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),co(2,IE,0,0,"ng-template",2),yo()),2&t&&mo("@translateTab",rl(3,NE,e._position,(n=DE,i=e.animationDuration,function(t,e,n,i,r,a){var o=e+1;return so(t,o,r)?ao(t,o+1,i(r)):oo(t,o+1)}(Fe(),qe(),0,n,i))))},directives:[ST],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[kT.translateTab]}}),XE),MT=new Gt("MAT_TABS_CONFIG"),AT=0,RT=function t(){_classCallCheck(this,t)},PT=gb(yb((function t(e){_classCallCheck(this,t),this._elementRef=e})),"primary"),OT=((KE=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._changeDetectorRef=n,a._animationMode=r,a._tabs=new sl,a._indexToSelect=0,a._tabBodyWrapperHeight=0,a._tabsSubscription=d.EMPTY,a._tabLabelSubscription=d.EMPTY,a._dynamicHeight=!1,a._selectedIndex=null,a.headerPosition="above",a.selectedIndexChange=new al,a.focusChange=new al,a.animationDone=new al,a.selectedTabChange=new al(!0),a._groupId=AT++,a.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",a.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,a}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentChecked",value:function(){var t=this,e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){var n=null==this._selectedIndex;n||this.selectedTabChange.emit(this._createChangeEvent(e)),Promise.resolve().then((function(){t._tabs.forEach((function(t,n){return t.isActive=n===e})),n||t.selectedIndexChange.emit(e)}))}this._tabs.forEach((function(n,i){n.position=i-e,null==t._selectedIndex||0!=n.position||n.origin||(n.origin=e-t._selectedIndex)})),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}},{key:"ngAfterContentInit",value:function(){var t=this;this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe((function(){if(t._clampTabIndex(t._indexToSelect)===t._selectedIndex)for(var e=t._tabs.toArray(),n=0;n<e.length;n++)if(e[n].isActive){t._indexToSelect=t._selectedIndex=n;break}t._changeDetectorRef.markForCheck()}))}},{key:"_subscribeToAllTabChanges",value:function(){var t=this;this._allTabs.changes.pipe(Bg(this._allTabs)).subscribe((function(e){t._tabs.reset(e.filter((function(e){return!e._closestTabGroup||e._closestTabGroup===t}))),t._tabs.notifyOnChanges()}))}},{key:"ngOnDestroy",value:function(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}},{key:"realignInkBar",value:function(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}},{key:"_focusChanged",value:function(t){this.focusChange.emit(this._createChangeEvent(t))}},{key:"_createChangeEvent",value:function(t){var e=new RT;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}},{key:"_subscribeToTabLabels",value:function(){var t=this;this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Q.apply(void 0,_toConsumableArray(this._tabs.map((function(t){return t._stateChanges})))).subscribe((function(){return t._changeDetectorRef.markForCheck()}))}},{key:"_clampTabIndex",value:function(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}},{key:"_getTabLabelId",value:function(t){return"mat-tab-label-".concat(this._groupId,"-").concat(t)}},{key:"_getTabContentId",value:function(t){return"mat-tab-content-".concat(this._groupId,"-").concat(t)}},{key:"_setTabBodyWrapperHeight",value:function(t){if(this._dynamicHeight&&this._tabBodyWrapperHeight){var e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}}},{key:"_removeTabBodyWrapperHeight",value:function(){var t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}},{key:"_handleClick",value:function(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}},{key:"_getTabIndex",value:function(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}},{key:"dynamicHeight",get:function(){return this._dynamicHeight},set:function(t){this._dynamicHeight=Zf(t)}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){this._indexToSelect=Qf(t,null)}},{key:"animationDuration",get:function(){return this._animationDuration},set:function(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){var e=this._elementRef.nativeElement;e.classList.remove("mat-background-".concat(this.backgroundColor)),t&&e.classList.add("mat-background-".concat(t)),this._backgroundColor=t}}]),e}(PT)).\u0275fac=function(t){return new(t||KE)(ho(ms),ho(Oa),ho(MT,8),ho(ub,8))},KE.\u0275dir=ke({type:KE,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Xo]}),KE),LT=((JE=function(t){function e(t,n,i,r){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i,r))}return _inherits(e,t),e}(OT)).\u0275fac=function(t){return new(t||JE)(ho(ms),ho(Oa),ho(MT,8),ho(ub,8))},JE.\u0275cmp=ye({type:JE,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){var i;1&t&&bl(n,CT,!0),2&t&&vl(i=wl())&&(e._allTabs=i)},viewQuery:function(t,e){var n;1&t&&(yl(FE,!0),yl(zE,!0)),2&t&&(vl(n=wl())&&(e._tabBodyWrapper=n.first),vl(n=wl())&&(e._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&No("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[hs([{provide:wT,useExisting:JE}]),Xo],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(go(0,"mat-tab-header",0,1),Co("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),co(2,UE,4,14,"div",2),yo(),go(3,"div",3,4),co(5,HE,1,8,"mat-tab-body",5),yo()),2&t&&(mo("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),or(2),mo("ngForOf",e._tabs),or(1),No("_mat-animation-noopable","NoopAnimations"===e._animationMode),or(2),mo("ngForOf",e._tabs))},directives:function(){return[VT,ou,DT,Kb,Ng,lu,Ox,TT]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),JE),IT=vb((function t(){_classCallCheck(this,t)})),DT=(($E=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).elementRef=t,n}return _inherits(e,t),_createClass(e,[{key:"focus",value:function(){this.elementRef.nativeElement.focus()}},{key:"getOffsetLeft",value:function(){return this.elementRef.nativeElement.offsetLeft}},{key:"getOffsetWidth",value:function(){return this.elementRef.nativeElement.offsetWidth}}]),e}(IT)).\u0275fac=function(t){return new(t||$E)(ho(ms))},$E.\u0275dir=ke({type:$E,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(lo("aria-disabled",!!e.disabled),No("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[Xo]}),$E),NT=fg({passive:!0}),FT=((cT=function(){function t(e,n,i,r,a,o,s){var l=this;_classCallCheck(this,t),this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=i,this._dir=r,this._ngZone=a,this._platform=o,this._animationMode=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new M,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new M,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new al,this.indexFocused=new al,a.runOutsideAngular((function(){wh(e.nativeElement,"mouseleave").pipe($d(l._destroyed)).subscribe((function(){l._stopInterval()}))}))}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this;wh(this._previousPaginator.nativeElement,"touchstart",NT).pipe($d(this._destroyed)).subscribe((function(){t._handlePaginatorPress("before")})),wh(this._nextPaginator.nativeElement,"touchstart",NT).pipe($d(this._destroyed)).subscribe((function(){t._handlePaginatorPress("after")}))}},{key:"ngAfterContentInit",value:function(){var t=this,e=this._dir?this._dir.change:Ch(null),n=this._viewportRuler.change(150),i=function(){t.updatePagination(),t._alignInkBarToSelectedTab()};this._keyManager=new Cg(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),Q(e,n,this._items.changes).pipe($d(this._destroyed)).subscribe((function(){i(),t._keyManager.withHorizontalOrientation(t._getLayoutDirection())})),this._keyManager.change.pipe($d(this._destroyed)).subscribe((function(e){t.indexFocused.emit(e),t._setTabFocus(e)}))}},{key:"ngAfterContentChecked",value:function(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}},{key:"_handleKeydown",value:function(t){if(!sg(t))switch(t.keyCode){case 36:this._keyManager.setFirstItemActive(),t.preventDefault();break;case 35:this._keyManager.setLastItemActive(),t.preventDefault();break;case 13:case 32:this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t);break;default:this._keyManager.onKeydown(t)}}},{key:"_onContentChanges",value:function(){var t=this,e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run((function(){t.updatePagination(),t._alignInkBarToSelectedTab(),t._changeDetectorRef.markForCheck()})))}},{key:"updatePagination",value:function(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}},{key:"_isValidIndex",value:function(t){if(!this._items)return!0;var e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}},{key:"_setTabFocus",value:function(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();var e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_updateTabScrollPosition",value:function(){if(!this.disablePagination){var t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform="translateX(".concat(Math.round(n),"px)"),e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}}},{key:"_scrollHeader",value:function(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}},{key:"_handlePaginatorClick",value:function(t){this._stopInterval(),this._scrollHeader(t)}},{key:"_scrollToLabel",value:function(t){if(!this.disablePagination){var e=this._items?this._items.toArray()[t]:null;if(e){var n,i,r=this._tabListContainer.nativeElement.offsetWidth,a=e.elementRef.nativeElement,o=a.offsetLeft,s=a.offsetWidth;"ltr"==this._getLayoutDirection()?i=(n=o)+s:n=(i=this._tabList.nativeElement.offsetWidth-o)-s;var l=this.scrollDistance,c=this.scrollDistance+r;n<l?this.scrollDistance-=l-n+60:i>c&&(this.scrollDistance+=i-c+60)}}}},{key:"_checkPaginationEnabled",value:function(){if(this.disablePagination)this._showPaginationControls=!1;else{var t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}},{key:"_checkScrollingControls",value:function(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}},{key:"_getMaxScrollDistance",value:function(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}},{key:"_alignInkBarToSelectedTab",value:function(){var t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}},{key:"_stopInterval",value:function(){this._stopScrolling.next()}},{key:"_handlePaginatorPress",value:function(t,e){var n=this;e&&null!=e.button&&0!==e.button||(this._stopInterval(),lx(650,100).pipe($d(Q(this._stopScrolling,this._destroyed))).subscribe((function(){var e=n._scrollHeader(t),i=e.maxScrollDistance,r=e.distance;(0===r||r>=i)&&n._stopInterval()})))}},{key:"_scrollTo",value:function(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};var e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){t=Qf(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}},{key:"focusIndex",get:function(){return this._keyManager?this._keyManager.activeItemIndex:0},set:function(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}},{key:"scrollDistance",get:function(){return this._scrollDistance},set:function(t){this._scrollTo(t)}}]),t}()).\u0275fac=function(t){return new(t||cT)(ho(ms),ho(Oa),ho(yx),ho(mp,8),ho(Xl),ho(hg),ho(ub,8))},cT.\u0275dir=ke({type:cT,inputs:{disablePagination:"disablePagination"}}),cT),zT=((lT=function(t){function e(t,n,i,r,a,o,s){var l;return _classCallCheck(this,e),(l=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i,r,a,o,s)))._disableRipple=!1,l}return _inherits(e,t),_createClass(e,[{key:"_itemSelected",value:function(t){t.preventDefault()}},{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Zf(t)}}]),e}(FT)).\u0275fac=function(t){return new(t||lT)(ho(ms),ho(Oa),ho(yx),ho(mp,8),ho(Xl),ho(hg),ho(ub,8))},lT.\u0275dir=ke({type:lT,inputs:{disableRipple:"disableRipple"},features:[Xo]}),lT),VT=((sT=function(t){function e(t,n,i,r,a,o,s){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i,r,a,o,s))}return _inherits(e,t),e}(zT)).\u0275fac=function(t){return new(t||sT)(ho(ms),ho(Oa),ho(yx),ho(mp,8),ho(Xl),ho(hg),ho(ub,8))},sT.\u0275cmp=ye({type:sT,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){var i;1&t&&bl(n,DT,!1),2&t&&vl(i=wl())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(gl(gT,!0),gl(dT,!0),gl(fT,!0),yl(pT,!0),yl(mT,!0)),2&t&&(vl(n=wl())&&(e._inkBar=n.first),vl(n=wl())&&(e._tabListContainer=n.first),vl(n=wl())&&(e._tabList=n.first),vl(n=wl())&&(e._nextPaginator=n.first),vl(n=wl())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&No("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Xo],ngContentSelectors:LE,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(Ro(),go(0,"div",0,1),Co("click",(function(t){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(t){return e._stopInterval()})),_o(2,"div",2),yo(),go(3,"div",3,4),Co("keydown",(function(t){return e._handleKeydown(t)})),go(5,"div",5,6),Co("cdkObserveContent",(function(t){return e._onContentChanges()})),go(7,"div",7),Po(8),yo(),_o(9,"mat-ink-bar"),yo(),yo(),go(10,"div",8,9),Co("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(t){return e._handlePaginatorClick("after")}))("touchend",(function(t){return e._stopInterval()})),_o(12,"div",2),yo()),2&t&&(No("mat-tab-header-pagination-disabled",e._disableScrollBefore),mo("matRippleDisabled",e._disableScrollBefore||e.disableRipple),or(5),No("_mat-animation-noopable","NoopAnimations"===e._animationMode),or(5),No("mat-tab-header-pagination-disabled",e._disableScrollAfter),mo("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[Kb,xg,gT],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center] .mat-tab-labels{justify-content:center}[mat-align-tabs=end] .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),sT),BT=((oT=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:oT}),oT.\u0275inj=vt({factory:function(t){return new(t||oT)},imports:[[gu,mb,Dx,$b,wg,zg],mb]}),oT),jT=((aT=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:aT}),aT.\u0275inj=vt({factory:function(t){return new(t||aT)},imports:[[mb],mb]}),aT),UT=((rT=function t(e){_classCallCheck(this,t),this.template=e}).\u0275fac=function(t){return new(t||rT)(ho(Vs))},rT.\u0275dir=ke({type:rT,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),rT),HT=((iT=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:iT}),iT.\u0275inj=vt({factory:function(t){return new(t||iT)},providers:[Dg,UT]}),iT),GT=((nT=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:nT}),nT.\u0275inj=vt({factory:function(t){return new(t||nT)},imports:[[HT,mb]]}),nT),WT=((eT=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:eT}),eT.\u0275inj=vt({factory:function(t){return new(t||eT)}}),eT),qT=((tT=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:tT}),tT.\u0275inj=vt({factory:function(t){return new(t||tT)}}),tT),YT={provide:new Gt("mat-menu-scroll-strategy"),deps:[Dw],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},XT=((hT=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:hT}),hT.\u0275inj=vt({factory:function(t){return new(t||hT)},providers:[YT],imports:[mb]}),hT),ZT=((uT=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:uT}),uT.\u0275inj=vt({factory:function(t){return new(t||uT)},providers:[YT],imports:[[gu,mb,$b,Fw,XT],XT]}),uT),QT=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function JT(t){return function(e){return 0===t?yh():e.lift(new KT(t))}}var KT=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Lh}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new $T(t,this.total))}}]),t}(),$T=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=n,i.ring=new Array,i.count=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var a=e++%n;t.next(i[a])}t.complete()}}]),e}(m);function tM(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iM;return function(e){return e.lift(new eM(t))}}var eM=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new nM(t,this.errorFactory))}}]),t}(),nM=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).errorFactory=n,i.hasValue=!1,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),e}(m);function iM(){return new QT}function rM(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new aM(t))}}var aM=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new oM(t,this.defaultValue))}}]),t}(),oM=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).defaultValue=n,i.isEmpty=!0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),e}(m);function sM(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Th((function(e,n){return t(e,n,i)})):Y,JT(1),n?rM(e):tM((function(){return new QT})))}}function lM(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Th((function(e,n){return t(e,n,i)})):Y,Ih(1),n?rM(e):tM((function(){return new QT})))}}var cM=function(){function t(e,n,i){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new uM(t,this.predicate,this.thisArg,this.source))}}]),t}(),uM=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=n,a.thisArg=i,a.source=r,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _inherits(e,t),_createClass(e,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),e}(m);function hM(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new fM(t,e,n))}}var dM,fM=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new pM(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),pM=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).accumulator=n,a._seed=i,a.hasSeed=r,a.index=0,a}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),e}(m),mM=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},vM=function(t){function e(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).navigationTrigger=r,i.restoredState=a,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(mM),gM=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(mM),yM=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).reason=i,r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(mM),_M=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).error=i,r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(mM),bM=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,a.state=r,a}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(mM),xM=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,a.state=r,a}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(mM),wM=function(t){function e(t,n,i,r,a){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,o.state=r,o.shouldActivate=a,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(mM),CM=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,a.state=r,a}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(mM),kM=function(t){function e(t,n,i,r){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,a.state=r,a}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(mM),SM=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),EM=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),TM=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),MM=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),AM=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),RM=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),PM=function(){function t(e,n,i){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),OM=((dM=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||dM)},dM.\u0275cmp=ye({type:dM,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&_o(0,"router-outlet")},directives:function(){return[NR]},encapsulation:2}),dM),LM=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function IM(t){return new LM(t)}function DM(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function NM(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},a=0;a<i.length;a++){var o=i[a],s=t[a];if(o.startsWith(":"))r[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}var FM=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function zM(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n];VM(i,BM(e,i))}}function VM(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&zM(t.children,e)}function BM(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function jM(t){var e=t.children&&t.children.map(jM),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=OM),n}function UM(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(!i||!r||i.length!=r.length)return!1;for(var a=0;a<i.length;a++)if(!HM(t[n=i[a]],e[n]))return!1;return!0}function HM(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function GM(t){return Array.prototype.concat.apply([],t)}function WM(t){return t.length>0?t[t.length-1]:null}function qM(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function YM(t){return wo(t)?t:xo(t)?H(Promise.resolve(t)):Ch(t)}function XM(t,e,n){return n?function(t,e){return UM(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!KM(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return HM(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!KM(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!KM(n.segments,r))return!1;for(var a in i.children){if(!n.children[a])return!1;if(!t(n.children[a],i.children[a]))return!1}return!0}var o=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!KM(n.segments,o)&&!!n.children.primary&&e(n.children.primary,i,s)}(e,n,n.segments)}(t.root,e.root)}var ZM=function(){function t(e,n,i){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=i}return _createClass(t,[{key:"toString",value:function(){return nA.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=IM(this.queryParams)),this._queryParamMap}}]),t}(),QM=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,qM(n,(function(t,e){return t.parent=i}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return iA(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),JM=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return cA(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=IM(this.parameters)),this._parameterMap}}]),t}();function KM(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function $M(t,e){var n=[];return qM(t.children,(function(t,i){"primary"===i&&(n=n.concat(e(t,i)))})),qM(t.children,(function(t,i){"primary"!==i&&(n=n.concat(e(t,i)))})),n}var tA=function t(){_classCallCheck(this,t)},eA=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new pA(t);return new ZM(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,i;return"".concat("/".concat(function t(e,n){if(!e.hasChildren())return iA(e);if(n){var i=e.children.primary?t(e.children.primary,!1):"",r=[];return qM(e.children,(function(e,n){"primary"!==n&&r.push("".concat(n,":").concat(t(e,!1)))})),r.length>0?"".concat(i,"(").concat(r.join("//"),")"):i}var a=$M(e,(function(n,i){return"primary"===i?[t(e.children.primary,!1)]:["".concat(i,":").concat(t(n,!1))]}));return"".concat(iA(e),"/(").concat(a.join("//"),")")}(t.root,!0)),(n=t.queryParams,i=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return"".concat(aA(t),"=").concat(aA(e))})).join("&"):"".concat(aA(t),"=").concat(aA(e))})),i.length?"?".concat(i.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),nA=new eA;function iA(t){return t.segments.map((function(t){return cA(t)})).join("/")}function rA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function aA(t){return rA(t).replace(/%3B/gi,";")}function oA(t){return rA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sA(t){return decodeURIComponent(t)}function lA(t){return sA(t.replace(/\+/g,"%20"))}function cA(t){return"".concat(oA(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(oA(t),"=").concat(oA(e[t]))})).join("")));var e}var uA=/^[^\/()?;=#]+/;function hA(t){var e=t.match(uA);return e?e[0]:""}var dA=/^[^=?&#]+/,fA=/^[^?&#]+/,pA=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new QM([],{}):new QM([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new QM(t,e)),n}},{key:"parseSegment",value:function(){var t=hA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new JM(sA(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=hA(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=hA(this.remaining);i&&(n=i,this.capture(n))}t[sA(e)]=sA(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(dA);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(fA);return e?e[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=lA(e),a=lA(n);if(t.hasOwnProperty(r)){var o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(a)}else t[r]=a}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=hA(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");var a=this.parseChildren();e[r]=1===Object.keys(a).length?a.primary:new QM([],a),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),mA=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=vA(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=vA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=gA(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return gA(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function vA(t,e){if(t===e.value)return e;var n=!0,i=!1,r=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=vA(t,a.value);if(s)return s}}catch(l){i=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return null}function gA(t,e){if(t===e.value)return[e];var n=!0,i=!1,r=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=gA(t,a.value);if(s.length)return s.unshift(e),s}}catch(l){i=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return[]}var yA=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function _A(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var bA=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).snapshot=n,EA(_assertThisInitialized(i),t),i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(mA);function xA(t,e){var n=function(t,e){var n=new kA([],{},{},"",{},"primary",e,null,t.root,-1,{});return new SA("",new yA(n,[]))}(t,e),i=new Xd([new JM("",{})]),r=new Xd({}),a=new Xd({}),o=new Xd({}),s=new Xd(""),l=new wA(i,r,o,s,a,"primary",e,n.root);return l.snapshot=n.root,new bA(new yA(l,[]),n)}var wA=function(){function t(e,n,i,r,a,o,s,l){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=l}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(V((function(t){return IM(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(V((function(t){return IM(t)})))),this._queryParamMap}}]),t}();function CA(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],a=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var kA=function(){function t(e,n,i,r,a,o,s,l,c,u,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=IM(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=IM(this.queryParams)),this._queryParamMap}}]),t}(),SA=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).url=t,EA(_assertThisInitialized(i),n),i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return TA(this._root)}}]),e}(mA);function EA(t,e){e.value._routerState=t,e.children.forEach((function(e){return EA(t,e)}))}function TA(t){var e=t.children.length>0?" { ".concat(t.children.map(TA).join(", ")," } "):"";return"".concat(t.value).concat(e)}function MA(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,UM(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),UM(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!UM(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),UM(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function AA(t,e){var n,i;return UM(t.params,e.params)&&KM(n=t.url,i=e.url)&&n.every((function(t,e){return UM(t.parameters,i[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||AA(t.parent,e.parent))}function RA(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function PA(t,e,n,i,r){var a={};return i&&qM(i,(function(t,e){a[e]=Array.isArray(t)?t.map((function(t){return"".concat(t)})):"".concat(t)})),new ZM(n.root===t?e:function t(e,n,i){var r={};return qM(e.children,(function(e,a){r[a]=e===n?i:t(e,n,i)})),new QM(e.segments,r)}(n.root,t,e),a,r)}var OA=function(){function t(e,n,i){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&RA(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(r&&r!==WM(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),LA=function t(e,n,i){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i};function IA(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:"".concat(t)}function DA(t,e,n){if(t||(t=new QM([],{})),0===t.segments.length&&t.hasChildren())return NA(t,e,n);var i=function(t,e,n){for(var i=0,r=e,a={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return a;var o=t.segments[r],s=IA(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!BA(s,l,o))return a;i+=2}else{if(!BA(s,{},o))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var a=new QM(t.segments.slice(0,i.pathIndex),{});return a.children.primary=new QM(t.segments.slice(i.pathIndex),t.children),NA(a,0,r)}return i.match&&0===r.length?new QM(t.segments,{}):i.match&&!t.hasChildren()?FA(t,e,n):i.match?NA(t,0,r):FA(t,e,n)}function NA(t,e,n){if(0===n.length)return new QM(t.segments,{});var i=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),r={};return qM(i,(function(n,i){null!==n&&(r[i]=DA(t.children[i],e,n))})),qM(t.children,(function(t,e){void 0===i[e]&&(r[e]=t)})),new QM(t.segments,r)}function FA(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var a=zA(n[r].outlets);return new QM(i,a)}if(0===r&&RA(n[0]))i.push(new JM(t.segments[e].path,n[0])),r++;else{var o=IA(n[r]),s=r<n.length-1?n[r+1]:null;o&&s&&RA(s)?(i.push(new JM(o,VA(s))),r+=2):(i.push(new JM(o,{})),r++)}}return new QM(i,{})}function zA(t){var e={};return qM(t,(function(t,n){null!==t&&(e[n]=FA(new QM([],{}),0,t))})),e}function VA(t){var e={};return qM(t,(function(t,n){return e[n]="".concat(t)})),e}function BA(t,e,n){return t==n.path&&UM(e,n.parameters)}var jA=function(){function t(e,n,i,r){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),MA(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,r=_A(e);t.children.forEach((function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]})),qM(r,(function(t,e){i.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var a=n.getContext(i.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=_A(t),a=t.value.component?i.children:e;qM(r,(function(t,e){return n.deactivateRouteAndItsChildren(t,a)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,r=_A(e);t.children.forEach((function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new RM(t.value.snapshot))})),t.children.length&&this.forwardEvent(new MM(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(MA(i),i===r)if(i.component){var a=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),UA(s.route)}else{var l=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),c=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=c,o.outlet&&o.outlet.activateWith(i,c),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function UA(t){MA(t.value),t.children.forEach(UA)}function HA(t){return"function"==typeof t}function GA(t){return t instanceof ZM}var WA=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},qA=function t(e){_classCallCheck(this,t),this.urlTree=e};function YA(t){return new w((function(e){return e.error(new WA(t))}))}function XA(t){return new w((function(e){return e.error(new qA(t))}))}function ZA(t){return new w((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var QA=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(re)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(V((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Mk((function(e){if(e instanceof qA)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof WA)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(V((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Mk((function(t){if(t instanceof WA)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new QM([],{primary:t}):t;return new ZM(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(V((function(t){return new QM([],t)}))):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return Ch({});var a=[],o=[],s={};return qM(n,(function(n,r){var l,c,u=(l=r,c=n,i.expandSegmentGroup(t,e,c,l)).pipe(V((function(t){return s[r]=t})));"primary"===r?a.push(u):o.push(u)})),Ch.apply(null,a.concat(o)).pipe(kh(),sM(),V((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,i,r,a){var o=this;return Ch.apply(void 0,_toConsumableArray(n)).pipe(V((function(s){return o.expandSegmentAgainstRoute(t,e,n,s,i,r,a).pipe(Mk((function(t){if(t instanceof WA)return Ch(null);throw t})))})),kh(),lM((function(t){return!!t})),Mk((function(t,n){if(t instanceof QT||"EmptyError"===t.name){if(o.noLeftoversInUrl(e,i,r))return Ch(new QM([],{}));throw new WA(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,r,a,o){return tR(i)!==a?YA(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,a):YA(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var r=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?XA(a):this.lineralizeSegments(n,a).pipe(G((function(n){var a=new QM(n,{});return r.expandSegment(t,a,e,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,a){var o=this,s=JA(e,i,r),l=s.matched,c=s.consumedSegments,u=s.lastChild,h=s.positionalParamSegments;if(!l)return YA(e);var d=this.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?XA(d):this.lineralizeSegments(i,d).pipe(G((function(i){return o.expandSegment(t,e,n,i.concat(r.slice(u)),a,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(V((function(t){return n._loadedConfig=t,new QM(i,{})}))):Ch(new QM(i,{}));var a=JA(e,n,i),o=a.matched,s=a.consumedSegments,l=a.lastChild;if(!o)return YA(e);var c=i.slice(l);return this.getChildConfig(t,n,i).pipe(G((function(t){var n=t.module,i=t.routes,a=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some((function(n){return $A(t,e,n)&&"primary"!==tR(n)}))}(t,n,i)?{segmentGroup:KA(new QM(e,function(t,e){var n={};n.primary=e;var i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;""===l.path&&"primary"!==tR(l)&&(n[tR(l)]=new QM([],{}))}}catch(c){r=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(i,new QM(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return $A(t,e,n)}))}(t,n,i)?{segmentGroup:KA(new QM(t.segments,function(t,e,n,i){var r={},a=!0,o=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;$A(t,e,u)&&!i[tR(u)]&&(r[tR(u)]=new QM([],{}))}}catch(h){o=!0,s=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return Object.assign(Object.assign({},i),r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,i),o=a.segmentGroup,l=a.slicedSegments;return 0===l.length&&o.hasChildren()?r.expandChildren(n,i,o).pipe(V((function(t){return new QM(s,t)}))):0===i.length&&0===l.length?Ch(new QM(s,{})):r.expandSegment(n,o,i,l,"primary",!0).pipe(V((function(t){return new QM(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?Ch(new FM(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ch(e._loadedConfig):function(t,e,n){var i,r=e.canLoad;return r&&0!==r.length?H(r).pipe(V((function(i){var r,a=t.get(i);if(function(t){return t&&HA(t.canLoad)}(a))r=a.canLoad(e,n);else{if(!HA(a))throw new Error("Invalid CanLoad guard");r=a(e,n)}return YM(r)}))).pipe(kh(),(i=function(t){return!0===t},function(t){return t.lift(new cM(i,void 0,t))})):Ch(!0)}(t.injector,e,n).pipe(G((function(n){return n?i.configLoader.load(t.injector,e).pipe(V((function(t){return e._loadedConfig=t,t}))):function(t){return new w((function(e){return e.error(DM("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Ch(new FM([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Ch(n);if(i.numberOfChildren>1||!i.children.primary)return ZA(t.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new ZM(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return qM(t,(function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var r=this,a=this.createSegments(t,e.segments,n,i),o={};return qM(e.children,(function(e,a){o[a]=r.createSegmentGroup(t,e,n,i)})),new QM(a,o)}},{key:"createSegments",value:function(t,e,n,i){var r=this;return e.map((function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n=0,i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;if(l.path===t.path)return e.splice(n),l;n++}}catch(c){r=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return t}}]),t}();function JA(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||NM)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function KA(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new QM(t.segments.concat(e.segments),e.children)}return t}function $A(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function tR(t){return t.outlet||"primary"}var eR=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},nR=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function iR(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function rR(t,e,n){var i=_A(t),r=t.value;qM(i,(function(t,i){rR(t,r.component?e?e.children.getContext(i):null:e,n)})),n.canDeactivateChecks.push(new nR(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var aR=Symbol("INITIAL_VALUE");function oR(){return Rh((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=null,r=null;return R(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),Z(e,r).lift(new MS(i))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Ih(1),Bg(aR))})))).pipe(hM((function(t,e){var n=!1;return e.reduce((function(t,i,r){if(t!==aR)return t;if(i===aR&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||GA(i))return i}return t}),t)}),aR),Th((function(t){return t!==aR})),V((function(t){return GA(t)?t:!0===t})),Ih(1))}))}function sR(t,e){return null!==t&&e&&e(new AM(t)),Ch(!0)}function lR(t,e){return null!==t&&e&&e(new TM(t)),Ch(!0)}function cR(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Ch(i.map((function(i){return _h((function(){var r,a=iR(i,e,n);if(function(t){return t&&HA(t.canActivate)}(a))r=YM(a.canActivate(e,t));else{if(!HA(a))throw new Error("Invalid CanActivate guard");r=YM(a(e,t))}return r.pipe(lM())}))}))).pipe(oR()):Ch(!0)}function uR(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return _h((function(){return Ch(e.guards.map((function(r){var a,o=iR(r,e.node,n);if(function(t){return t&&HA(t.canActivateChild)}(o))a=YM(o.canActivateChild(i,t));else{if(!HA(o))throw new Error("Invalid CanActivateChild guard");a=YM(o(i,t))}return a.pipe(lM())}))).pipe(oR())}))}));return Ch(r).pipe(oR())}var hR=function t(){_classCallCheck(this,t)},dR=function(){function t(e,n,i,r,a,o){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return _createClass(t,[{key:"recognize",value:function(){try{var t=mR(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new kA([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new yA(n,e),r=new SA(this.url,i);return this.inheritParamsAndData(r._root),Ch(r)}catch(a){return new w((function(t){return t.error(a)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=CA(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,i=this,r=$M(e,(function(e,n){return i.processSegmentGroup(t,e,n)}));return n={},r.forEach((function(t){var e=n[t.value.outlet];if(e){var i=e.url.map((function(t){return t.toString()})).join("/"),r=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(r,"'."))}n[t.value.outlet]=t.value})),r.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),r}},{key:"processSegment",value:function(t,e,n,i){var r=!0,a=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;try{return this.processSegmentAgainstRoute(c,e,n,i)}catch(u){if(!(u instanceof hR))throw u}}}catch(h){a=!0,o=h}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}if(this.noLeftoversInUrl(e,n,i))return[];throw new hR}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo)throw new hR;if((t.outlet||"primary")!==i)throw new hR;var r,a=[],o=[];if("**"===t.path){var s=n.length>0?WM(n).parameters:{};r=new kA(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yR(t),i,t.component,t,fR(e),pR(e)+n.length,_R(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new hR;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||NM)(n,t,e);if(!i)throw new hR;var r={};qM(i.posParams,(function(t,e){r[e]=t.path}));var a=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a}}(e,t,n);a=l.consumedSegments,o=n.slice(l.lastChild),r=new kA(a,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yR(t),i,t.component,t,fR(e),pR(e)+a.length,_R(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),u=mR(e,a,o,c,this.relativeLinkResolution),h=u.segmentGroup,d=u.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(c,h);return[new yA(r,f)]}if(0===c.length&&0===d.length)return[new yA(r,[])];var p=this.processSegment(c,h,d,"primary");return[new yA(r,p)]}}]),t}();function fR(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function pR(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function mR(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some((function(n){return vR(t,e,n)&&"primary"!==gR(n)}))}(t,n,i)){var a=new QM(e,function(t,e,n,i){var r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var a=!0,o=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;if(""===u.path&&"primary"!==gR(u)){var h=new QM([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,r[gR(u)]=h}}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return r}(t,e,i,new QM(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return vR(t,e,n)}))}(t,n,i)){var o=new QM(t.segments,function(t,e,n,i,r,a){var o={},s=!0,l=!1,c=void 0;try{for(var u,h=i[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;if(vR(t,n,d)&&!r[gR(d)]){var f=new QM([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===a?t.segments.length:e.length,o[gR(d)]=f}}}catch(p){l=!0,c=p}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var s=new QM(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function vR(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function gR(t){return t.outlet||"primary"}function yR(t){return t.data||{}}function _R(t){return t.resolve||{}}function bR(t,e,n,i){var r=iR(t,e,i);return YM(r.resolve?r.resolve(e,n):r(e,n))}function xR(t){return function(e){return e.pipe(Rh((function(e){var n=t(e);return n?H(n).pipe(V((function(){return e}))):H([e])})))}}var wR=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),CR=new Gt("ROUTES"),kR=function(){function t(e,n,i,r){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(V((function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new FM(GM(r.injector.get(CR)).map(jM),r)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?H(this.loader.load(t)):YM(t()).pipe(G((function(t){return t instanceof ae?Ch(t):H(e.compiler.compileModuleAsync(t))})))}}]),t}(),SR=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function ER(t){throw t}function TR(t,e,n){return e.parse("/")}function MR(t,e){return Ch(null)}var AR,RR,PR,OR,LR=((AR=function(){function t(e,n,i,r,a,o,s,l){var c=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new M,this.errorHandler=ER,this.malformedUriErrorHandler=TR,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:MR,afterPreactivation:MR},this.urlHandlingStrategy=new SR,this.routeReuseStrategy=new wR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(re),this.console=a.get(Il);var u=a.get(Xl);this.isNgZoneEnabled=u instanceof Xl,this.resetConfig(l),this.currentUrlTree=new ZM(new QM([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kR(o,s,(function(t){return c.triggerEvent(new SM(t))}),(function(t){return c.triggerEvent(new EM(t))})),this.routerState=xA(this.currentUrlTree,this.rootComponentType),this.transitions=new Xd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Th((function(t){return 0!==t.id})),V((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Rh((function(t){var i,r,a,o=!1,s=!1;return Ch(t).pipe(Fh((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Rh((function(t){var i,r,a,o,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ch(t).pipe(Rh((function(t){var i=e.transitions.getValue();return n.next(new vM(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?gh:[t]})),Rh((function(t){return Promise.resolve(t)})),(i=e.ngModule.injector,r=e.configLoader,a=e.urlSerializer,o=e.config,function(t){return t.pipe(Rh((function(t){return function(t,e,n,i,r){return new QA(t,e,n,i,r).apply()}(i,r,a,t.extractedUrl,o).pipe(V((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Fh((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,i,r,a){return function(i){return i.pipe(G((function(i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new dR(t,e,n,i,r,a).recognize()}(t,n,i.urlAfterRedirects,(o=i.urlAfterRedirects,e.serializeUrl(o)),r,a).pipe(V((function(t){return Object.assign(Object.assign({},i),{targetSnapshot:t})})));var o})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Fh((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Fh((function(t){var i=new bM(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.id,c=t.extractedUrl,u=t.source,h=t.restoredState,d=t.extras,f=new vM(l,e.serializeUrl(c),u,h);n.next(f);var p=xA(c,e.rootComponentType).snapshot;return Ch(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),gh})),xR((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,a=t.rawUrl,o=t.extras,s=o.skipLocationChange,l=o.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})})),Fh((function(t){var n=new xM(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),V((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,i=t.currentSnapshot,r=e.rootContexts,a=n._root,function t(e,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=_A(n);return e.children.forEach((function(e){!function(e,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,s=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!KM(t.url,e.url);case"pathParamsOrQueryParamsChange":return!KM(t.url,e.url)||!UM(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!AA(t,e)||!UM(t.queryParams,e.queryParams);case"paramsChange":default:return!AA(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?a.canActivateChecks.push(new eR(r)):(o.data=s.data,o._resolvedData=s._resolvedData),t(e,n,o.component?l?l.children:null:i,r,a),c&&a.canDeactivateChecks.push(new nR(l&&l.outlet&&l.outlet.component||null,s))}else s&&rR(n,l,a),a.canActivateChecks.push(new eR(r)),t(e,null,o.component?l?l.children:null:i,r,a)}(e,o[e.value.outlet],i,r.concat([e.value]),a),delete o[e.value.outlet]})),qM(o,(function(t,e){return rR(t,i.getContext(e),a)})),a}(a,i?i._root:null,r,[a.value]))});var n,i,r,a})),function(t,e){return function(n){return n.pipe(G((function(n){var i=n.targetSnapshot,r=n.currentSnapshot,a=n.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?Ch(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return H(t).pipe(G((function(t){return function(t,e,n,i,r){var a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Ch(a.map((function(a){var o,s=iR(a,e,r);if(function(t){return t&&HA(t.canDeactivate)}(s))o=YM(s.canDeactivate(t,e,n,i));else{if(!HA(s))throw new Error("Invalid CanDeactivate guard");o=YM(s(t,e,n,i))}return o.pipe(lM())}))).pipe(oR()):Ch(!0)}(t.component,t.route,n,e,i)})),lM((function(t){return!0!==t}),!0))}(s,i,r,t).pipe(G((function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return H(e).pipe(od((function(e){return H([lR(e.route.parent,i),sR(e.route,i),uR(t,e.path,n),cR(t,e.route,n)]).pipe(kh(),lM((function(t){return!0!==t}),!0))})),lM((function(t){return!0!==t}),!0))}(i,o,t,e):Ch(n)})),V((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Fh((function(t){if(GA(t.guardsResult)){var n=DM('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Fh((function(t){var n=new wM(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Th((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new yM(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0})),xR((function(t){if(t.guards.canActivateChecks.length)return Ch(t).pipe(Fh((function(t){var n=new CM(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(G((function(t){var e=t.targetSnapshot,r=t.guards.canActivateChecks;return r.length?H(r).pipe(od((function(t){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return Ch({});if(1===r.length){var a=r[0];return bR(t[a],e,n,i).pipe(V((function(t){return _defineProperty({},a,t)})))}var o={};return H(r).pipe(G((function(r){return bR(t[r],e,n,i).pipe(V((function(t){return o[r]=t,t})))}))).pipe(sM(),V((function(){return o})))}(t._resolve,t,e,i).pipe(V((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),CA(t,n).resolve),null})))}(t.route,e,n,i)})),function(t,e){return arguments.length>=2?function(n){return _(hM(t,e),JT(1),rM(e))(n)}:function(e){return _(hM((function(e,n,i){return t(e,n,i+1)})),JT(1))(e)}}((function(t,e){return t})),V((function(e){return t}))):Ch(t)})))}),Fh((function(t){var n=new kM(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,i})),xR((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,a=t.rawUrl,o=t.extras,s=o.skipLocationChange,l=o.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})})),V((function(t){var n=function(t,e,n){var i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){var r=i.value;r._futureSnapshot=n.value;var a=function(e,n,i){return n.children.map((function(n){var r=!0,a=!1,o=void 0;try{for(var s,l=i.children[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;if(e.shouldReuseRoute(c.value.snapshot,n.value))return t(e,n,c)}}catch(u){a=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return t(e,n)}))}(e,n,i);return new yA(r,a)}var o=e.retrieve(n.value);if(o){var s=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,s),s}var l,c=new wA(new Xd((l=n.value).url),new Xd(l.params),new Xd(l.queryParams),new Xd(l.fragment),new Xd(l.data),l.outlet,l.component,l),u=n.children.map((function(n){return t(e,n)}));return new yA(c,u)}(t,e._root,n?n._root:void 0);return new bA(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Fh((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,r=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},V((function(t){return new jA(r,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Fh({next:function(){o=!0},complete:function(){o=!0}}),Pk((function(){if(!o&&!s){e.resetUrlToCurrentUrlTree();var i=new yM(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(i),t.resolve(!1)}e.currentNavigation=null})),Mk((function(i){if(s=!0,(l=i)&&l.ngNavigationCancelingError){var r=GA(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var a=new yM(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(a),r?setTimeout((function(){var n=e.urlHandlingStrategy.merge(i.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var o=new _M(t.id,e.serializeUrl(t.extractedUrl),i);n.next(o);try{t.resolve(e.errorHandler(i))}catch(c){t.reject(c)}}var l;return gh})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),i="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,i,r,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){zM(t),this.config=t.map(jM),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,r=e.fragment,a=e.preserveQueryParams,o=e.queryParamsHandling,s=e.preserveFragment;ci()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,c=s?this.currentUrlTree.fragment:r,u=null;if(o)switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}else u=a?this.currentUrlTree.queryParams:i||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,i,r){if(0===n.length)return PA(e.root,e.root,e,i,r);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new OA(!0,0,t);var e=0,n=!1,i=t.reduce((function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return qM(i.outlets,(function(t,e){a[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:a}])}if(i.segmentPath)return[].concat(_toConsumableArray(t),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(t),[i]):0===r?(i.split("/").forEach((function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))})),t):[].concat(_toConsumableArray(t),[i])}),[]);return new OA(n,e,i)}(n);if(a.toRoot())return PA(e.root,new QM([],{}),e,i,r);var o=function(t,e,n){if(t.isAbsolute)return new LA(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new LA(n.snapshot._urlSegment,!0,0);var i=RA(t.commands[0])?0:1;return function(t,e,n){for(var i=t,r=e,a=n;a>r;){if(a-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new LA(i,!1,r-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),s=o.processChildren?NA(o.segmentGroup,o.index,a.commands):DA(o.segmentGroup,o.index,a.commands);return PA(o.segmentGroup,s,e,i,r)}(l,this.currentUrlTree,t,u,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};ci()&&this.isNgZoneEnabled&&!Xl.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=GA(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(GA(t))return XM(this.currentUrlTree,t,e);var n=this.parseUrl(t);return XM(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var i=t[n];return null!=i&&(e[n]=i),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new gM(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,i,r){var a,o,s,l=this.getTransition();if(l&&"imperative"!==e&&"imperative"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"hashchange"==e&&"popstate"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"popstate"==e&&"hashchange"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);r?(a=r.resolve,o=r.reject,s=r.promise):s=new Promise((function(t,e){a=t,o=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:a,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,i){var r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){po()},AR.\u0275dir=ke({type:AR}),AR),IR=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new DR,this.attachRef=null},DR=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new IR,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),NR=((RR=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new al,this.deactivateEvents=new al,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new FR(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||RR)(ho(DR),ho(js),ho(ps),fo("name"),ho(Oa))},RR.\u0275dir=ke({type:RR,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),RR),FR=function(){function t(e,n,i){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=i}return _createClass(t,[{key:"get",value:function(t,e){return t===wA?this.route:t===DR?this.childContexts:this.parent.get(t,e)}}]),t}(),zR=function t(){_classCallCheck(this,t)},VR=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Ch(null)}}]),t}(),BR=((OR=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=new kR(n,i,(function(t){return e.triggerEvent(new SM(t))}),(function(t){return e.triggerEvent(new EM(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Th((function(t){return t instanceof gM})),od((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(re);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;if(l.loadChildren&&!l.canLoad&&l._loadedConfig){var c=l._loadedConfig;n.push(this.processRoutes(c.module,c.routes))}else l.loadChildren&&!l.canLoad?n.push(this.preloadConfig(t,l)):l.children&&n.push(this.processRoutes(t,l.children))}}catch(u){r=!0,a=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return H(n).pipe(X(),V((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(G((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||OR)($t(LR),$t(vc),$t(Gl),$t(Xa),$t(zR))},OR.\u0275prov=mt({token:OR,factory:OR.\u0275fac}),OR),jR=((PR=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof vM?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gM&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof PM&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new PM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){po()},PR.\u0275dir=ke({type:PR}),PR),UR=new Gt("ROUTER_CONFIGURATION"),HR=new Gt("ROUTER_FORROOT_GUARD"),GR=[Yc,{provide:tA,useClass:eA},{provide:LR,useFactory:function(t,e,n,i,r,a,o,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,h=new LR(null,e,n,i,r,a,o,GM(s));if(c&&(h.urlHandlingStrategy=c),u&&(h.routeReuseStrategy=u),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var d=Sc();h.events.subscribe((function(t){d.logGroup("Router Event: ".concat(t.constructor.name)),d.log(t.toString()),d.log(t),d.logGroupEnd()}))}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h},deps:[pc,tA,DR,Yc,Xa,vc,Gl,CR,UR,[function(){return function t(){_classCallCheck(this,t)}}(),new ct],[function(){return function t(){_classCallCheck(this,t)}}(),new ct]]},DR,{provide:wA,useFactory:function(t){return t.routerState.root},deps:[LR]},{provide:vc,useClass:_c},BR,VR,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Mk((function(){return Ch(null)})))}}]),t}(),{provide:UR,useValue:{enableTracing:!1}}];function WR(){return new lc("Router",LR)}var qR,YR=((qR=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[GR,JR(e),{provide:HR,useFactory:QR,deps:[[LR,new ct,new ht]]},{provide:UR,useValue:n||{}},{provide:Vc,useFactory:ZR,deps:[Mc,[new lt(Gc),new ct],UR]},{provide:jR,useFactory:XR,deps:[LR,Su,UR]},{provide:zR,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:VR},{provide:lc,multi:!0,useFactory:WR},[$R,{provide:El,multi:!0,useFactory:tP,deps:[$R]},{provide:hP,useFactory:eP,deps:[$R]},{provide:Ll,multi:!0,useExisting:hP}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[JR(e)]}}}]),t}()).\u0275mod=we({type:qR}),qR.\u0275inj=vt({factory:function(t){return new(t||qR)($t(HR,8),$t(LR,8))}}),qR);function XR(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new jR(t,e,n)}function ZR(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new qc(t,e):new Wc(t,e)}function QR(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function JR(t){return[{provide:Za,multi:!0,useValue:t},{provide:CR,multi:!0,useValue:t}]}var KR,$R=((KR=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new M}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Pc,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),i=t.injector.get(LR),r=t.injector.get(UR);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return t.initNavigation?Ch(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(UR),n=this.injector.get(BR),i=this.injector.get(jR),r=this.injector.get(LR),a=this.injector.get(pc);t===a.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||KR)($t(Xa))},KR.\u0275prov=mt({token:KR,factory:KR.\u0275fac}),KR);function tP(t){return t.appInitializer.bind(t)}function eP(t){return t.bootstrapListener.bind(t)}var nP,iP,rP,aP,oP,sP,lP,cP,uP,hP=new Gt("Router Initializer"),dP=((sP=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:sP}),sP.\u0275inj=vt({factory:function(t){return new(t||sP)},imports:[[gu,YR,Xw,uS,ZT,jT,hS]]}),sP),fP=((oP=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||oP)},oP.\u0275cmp=ye({type:oP,selectors:[["app-loading-overlay"]],decls:1,vars:0,template:function(t,e){1&t&&_o(0,"mat-spinner")},directives:[aE],styles:[""]}),oP),pP=((aP=function(){function t(e){_classCallCheck(this,t),this.overlay=e}return _createClass(t,[{key:"open",value:function(){var t=this;if(void 0===this._ref){var e=this.overlay.create(this.getOverlayConfig()),n=new Ex(fP);e.attach(n),this._ref=e,setTimeout((function(){void 0!==t._ref&&(t._ref.dispose(),t._ref=void 0)}),15e3)}}},{key:"close",value:function(){void 0!==this._ref&&(this._ref.dispose(),this._ref=void 0)}},{key:"getOverlayConfig",value:function(){var t=this.overlay.position().global().centerHorizontally().centerVertically();return new qx({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:t})}}]),t}()).\u0275fac=function(t){return new(t||aP)($t(Dw))},aP.\u0275prov=mt({token:aP,factory:aP.\u0275fac,providedIn:"root"}),aP),mP=((rP=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:rP}),rP.\u0275inj=vt({factory:function(t){return new(t||rP)},providers:[pP],imports:[[oE]]}),rP),vP=((iP=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:iP}),iP.\u0275inj=vt({factory:function(t){return new(t||iP)},imports:[[gu,aC,uS,ZT,jT,Xw]]}),iP),gP=((nP=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:nP}),nP.\u0275inj=vt({factory:function(t){return new(t||nP)}}),nP),yP=n("9HG0"),_P=((lP=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"buildHammer",value:function(t){return new yP.Manager(t,{touchAction:"auto",inputClass:yP.TouchInput,recognizers:[[yP.Swipe,{direction:yP.DIRECTION_HORIZONTAL}]]})}}]),e}(rh)).\u0275fac=function(t){return bP(t||lP)},lP.\u0275prov=mt({token:lP,factory:lP.\u0275fac}),lP),bP=Yn(_P),xP=[vh,db,Xw,sC,BT,Zw,AE,uS,aC,kS,SE,bC,oE,DS,IS,Uw,Vw,ag,og,WC,HC,ES,ex,sE,PE,jT,bE,PS,wE,GT,Tk,jw,XC,Fb,xE,Yd,dm,gP,mP,qT,dP,WT,oh,vP],wP=((cP=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:cP}),cP.\u0275inj=vt({factory:function(t){return new(t||cP)},providers:[{provide:nh,useClass:_P}],imports:[xP,vh,db,Xw,sC,BT,Zw,AE,uS,aC,kS,SE,bC,oE,DS,IS,Uw,Vw,ag,og,WC,HC,ES,ex,sE,PE,jT,bE,PS,wE,GT,Tk,jw,XC,Fb,xE,Yd,dm,gP,mP,qT,dP,WT,oh,vP]}),cP),CP=[],kP=((uP=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:uP}),uP.\u0275inj=vt({factory:function(t){return new(t||uP)},imports:[[YR.forRoot(CP)],YR]}),uP);function SP(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}),Object.assign(SP.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t)}}}});for(var EP=[],TP=0;TP<256;TP++)EP[TP]=(TP<16?"0":"")+TP.toString(16);var MP,AP={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(EP[255&t]+EP[t>>8&255]+EP[t>>16&255]+EP[t>>24&255]+"-"+EP[255&e]+EP[e>>8&255]+"-"+EP[e>>16&15|64]+EP[e>>24&255]+"-"+EP[63&n|128]+EP[n>>8&255]+"-"+EP[n>>16&255]+EP[n>>24&255]+EP[255&i]+EP[i>>8&255]+EP[i>>16&255]+EP[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*AP.DEG2RAD},radToDeg:function(t){return t*AP.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((e+i)/2),u=o((e+i)/2),h=a((e-i)/2),d=o((e-i)/2),f=a((i-e)/2),p=o((i-e)/2);"XYX"===r?t.set(s*u,l*h,l*d,s*c):"YZY"===r?t.set(l*d,s*u,l*h,s*c):"ZXZ"===r?t.set(l*h,l*d,s*u,s*c):"XZX"===r?t.set(s*u,l*p,l*f,s*c):"YXY"===r?t.set(l*f,s*u,l*p,s*c):"ZYZ"===r?t.set(l*p,l*f,s*u,s*c):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function RP(t,e){this.x=t||0,this.y=e||0}function PP(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(RP.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(RP.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*i+t.x,this.y=r*i+a*n+t.y,this}}),Object.assign(PP.prototype,{isMatrix3:!0,set:function(t,e,n,i,r,a,o,s,l){var c=this.elements;return c[0]=t,c[1]=i,c[2]=o,c[3]=e,c[4]=r,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=i[0],m=i[3],v=i[6],g=i[1],y=i[4],_=i[7],b=i[2],x=i[5],w=i[8];return r[0]=a*p+o*g+s*b,r[3]=a*m+o*y+s*x,r[6]=a*v+o*_+s*w,r[1]=l*p+c*g+u*b,r[4]=l*m+c*y+u*x,r[7]=l*v+c*_+u*w,r[2]=h*p+d*g+f*b,r[5]=h*m+d*y+f*x,r[8]=h*v+d*_+f*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8];return e*a*c-e*o*l-n*r*c+n*o*s+i*r*l-i*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,i=this.elements,r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],h=n[7],d=n[8],f=d*l-c*h,p=c*u-d*s,m=h*s-l*u,v=r*f+a*p+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return i[0]=f*y,i[1]=(o*h-d*a)*y,i[2]=(c*a-o*l)*y,i[3]=p*y,i[4]=(d*r-o*u)*y,i[5]=(o*s-c*r)*y,i[6]=m*y,i[7]=(a*u-h*r)*y,i[8]=(l*r-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);this.set(n*s,n*l,-n*(s*a+l*o)+a+t,-i*l,i*s,-i*(-l*a+s*o)+o+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],l=i[4],c=i[7];return i[0]=e*r+n*s,i[3]=e*a+n*l,i[6]=e*o+n*c,i[1]=-n*r+e*s,i[4]=-n*a+e*l,i[7]=-n*o+e*c,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var OP={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===MP&&(MP=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),MP.width=t.width,MP.height=t.height;var n=MP.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=MP}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},LP=0;function IP(t,e,n,i,r,a,o,s,l,c){Object.defineProperty(this,"id",{value:LP++}),this.uuid=AP.generateUUID(),this.name="",this.image=void 0!==t?t:IP.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:IP.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:1001,this.wrapT=void 0!==i?i:1001,this.magFilter=void 0!==r?r:1006,this.minFilter=void 0!==a?a:1008,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:1023,this.internalFormat=null,this.type=void 0!==s?s:1009,this.offset=new RP(0,0),this.repeat=new RP(1,1),this.center=new RP(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new PP,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:3e3,this.version=0,this.onUpdate=null}function DP(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==i?i:1}function NP(t,e,n){this.width=t,this.height=e,this.scissor=new DP(0,0,t,e),this.scissorTest=!1,this.viewport=new DP(0,0,t,e),this.texture=new IP(void 0,(n=n||{}).mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function FP(t,e,n){NP.call(this,t,e,n),this.samples=4}function zP(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==i?i:1}IP.DEFAULT_IMAGE=void 0,IP.DEFAULT_MAPPING=300,IP.prototype=Object.assign(Object.create(SP.prototype),{constructor:IP,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=AP.generateUUID()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)r.push(OP.getDataURL(i[a]))}else r=OP.getDataURL(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(IP.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.defineProperties(DP.prototype,{width:{get:function(){return this.z},set:function(t){this.z=t}},height:{get:function(){return this.w},set:function(t){this.w=t}}}),Object.assign(DP.prototype,{isVector4:!0,set:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*i+a[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,i,r,a=t.elements,o=a[0],s=a[4],l=a[8],c=a[1],u=a[5],h=a[9],d=a[2],f=a[6],p=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-f)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+f)<.1&&Math.abs(o+u+p-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(o+1)/2,v=(u+1)/2,g=(p+1)/2,y=(s+c)/4,_=(l+d)/4,b=(h+f)/4;return m>v&&m>g?m<.01?(n=0,i=.707106781,r=.707106781):(i=y/(n=Math.sqrt(m)),r=_/n):v>g?v<.01?(n=.707106781,i=0,r=.707106781):(n=y/(i=Math.sqrt(v)),r=b/i):g<.01?(n=.707106781,i=.707106781,r=0):(n=_/(r=Math.sqrt(g)),i=b/r),this.set(n,i,r,e),this}var x=Math.sqrt((f-h)*(f-h)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(x)<.001&&(x=1),this.x=(f-h)/x,this.y=(l-d)/x,this.z=(c-s)/x,this.w=Math.acos((o+u+p-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),NP.prototype=Object.assign(Object.create(SP.prototype),{constructor:NP,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),FP.prototype=Object.assign(Object.create(NP.prototype),{constructor:FP,isWebGLMultisampleRenderTarget:!0,copy:function(t){return NP.prototype.copy.call(this,t),this.samples=t.samples,this}}),Object.assign(zP,{slerp:function(t,e,n,i){return n.copy(t).slerp(e,i)},slerpFlat:function(t,e,n,i,r,a,o){var s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],h=r[a+0],d=r[a+1],f=r[a+2],p=r[a+3];if(u!==p||s!==h||l!==d||c!==f){var m=1-o,v=s*h+l*d+c*f+u*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,o=Math.sin(o*b)/_}var x=o*g;if(s=s*m+h*x,l=l*m+d*x,c=c*m+f*x,u=u*m+p*x,m===1-o){var w=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=w,l*=w,c*=w,u*=w}}t[e]=s,t[e+1]=l,t[e+2]=c,t[e+3]=u}}),Object.defineProperties(zP.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),Object.assign(zP.prototype,{isQuaternion:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,a=t.order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(i/2),u=o(r/2),h=s(n/2),d=s(i/2),f=s(r/2);return"XYZ"===a?(this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f):"YXZ"===a?(this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f):"ZXY"===a?(this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f):"ZYX"===a?(this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f):"YZX"===a?(this._x=h*c*u+l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u-h*d*f):"XZY"===a&&(this._x=h*c*u-l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u+h*d*f),!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,i=n[0],r=n[4],a=n[8],o=n[1],s=n[5],l=n[9],c=n[2],u=n[6],h=n[10],d=i+s+h;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(u-l)*e,this._y=(a-c)*e,this._z=(o-r)*e):i>s&&i>h?(e=2*Math.sqrt(1+i-s-h),this._w=(u-l)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(a+c)/e):s>h?(e=2*Math.sqrt(1+s-i-h),this._w=(a-c)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(l+u)/e):(e=2*Math.sqrt(1+h-i-s),this._w=(o-r)/e,this._x=(a+c)/e,this._y=(l+u)/e,this._z=.25*e),this._onChangeCallback(),this},setFromUnitVectors:function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(AP.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(t=1/t),this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._w,o=e._x,s=e._y,l=e._z,c=e._w;return this._x=n*c+a*o+i*l-r*s,this._y=i*c+a*s+r*o-n*l,this._z=r*c+a*l+n*s-i*o,this._w=a*c-n*o-i*s-r*l,this._onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*n+e*this._x,this._y=l*i+e*this._y,this._z=l*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(s),u=Math.atan2(c,o),h=Math.sin((1-e)*u)/c,d=Math.sin(e*u)/c;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}});var VP=new jP,BP=new zP;function jP(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}Object.assign(jP.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(BP.setFromEuler(t))},applyAxisAngle:function(t,e){return this.applyQuaternion(BP.setFromAxisAngle(t,e))},applyMatrix3:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this},applyNormalMatrix:function(t){return this.applyMatrix3(t).normalize()},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*a,this},applyQuaternion:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*i-o*n,c=s*n+o*e-r*i,u=s*i+r*n-a*e,h=-r*e-a*n-o*i;return this.x=l*s+h*-r+c*-o-u*-a,this.y=c*s+h*-a+u*-r-l*-o,this.z=u*s+h*-o+l*-a-c*-r,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this},projectOnVector:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)},projectOnPlane:function(t){return VP.copy(this).projectOnVector(t),this.sub(VP)},reflect:function(t){return this.sub(VP.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(AP.clamp(n,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},setFromMatrix3Column:function(t,e){return this.fromArray(t.elements,3*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}});var UP=new jP,HP=new ZP,GP=new jP(0,0,0),WP=new jP(1,1,1),qP=new jP,YP=new jP,XP=new jP;function ZP(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(ZP.prototype,{isMatrix4:!0,set:function(t,e,n,i,r,a,o,s,l,c,u,h,d,f,p,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=i,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new ZP).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(t){var e=this.elements,n=t.elements,i=1/UP.setFromMatrixColumn(t,0).length(),r=1/UP.setFromMatrixColumn(t,1).length(),a=1/UP.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){var h=a*c,d=a*u,f=o*c,p=o*u;e[0]=s*c,e[4]=-s*u,e[8]=l,e[1]=d+f*l,e[5]=h-p*l,e[9]=-o*s,e[2]=p-h*l,e[6]=f+d*l,e[10]=a*s}else if("YXZ"===t.order){var m=s*u,v=l*c;e[0]=(g=s*c)+(y=l*u)*o,e[4]=v*o-m,e[8]=a*l,e[1]=a*u,e[5]=a*c,e[9]=-o,e[2]=m*o-v,e[6]=y+g*o,e[10]=a*s}else if("ZXY"===t.order){var g,y;m=s*u,v=l*c,e[0]=(g=s*c)-(y=l*u)*o,e[4]=-a*u,e[8]=v+m*o,e[1]=m+v*o,e[5]=a*c,e[9]=y-g*o,e[2]=-a*l,e[6]=o,e[10]=a*s}else if("ZYX"===t.order)h=a*c,d=a*u,f=o*c,p=o*u,e[0]=s*c,e[4]=f*l-d,e[8]=h*l+p,e[1]=s*u,e[5]=p*l+h,e[9]=d*l-f,e[2]=-l,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var _=a*s,b=a*l,x=o*s,w=o*l;e[0]=s*c,e[4]=w-_*u,e[8]=x*u+b,e[1]=u,e[5]=a*c,e[9]=-o*c,e[2]=-l*c,e[6]=b*u+x,e[10]=_-w*u}else"XZY"===t.order&&(_=a*s,b=a*l,x=o*s,w=o*l,e[0]=s*c,e[4]=-u,e[8]=l*c,e[1]=_*u+w,e[5]=a*c,e[9]=b*u-x,e[2]=x*u-b,e[6]=o*c,e[10]=w*u+_);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){return this.compose(GP,t,WP)},lookAt:function(t,e,n){var i=this.elements;return XP.subVectors(t,e),0===XP.lengthSq()&&(XP.z=1),XP.normalize(),qP.crossVectors(n,XP),0===qP.lengthSq()&&(1===Math.abs(n.z)?XP.x+=1e-4:XP.z+=1e-4,XP.normalize(),qP.crossVectors(n,XP)),qP.normalize(),YP.crossVectors(XP,qP),i[0]=qP.x,i[4]=YP.x,i[8]=XP.x,i[1]=qP.y,i[5]=YP.y,i[9]=XP.y,i[2]=qP.z,i[6]=YP.z,i[10]=XP.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],b=n[15],x=i[0],w=i[4],C=i[8],k=i[12],S=i[1],E=i[5],T=i[9],M=i[13],A=i[2],R=i[6],P=i[10],O=i[14],L=i[3],I=i[7],D=i[11],N=i[15];return r[0]=a*x+o*S+s*A+l*L,r[4]=a*w+o*E+s*R+l*I,r[8]=a*C+o*T+s*P+l*D,r[12]=a*k+o*M+s*O+l*N,r[1]=c*x+u*S+h*A+d*L,r[5]=c*w+u*E+h*R+d*I,r[9]=c*C+u*T+h*P+d*D,r[13]=c*k+u*M+h*O+d*N,r[2]=f*x+p*S+m*A+v*L,r[6]=f*w+p*E+m*R+v*I,r[10]=f*C+p*T+m*P+v*D,r[14]=f*k+p*M+m*O+v*N,r[3]=g*x+y*S+_*A+b*L,r[7]=g*w+y*E+_*R+b*I,r[11]=g*C+y*T+_*P+b*D,r[15]=g*k+y*M+_*O+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],l=t[13],c=t[2],u=t[6],h=t[10],d=t[14];return t[3]*(+r*s*u-i*l*u-r*o*h+n*l*h+i*o*d-n*s*d)+t[7]*(+e*s*d-e*l*h+r*a*h-i*a*d+i*l*c-r*s*c)+t[11]*(+e*l*u-e*o*d-r*a*u+n*a*d+r*o*c-n*l*c)+t[15]*(-i*o*c-e*s*u+e*o*h+i*a*u-n*a*h+n*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this},getInverse:function(t,e){var n=this.elements,i=t.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=i[6],h=i[7],d=i[8],f=i[9],p=i[10],m=i[11],v=i[12],g=i[13],y=i[14],_=i[15],b=f*y*h-g*p*h+g*u*m-c*y*m-f*u*_+c*p*_,x=v*p*h-d*y*h-v*u*m+l*y*m+d*u*_-l*p*_,w=d*g*h-v*f*h+v*c*m-l*g*m-d*c*_+l*f*_,C=v*f*u-d*g*u-v*c*p+l*g*p+d*c*y-l*f*y,k=r*b+a*x+o*w+s*C;if(0===k){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var E=1/k;return n[0]=b*E,n[1]=(g*p*s-f*y*s-g*o*m+a*y*m+f*o*_-a*p*_)*E,n[2]=(c*y*s-g*u*s+g*o*h-a*y*h-c*o*_+a*u*_)*E,n[3]=(f*u*s-c*p*s-f*o*h+a*p*h+c*o*m-a*u*m)*E,n[4]=x*E,n[5]=(d*y*s-v*p*s+v*o*m-r*y*m-d*o*_+r*p*_)*E,n[6]=(v*u*s-l*y*s-v*o*h+r*y*h+l*o*_-r*u*_)*E,n[7]=(l*p*s-d*u*s+d*o*h-r*p*h-l*o*m+r*u*m)*E,n[8]=w*E,n[9]=(v*f*s-d*g*s-v*a*m+r*g*m+d*a*_-r*f*_)*E,n[10]=(l*g*s-v*c*s+v*a*h-r*g*h-l*a*_+r*c*_)*E,n[11]=(d*c*s-l*f*s-d*a*h+r*f*h+l*a*m-r*c*m)*E,n[12]=C*E,n[13]=(d*g*o-v*f*o+v*a*p-r*g*p-d*a*y+r*f*y)*E,n[14]=(v*c*o-l*g*o-v*a*u+r*g*u+l*a*y-r*c*y)*E,n[15]=(l*f*o-d*c*o+d*a*u-r*f*u-l*a*p+r*c*p)*E,this},scale:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,a=t.x,o=t.y,s=t.z,l=r*a,c=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,c*o+n,c*s-i*a,0,l*s-i*o,c*s+i*a,r*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,l=r+r,c=a+a,u=o+o,h=r*l,d=r*c,f=r*u,p=a*c,m=a*u,v=o*u,g=s*l,y=s*c,_=s*u,b=n.x,x=n.y,w=n.z;return i[0]=(1-(p+v))*b,i[1]=(d+_)*b,i[2]=(f-y)*b,i[3]=0,i[4]=(d-_)*x,i[5]=(1-(h+v))*x,i[6]=(m+g)*x,i[7]=0,i[8]=(f+y)*w,i[9]=(m-g)*w,i[10]=(1-(h+p))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},decompose:function(t,e,n){var i=this.elements,r=UP.set(i[0],i[1],i[2]).length(),a=UP.set(i[4],i[5],i[6]).length(),o=UP.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],HP.copy(this);var s=1/r,l=1/a,c=1/o;return HP.elements[0]*=s,HP.elements[1]*=s,HP.elements[2]*=s,HP.elements[4]*=l,HP.elements[5]*=l,HP.elements[6]*=l,HP.elements[8]*=c,HP.elements[9]*=c,HP.elements[10]*=c,e.setFromRotationMatrix(HP),n.x=r,n.y=a,n.z=o,this},makePerspective:function(t,e,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(n-i),l=(e+t)/(e-t),c=(n+i)/(n-i),u=-(a+r)/(a-r),h=-2*a*r/(a-r);return o[0]=2*r/(e-t),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=s,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,n,i,r,a){var o=this.elements,s=1/(e-t),l=1/(n-i),c=1/(a-r),u=(e+t)*s,h=(n+i)*l,d=(a+r)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}});var QP=new ZP,JP=new zP;function KP(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._order=i||KP.DefaultOrder}function $P(){this.mask=1}KP.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],KP.DefaultOrder="XYZ",Object.defineProperties(KP.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}}),Object.assign(KP.prototype,{isEuler:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var i=AP.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],f=r[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===e?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===e?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,f))):"XZY"===e?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(t,e,n){return QP.makeRotationFromQuaternion(t),this.setFromRotationMatrix(QP,e,n)},setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(t){return JP.setFromEuler(this),this.setFromQuaternion(JP,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new jP(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Object.assign($P.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},enableAll:function(){this.mask=-1},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},disableAll:function(){this.mask=0},test:function(t){return 0!=(this.mask&t.mask)}});var tO=0,eO=new jP,nO=new zP,iO=new ZP,rO=new jP,aO=new jP,oO=new jP,sO=new zP,lO=new jP(1,0,0),cO=new jP(0,1,0),uO=new jP(0,0,1),hO={type:"added"},dO={type:"removed"};function fO(){Object.defineProperty(this,"id",{value:tO++}),this.uuid=AP.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=fO.DefaultUp.clone();var t=new jP,e=new KP,n=new zP,i=new jP(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ZP},normalMatrix:{value:new PP}}),this.matrix=new ZP,this.matrixWorld=new ZP,this.matrixAutoUpdate=fO.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new $P,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function pO(){fO.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}fO.DefaultUp=new jP(0,1,0),fO.DefaultMatrixAutoUpdate=!0,fO.prototype=Object.assign(Object.create(SP.prototype),{constructor:fO,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return nO.setFromAxisAngle(t,e),this.quaternion.multiply(nO),this},rotateOnWorldAxis:function(t,e){return nO.setFromAxisAngle(t,e),this.quaternion.premultiply(nO),this},rotateX:function(t){return this.rotateOnAxis(lO,t)},rotateY:function(t){return this.rotateOnAxis(cO,t)},rotateZ:function(t){return this.rotateOnAxis(uO,t)},translateOnAxis:function(t,e){return eO.copy(t).applyQuaternion(this.quaternion),this.position.add(eO.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(lO,t)},translateY:function(t){return this.translateOnAxis(cO,t)},translateZ:function(t){return this.translateOnAxis(uO,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(iO.getInverse(this.matrixWorld))},lookAt:function(t,e,n){t.isVector3?rO.copy(t):rO.set(t,e,n);var i=this.parent;this.updateWorldMatrix(!0,!1),aO.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?iO.lookAt(aO,rO,this.up):iO.lookAt(rO,aO,this.up),this.quaternion.setFromRotationMatrix(iO),i&&(iO.extractRotation(i.matrixWorld),nO.setFromRotationMatrix(iO),this.quaternion.premultiply(nO.inverse()))},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(hO)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(dO)),this},attach:function(t){return this.updateWorldMatrix(!0,!1),iO.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),iO.multiply(t.parent.matrixWorld)),t.applyMatrix4(iO),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new jP),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new zP),this.updateMatrixWorld(!0),this.matrixWorld.decompose(aO,t,oO),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new jP),this.updateMatrixWorld(!0),this.matrixWorld.decompose(aO,sO,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new jP),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++)r(t.shapes,o[s]);else r(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,l=this.material.length;s<l;s++)c.push(r(t.materials,this.material[s]));i.material=c}else i.material=r(t.materials,this.material);if(this.children.length>0)for(i.children=[],s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(t).object);if(e){var u=p(t.geometries),h=p(t.materials),d=p(t.textures),f=p(t.images);o=p(t.shapes),u.length>0&&(n.geometries=u),h.length>0&&(n.materials=h),d.length>0&&(n.textures=d),f.length>0&&(n.images=f),o.length>0&&(n.shapes=o)}return n.object=i,n;function p(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}}),pO.prototype=Object.assign(Object.create(fO.prototype),{constructor:pO,isScene:!0,copy:function(t,e){return fO.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=fO.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}});var mO=[new jP,new jP,new jP,new jP,new jP,new jP,new jP,new jP],vO=new jP,gO=new MO,yO=new jP,_O=new jP,bO=new jP,xO=new jP,wO=new jP,CO=new jP,kO=new jP,SO=new jP,EO=new jP,TO=new jP;function MO(t,e){this.min=void 0!==t?t:new jP(1/0,1/0,1/0),this.max=void 0!==e?e:new jP(-1/0,-1/0,-1/0)}function AO(t,e,n,i,r){var a,o;for(a=0,o=t.length-3;a<=o;a+=3){TO.fromArray(t,a);var s=r.x*Math.abs(TO.x)+r.y*Math.abs(TO.y)+r.z*Math.abs(TO.z),l=e.dot(TO),c=n.dot(TO),u=i.dot(TO);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}Object.assign(MO.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var c=t[s],u=t[s+1],h=t[s+2];c<e&&(e=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>a&&(a=u),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var c=t.getX(s),u=t.getY(s),h=t.getZ(s);c<e&&(e=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>a&&(a=u),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(t,e){var n=vO.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new jP),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new jP),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),gO.copy(e.boundingBox),gO.applyMatrix4(t.matrixWorld),this.expandByPoint(gO.min),this.expandByPoint(gO.max));for(var n=t.children,i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new jP),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return this.clampPoint(t.center,vO),vO.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},intersectsTriangle:function(t){if(this.isEmpty())return!1;this.getCenter(kO),SO.subVectors(this.max,kO),yO.subVectors(t.a,kO),_O.subVectors(t.b,kO),bO.subVectors(t.c,kO),xO.subVectors(_O,yO),wO.subVectors(bO,_O),CO.subVectors(yO,bO);var e=[0,-xO.z,xO.y,0,-wO.z,wO.y,0,-CO.z,CO.y,xO.z,0,-xO.x,wO.z,0,-wO.x,CO.z,0,-CO.x,-xO.y,xO.x,0,-wO.y,wO.x,0,-CO.y,CO.x,0];return!!AO(e,yO,_O,bO,SO)&&!!AO(e=[1,0,0,0,1,0,0,0,1],yO,_O,bO,SO)&&(EO.crossVectors(xO,wO),AO(e=[EO.x,EO.y,EO.z],yO,_O,bO,SO))},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new jP),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return vO.copy(t).clamp(this.min,this.max).sub(t).length()},getBoundingSphere:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(vO).length(),t},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){return this.isEmpty()?this:(mO[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),mO[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),mO[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),mO[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),mO[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),mO[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),mO[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),mO[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(mO),this)},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var RO=new MO;function PO(t,e){this.center=void 0!==t?t:new jP,this.radius=void 0!==e?e:0}Object.assign(PO.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(t,e){var n=this.center;void 0!==e?n.copy(e):RO.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new jP),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new MO),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}});var OO=new jP,LO=new jP,IO=new jP,DO=new jP,NO=new jP,FO=new jP,zO=new jP;function VO(t,e){this.origin=void 0!==t?t:new jP,this.direction=void 0!==e?e:new jP(0,0,-1)}Object.assign(VO.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new jP),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(t){return this.origin.copy(this.at(t,OO)),this},closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new jP),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(t){var e=OO.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(OO.copy(this.direction).multiplyScalar(e).add(this.origin),OO.distanceToSquared(t))},distanceSqToSegment:function(t,e,n,i){LO.copy(t).add(e).multiplyScalar(.5),IO.copy(e).sub(t).normalize(),DO.copy(this.origin).sub(LO);var r,a,o,s,l=.5*t.distanceTo(e),c=-this.direction.dot(IO),u=DO.dot(this.direction),h=-DO.dot(IO),d=DO.lengthSq(),f=Math.abs(1-c*c);if(f>0)if(a=c*u-h,s=l*f,(r=c*h-u)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(r*=p)*(r+c*(a*=p)+2*u)+a*(c*r+a+2*h)+d}else a=l,o=-(r=Math.max(0,-(c*a+u)))*r+a*(a+2*h)+d;else a=-l,o=-(r=Math.max(0,-(c*a+u)))*r+a*(a+2*h)+d;else a<=-s?o=-(r=Math.max(0,-(-c*l+u)))*r+(a=r>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+d):o=-(r=Math.max(0,-(c*l+u)))*r+(a=r>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d;else a=c>0?-l:l,o=-(r=Math.max(0,-(c*a+u)))*r+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(IO).multiplyScalar(a).add(LO),o},intersectSphere:function(t,e){OO.subVectors(t.center,this.origin);var n=OO.dot(this.direction),i=OO.dot(OO)-n*n,r=t.radius*t.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:this.at(o<0?s:o,e)},intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,i,r,a,o,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,i=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,i=(t.min.x-h.x)*l),c>=0?(r=(t.min.y-h.y)*c,a=(t.max.y-h.y)*c):(r=(t.max.y-h.y)*c,a=(t.min.y-h.y)*c),n>a||r>i?null:((r>n||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),u>=0?(o=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(o=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),n>s||o>i?null:((o>n||n!=n)&&(n=o),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))},intersectsBox:function(t){return null!==this.intersectBox(t,OO)},intersectTriangle:function(t,e,n,i,r){NO.subVectors(e,t),FO.subVectors(n,t),zO.crossVectors(NO,FO);var a,o=this.direction.dot(zO);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}DO.subVectors(this.origin,t);var s=a*this.direction.dot(FO.crossVectors(DO,FO));if(s<0)return null;var l=a*this.direction.dot(NO.cross(DO));if(l<0)return null;if(s+l>o)return null;var c=-a*DO.dot(zO);return c<0?null:this.at(c/o,r)},applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}});var BO=new jP,jO=new jP,UO=new PP;function HO(t,e){this.normal=void 0!==t?t:new jP(1,0,0),this.constant=void 0!==e?e:0}Object.assign(HO.prototype,{isPlane:!0,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(t,e,n){var i=BO.subVectors(n,e).cross(jO.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new jP),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new jP);var n=t.delta(BO),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)},intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new jP),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(t,e){var n=e||UO.getNormalMatrix(t),i=this.coplanarPoint(BO).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this},translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}});var GO=new jP,WO=new jP,qO=new jP,YO=new jP,XO=new jP,ZO=new jP,QO=new jP,JO=new jP,KO=new jP,$O=new jP;function tL(t,e,n){this.a=void 0!==t?t:new jP,this.b=void 0!==e?e:new jP,this.c=void 0!==n?n:new jP}Object.assign(tL,{getNormal:function(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new jP),i.subVectors(n,e),GO.subVectors(t,e),i.cross(GO);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)},getBarycoord:function(t,e,n,i,r){GO.subVectors(i,e),WO.subVectors(n,e),qO.subVectors(t,e);var a=GO.dot(GO),o=GO.dot(WO),s=GO.dot(qO),l=WO.dot(WO),c=WO.dot(qO),u=a*l-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new jP),0===u)return r.set(-2,-1,-1);var h=1/u,d=(l*s-o*c)*h,f=(a*c-o*s)*h;return r.set(1-d-f,f,d)},containsPoint:function(t,e,n,i){return tL.getBarycoord(t,e,n,i,YO),YO.x>=0&&YO.y>=0&&YO.x+YO.y<=1},getUV:function(t,e,n,i,r,a,o,s){return this.getBarycoord(t,e,n,i,YO),s.set(0,0),s.addScaledVector(r,YO.x),s.addScaledVector(a,YO.y),s.addScaledVector(o,YO.z),s},isFrontFacing:function(t,e,n,i){return GO.subVectors(n,e),WO.subVectors(t,e),GO.cross(WO).dot(i)<0}}),Object.assign(tL.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){return GO.subVectors(this.c,this.b),WO.subVectors(this.a,this.b),.5*GO.cross(WO).length()},getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new jP),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return tL.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new HO),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return tL.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,n,i,r){return tL.getUV(t,this.a,this.b,this.c,e,n,i,r)},containsPoint:function(t){return tL.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return tL.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new jP);var n,i,r=this.a,a=this.b,o=this.c;XO.subVectors(a,r),ZO.subVectors(o,r),JO.subVectors(t,r);var s=XO.dot(JO),l=ZO.dot(JO);if(s<=0&&l<=0)return e.copy(r);KO.subVectors(t,a);var c=XO.dot(KO),u=ZO.dot(KO);if(c>=0&&u<=c)return e.copy(a);var h=s*u-c*l;if(h<=0&&s>=0&&c<=0)return n=s/(s-c),e.copy(r).addScaledVector(XO,n);$O.subVectors(t,o);var d=XO.dot($O),f=ZO.dot($O);if(f>=0&&d<=f)return e.copy(o);var p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return i=l/(l-f),e.copy(r).addScaledVector(ZO,i);var m=c*f-d*u;if(m<=0&&u-c>=0&&d-f>=0)return QO.subVectors(o,a),i=(u-c)/(u-c+(d-f)),e.copy(a).addScaledVector(QO,i);var v=1/(m+p+h);return n=p*v,i=h*v,e.copy(r).addScaledVector(XO,n).addScaledVector(ZO,i)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}});var eL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nL={h:0,s:0,l:0},iL={h:0,s:0,l:0};function rL(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function aL(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function oL(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function sL(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function lL(t,e,n,i,r,a){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new jP,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new rL,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}Object.assign(rL.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(t,e,n){if(t=AP.euclideanModulo(t,1),e=AP.clamp(e,0,1),n=AP.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=aL(r,i,t+1/3),this.g=aL(r,i,t),this.b=aL(r,i,t-1/3)}return this},setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[2];switch(n[1]){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){var a=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(a,o,s)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l=n[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this},setColorName:function(t){var e=eL[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=oL(t.r),this.g=oL(t.g),this.b=oL(t.b),this},copyLinearToSRGB:function(t){return this.r=sL(t.r),this.g=sL(t.g),this.b=sL(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),l=(s+o)/2;if(s===o)e=0,n=0;else{var c=o-s;switch(n=l<=.5?c/(o+s):c/(2-o-s),o){case i:e=(r-a)/c+(r<a?6:0);break;case r:e=(a-i)/c+2;break;case a:e=(i-r)/c+4}e/=6}return t.h=e,t.s=n,t.l=l,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){return this.getHSL(nL),nL.h+=t,nL.s+=e,nL.l+=n,this.setHSL(nL.h,nL.s,nL.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:function(t,e){this.getHSL(nL),t.getHSL(iL);var n=AP.lerp(nL.h,iL.h,e),i=AP.lerp(nL.s,iL.s,e),r=AP.lerp(nL.l,iL.l,e);return this.setHSL(n,i,r),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}}),rL.NAMES=eL,Object.assign(lL.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var cL=0;function uL(){Object.defineProperty(this,"id",{value:cL++}),this.uuid=AP.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function hL(t){uL.call(this),this.type="MeshBasicMaterial",this.color=new rL(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}uL.prototype=Object.assign(Object.create(SP.prototype),{constructor:uL,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var r=i(t.textures),a=i(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexTangents=t.vertexTangents,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(uL.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(hL.prototype=Object.create(uL.prototype)).constructor=hL,hL.prototype.isMeshBasicMaterial=!0,hL.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};var dL=new jP;function fL(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function pL(t,e,n){fL.call(this,new Int8Array(t),e,n)}function mL(t,e,n){fL.call(this,new Uint8Array(t),e,n)}function vL(t,e,n){fL.call(this,new Uint8ClampedArray(t),e,n)}function gL(t,e,n){fL.call(this,new Int16Array(t),e,n)}function yL(t,e,n){fL.call(this,new Uint16Array(t),e,n)}function _L(t,e,n){fL.call(this,new Int32Array(t),e,n)}function bL(t,e,n){fL.call(this,new Uint32Array(t),e,n)}function xL(t,e,n){fL.call(this,new Float32Array(t),e,n)}function wL(t,e,n){fL.call(this,new Float64Array(t),e,n)}function CL(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function kL(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}Object.defineProperty(fL.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(fL.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new rL),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new RP),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new jP),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new DP),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},applyMatrix3:function(t){for(var e=0,n=this.count;e<n;e++)dL.x=this.getX(e),dL.y=this.getY(e),dL.z=this.getZ(e),dL.applyMatrix3(t),this.setXYZ(e,dL.x,dL.y,dL.z);return this},applyMatrix4:function(t){for(var e=0,n=this.count;e<n;e++)dL.x=this.getX(e),dL.y=this.getY(e),dL.z=this.getZ(e),dL.applyMatrix4(t),this.setXYZ(e,dL.x,dL.y,dL.z);return this},applyNormalMatrix:function(t){for(var e=0,n=this.count;e<n;e++)dL.x=this.getX(e),dL.y=this.getY(e),dL.z=this.getZ(e),dL.applyNormalMatrix(t),this.setXYZ(e,dL.x,dL.y,dL.z);return this},transformDirection:function(t){for(var e=0,n=this.count;e<n;e++)dL.x=this.getX(e),dL.y=this.getY(e),dL.z=this.getZ(e),dL.transformDirection(t),this.setXYZ(e,dL.x,dL.y,dL.z);return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(pL.prototype=Object.create(fL.prototype)).constructor=pL,(mL.prototype=Object.create(fL.prototype)).constructor=mL,(vL.prototype=Object.create(fL.prototype)).constructor=vL,(gL.prototype=Object.create(fL.prototype)).constructor=gL,(yL.prototype=Object.create(fL.prototype)).constructor=yL,(_L.prototype=Object.create(fL.prototype)).constructor=_L,(bL.prototype=Object.create(fL.prototype)).constructor=bL,(xL.prototype=Object.create(fL.prototype)).constructor=xL,(wL.prototype=Object.create(fL.prototype)).constructor=wL,Object.assign(CL.prototype,{computeGroups:function(t){for(var e,n=[],i=void 0,r=t.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==i&&(i=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,n.push(e)),e={start:3*a,materialIndex:i})}void 0!==e&&(e.count=3*a-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,i=t.vertices,r=t.faceVertexUvs,a=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=t.morphTargets,l=s.length;if(l>0){e=[];for(var c=0;c<l;c++)e[c]={name:s[c].name,data:[]};this.morphTargets.position=e}var u,h=t.morphNormals,d=h.length;if(d>0){for(u=[],c=0;c<d;c++)u[c]={name:h[c].name,data:[]};this.morphTargets.normal=u}var f=t.skinIndices,p=t.skinWeights,m=f.length===i.length,v=p.length===i.length;for(i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),c=0;c<n.length;c++){var g=n[c];this.vertices.push(i[g.a],i[g.b],i[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=g.normal;this.normals.push(_,_,_)}var b,x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=g.color;this.colors.push(w,w,w)}!0===a&&(void 0!==(b=r[0][c])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new RP,new RP,new RP))),!0===o&&(void 0!==(b=r[1][c])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new RP,new RP,new RP)));for(var C=0;C<l;C++){var k=s[C].vertices;e[C].data.push(k[g.a],k[g.b],k[g.c])}for(C=0;C<d;C++){var S=h[C].vertexNormals[c];u[C].data.push(S.a,S.b,S.c)}m&&this.skinIndices.push(f[g.a],f[g.b],f[g.c]),v&&this.skinWeights.push(p[g.a],p[g.b],p[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}});var SL=1,EL=new ZP,TL=new fO,ML=new jP,AL=new MO,RL=new MO,PL=new jP;function OL(){Object.defineProperty(this,"id",{value:SL+=2}),this.uuid=AP.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}OL.prototype=Object.assign(Object.create(SP.prototype),{constructor:OL,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=Array.isArray(t)?new(kL(t)>65535?bL:yL)(t,1):t},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new PP).getNormalMatrix(t);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return EL.makeRotationX(t),this.applyMatrix4(EL),this},rotateY:function(t){return EL.makeRotationY(t),this.applyMatrix4(EL),this},rotateZ:function(t){return EL.makeRotationZ(t),this.applyMatrix4(EL),this},translate:function(t,e,n){return EL.makeTranslation(t,e,n),this.applyMatrix4(EL),this},scale:function(t,e,n){return EL.makeScale(t,e,n),this.applyMatrix4(EL),this},lookAt:function(t){return TL.lookAt(t),TL.updateMatrix(),this.applyMatrix4(TL.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ML).negate(),this.translate(ML.x,ML.y,ML.z),this},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new xL(3*e.vertices.length,3),i=new xL(3*e.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(e.vertices)),this.setAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new xL(e.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new xL(e,3)),this},updateFromObject:function(t){var e,n=t.geometry;if(t.isMesh){var i=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(i=void 0,n.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}return!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new CL).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new fL(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.setAttribute("normal",new fL(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.setAttribute("color",new fL(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new fL(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new fL(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],l=t.morphTargets[o],c=0,u=l.length;c<u;c++){var h=l[c],d=new xL(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var f=new xL(4*t.skinIndices.length,4);this.setAttribute("skinIndex",f.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var p=new xL(4*t.skinWeights.length,4);this.setAttribute("skinWeight",p.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new MO);var t=this.attributes.position,e=this.morphAttributes.position;if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++)AL.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(PL.addVectors(this.boundingBox.min,AL.min),this.boundingBox.expandByPoint(PL),PL.addVectors(this.boundingBox.max,AL.max),this.boundingBox.expandByPoint(PL)):(this.boundingBox.expandByPoint(AL.min),this.boundingBox.expandByPoint(AL.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new PO);var t=this.attributes.position,e=this.morphAttributes.position;if(t){var n=this.boundingSphere.center;if(AL.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++)RL.setFromBufferAttribute(o=e[i]),this.morphTargetsRelative?(PL.addVectors(AL.min,RL.min),AL.expandByPoint(PL),PL.addVectors(AL.max,RL.max),AL.expandByPoint(PL)):(AL.expandByPoint(RL.min),AL.expandByPoint(RL.max));AL.getCenter(n);var a=0;for(i=0,r=t.count;i<r;i++)PL.fromBufferAttribute(t,i),a=Math.max(a,n.distanceToSquared(PL));if(e)for(i=0,r=e.length;i<r;i++)for(var o,s=this.morphTargetsRelative,l=0,c=(o=e[i]).count;l<c;l++)PL.fromBufferAttribute(o,l),s&&(ML.fromBufferAttribute(t,l),PL.add(ML)),a=Math.max(a,n.distanceToSquared(PL));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var n=e.position.array;if(void 0===e.normal)this.setAttribute("normal",new fL(new Float32Array(n.length),3));else for(var i=e.normal.array,r=0,a=i.length;r<a;r++)i[r]=0;var o,s,l,c=e.normal.array,u=new jP,h=new jP,d=new jP,f=new jP,p=new jP;if(t){var m=t.array;for(r=0,a=t.count;r<a;r+=3)s=3*m[r+1],l=3*m[r+2],u.fromArray(n,o=3*m[r+0]),h.fromArray(n,s),d.fromArray(n,l),f.subVectors(d,h),p.subVectors(u,h),f.cross(p),c[o]+=f.x,c[o+1]+=f.y,c[o+2]+=f.z,c[s]+=f.x,c[s+1]+=f.y,c[s+2]+=f.z,c[l]+=f.x,c[l+1]+=f.y,c[l+2]+=f.z}else for(r=0,a=n.length;r<a;r+=9)u.fromArray(n,r),h.fromArray(n,r+3),d.fromArray(n,r+6),f.subVectors(d,h),p.subVectors(u,h),f.cross(p),c[r]=f.x,c[r+1]=f.y,c[r+2]=f.z,c[r+3]=f.x,c[r+4]=f.y,c[r+5]=f.z,c[r+6]=f.x,c[r+7]=f.y,c[r+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i].array,a=t.attributes[i],o=a.array,s=a.itemSize*e,l=Math.min(o.length,r.length-s),c=0,u=s;c<l;c++,u++)r[u]=o[c];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)PL.x=t.getX(e),PL.y=t.getY(e),PL.z=t.getZ(e),PL.normalize(),t.setXYZ(e,PL.x,PL.y,PL.z)},toNonIndexed:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=new n.constructor(e.length*i),a=0,o=0,s=0,l=e.length;s<l;s++){a=e[s]*i;for(var c=0;c<i;c++)r[o++]=n[a++]}return new fL(r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new OL,n=this.index.array,i=this.attributes;for(var r in i){var a=t(i[r],n);e.setAttribute(r,a)}var o=this.morphAttributes;for(r in o){for(var s=[],l=o[r],c=0,u=l.length;c<u;c++)a=t(l[c],n),s.push(a);e.morphAttributes[r]=s}e.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,d=(c=0,h.length);c<d;c++){var f=h[c];e.addGroup(f.start,f.count,f.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var n in r){var a=(d=r[n]).toJSON();""!==d.name&&(a.name=d.name),t.data.attributes[n]=a}var o={},s=!1;for(var n in this.morphAttributes){for(var l=this.morphAttributes[n],c=[],u=0,h=l.length;u<h;u++){var d;a=(d=l[u]).toJSON(),""!==d.name&&(a.name=d.name),c.push(a)}c.length>0&&(o[n]=c,s=!0)}s&&(t.data.morphAttributes=o,t.data.morphTargetsRelative=this.morphTargetsRelative);var f=this.groups;f.length>0&&(t.data.groups=JSON.parse(JSON.stringify(f)));var p=this.boundingSphere;return null!==p&&(t.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),t},clone:function(){return(new OL).copy(this)},copy:function(t){var e,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var r=t.index;null!==r&&this.setIndex(r.clone());var a=t.attributes;for(e in a)this.setAttribute(e,a[e].clone());var o=t.morphAttributes;for(e in o){var s=[],l=o[e];for(n=0,i=l.length;n<i;n++)s.push(l[n].clone());this.morphAttributes[e]=s}this.morphTargetsRelative=t.morphTargetsRelative;var c=t.groups;for(n=0,i=c.length;n<i;n++){var u=c[n];this.addGroup(u.start,u.count,u.materialIndex)}var h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var LL=new ZP,IL=new VO,DL=new PO,NL=new jP,FL=new jP,zL=new jP,VL=new jP,BL=new jP,jL=new jP,UL=new jP,HL=new jP,GL=new jP,WL=new RP,qL=new RP,YL=new RP,XL=new jP,ZL=new jP;function QL(t,e){fO.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new OL,this.material=void 0!==e?e:new hL,this.updateMorphTargets()}function JL(t,e,n,i,r,a,o,s){if(null===(1===e.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,2!==e.side,s)))return null;ZL.copy(s),ZL.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(ZL);return l<n.near||l>n.far?null:{distance:l,point:ZL.clone(),object:t}}function KL(t,e,n,i,r,a,o,s,l,c,u,h){NL.fromBufferAttribute(r,c),FL.fromBufferAttribute(r,u),zL.fromBufferAttribute(r,h);var d=t.morphTargetInfluences;if(e.morphTargets&&a&&d){UL.set(0,0,0),HL.set(0,0,0),GL.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var m=d[f],v=a[f];0!==m&&(VL.fromBufferAttribute(v,c),BL.fromBufferAttribute(v,u),jL.fromBufferAttribute(v,h),o?(UL.addScaledVector(VL,m),HL.addScaledVector(BL,m),GL.addScaledVector(jL,m)):(UL.addScaledVector(VL.sub(NL),m),HL.addScaledVector(BL.sub(FL),m),GL.addScaledVector(jL.sub(zL),m)))}NL.add(UL),FL.add(HL),zL.add(GL)}var g=JL(t,e,n,i,NL,FL,zL,XL);if(g){s&&(WL.fromBufferAttribute(s,c),qL.fromBufferAttribute(s,u),YL.fromBufferAttribute(s,h),g.uv=tL.getUV(XL,NL,FL,zL,WL,qL,YL,new RP)),l&&(WL.fromBufferAttribute(l,c),qL.fromBufferAttribute(l,u),YL.fromBufferAttribute(l,h),g.uv2=tL.getUV(XL,NL,FL,zL,WL,qL,YL,new RP));var y=new lL(c,u,h);tL.getNormal(NL,FL,zL,y.normal),g.face=y}return g}QL.prototype=Object.assign(Object.create(fO.prototype),{constructor:QL,isMesh:!0,copy:function(t){return fO.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)n=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var n,i=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),DL.copy(i.boundingSphere),DL.applyMatrix4(a),!1!==t.ray.intersectsSphere(DL)&&(LL.getInverse(a),IL.copy(t.ray).applyMatrix4(LL),null===i.boundingBox||!1!==IL.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var o,s,l,c,u,h,d,f,p,m=i.index,v=i.attributes.position,g=i.morphAttributes.position,y=i.morphTargetsRelative,_=i.attributes.uv,b=i.attributes.uv2,x=i.groups,w=i.drawRange;if(null!==m)if(Array.isArray(r))for(c=0,h=x.length;c<h;c++)for(p=r[(f=x[c]).materialIndex],u=Math.max(f.start,w.start),d=Math.min(f.start+f.count,w.start+w.count);u<d;u+=3)o=m.getX(u),s=m.getX(u+1),l=m.getX(u+2),(n=KL(this,p,t,IL,v,g,y,_,b,o,s,l))&&(n.faceIndex=Math.floor(u/3),n.face.materialIndex=f.materialIndex,e.push(n));else for(c=Math.max(0,w.start),h=Math.min(m.count,w.start+w.count);c<h;c+=3)o=m.getX(c),s=m.getX(c+1),l=m.getX(c+2),(n=KL(this,r,t,IL,v,g,y,_,b,o,s,l))&&(n.faceIndex=Math.floor(c/3),e.push(n));else if(void 0!==v)if(Array.isArray(r))for(c=0,h=x.length;c<h;c++)for(p=r[(f=x[c]).materialIndex],u=Math.max(f.start,w.start),d=Math.min(f.start+f.count,w.start+w.count);u<d;u+=3)(n=KL(this,p,t,IL,v,g,y,_,b,o=u,s=u+1,l=u+2))&&(n.faceIndex=Math.floor(u/3),n.face.materialIndex=f.materialIndex,e.push(n));else for(c=Math.max(0,w.start),h=Math.min(v.count,w.start+w.count);c<h;c+=3)(n=KL(this,r,t,IL,v,g,y,_,b,o=c,s=c+1,l=c+2))&&(n.faceIndex=Math.floor(c/3),e.push(n))}else if(i.isGeometry){var C,k,S,E,T=Array.isArray(r),M=i.vertices,A=i.faces,R=i.faceVertexUvs[0];R.length>0&&(E=R);for(var P=0,O=A.length;P<O;P++){var L=A[P],I=T?r[L.materialIndex]:r;if(void 0!==I&&(n=JL(this,I,t,IL,C=M[L.a],k=M[L.b],S=M[L.c],XL))){if(E&&E[P]){var D=E[P];WL.copy(D[0]),qL.copy(D[1]),YL.copy(D[2]),n.uv=tL.getUV(XL,C,k,S,WL,qL,YL,new RP)}n.face=L,n.faceIndex=P,e.push(n)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var $L=0,tI=new ZP,eI=new fO,nI=new jP;function iI(){Object.defineProperty(this,"id",{value:$L+=2}),this.uuid=AP.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}iI.prototype=Object.assign(Object.create(SP.prototype),{constructor:iI,isGeometry:!0,applyMatrix4:function(t){for(var e=(new PP).getNormalMatrix(t),n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(t);for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(e).normalize();for(var a=0,o=r.vertexNormals.length;a<o;a++)r.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return tI.makeRotationX(t),this.applyMatrix4(tI),this},rotateY:function(t){return tI.makeRotationY(t),this.applyMatrix4(tI),this},rotateZ:function(t){return tI.makeRotationZ(t),this.applyMatrix4(tI),this},translate:function(t,e,n){return tI.makeTranslation(t,e,n),this.applyMatrix4(tI),this},scale:function(t,e,n){return tI.makeScale(t,e,n),this.applyMatrix4(tI),this},lookAt:function(t){return eI.lookAt(t),eI.updateMatrix(),this.applyMatrix4(eI.matrix),this},fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,i=t.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var r=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,o=void 0!==i.color?i.color.array:void 0,s=void 0!==i.uv?i.uv.array:void 0,l=void 0!==i.uv2?i.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=0;c<r.length;c+=3)e.vertices.push((new jP).fromArray(r,c)),void 0!==o&&e.colors.push((new rL).fromArray(o,c));function u(t,n,i,r){var c=void 0===o?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[i].clone()],u=new lL(t,n,i,void 0===a?[]:[(new jP).fromArray(a,3*t),(new jP).fromArray(a,3*n),(new jP).fromArray(a,3*i)],c,r);e.faces.push(u),void 0!==s&&e.faceVertexUvs[0].push([(new RP).fromArray(s,2*t),(new RP).fromArray(s,2*n),(new RP).fromArray(s,2*i)]),void 0!==l&&e.faceVertexUvs[1].push([(new RP).fromArray(l,2*t),(new RP).fromArray(l,2*n),(new RP).fromArray(l,2*i)])}var h=t.groups;if(h.length>0)for(c=0;c<h.length;c++)for(var d=h[c],f=d.start,p=f,m=f+d.count;p<m;p+=3)void 0!==n?u(n[p],n[p+1],n[p+2],d.materialIndex):u(p,p+1,p+2,d.materialIndex);else if(void 0!==n)for(c=0;c<n.length;c+=3)u(n[c],n[c+1],n[c+2]);else for(c=0;c<r.length/3;c+=3)u(c,c+1,c+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(nI).negate(),this.translate(nI.x,nI.y,nI.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new ZP;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){for(var t=new jP,e=new jP,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],a=this.vertices[r.a],o=this.vertices[r.b];t.subVectors(this.vertices[r.c],o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){var e,n,i,r,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)o[e]=new jP;if(t){var s,l,c=new jP,u=new jP;for(i=0,r=this.faces.length;i<r;i++)s=this.vertices[(a=this.faces[i]).a],c.subVectors(this.vertices[a.c],l=this.vertices[a.b]),u.subVectors(s,l),c.cross(u),o[a.a].add(c),o[a.b].add(c),o[a.c].add(c)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o[(a=this.faces[i]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,n=this.vertices.length;e<n;e++)o[e].normalize();for(i=0,r=this.faces.length;i<r;i++){var h=(a=this.faces[i]).vertexNormals;3===h.length?(h[0].copy(o[a.a]),h[1].copy(o[a.b]),h[2].copy(o[a.c])):(h[0]=o[a.a].clone(),h[1]=o[a.b].clone(),h[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var i=(n=this.faces[t]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new iI;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)l=new jP,c={a:new jP,b:new jP,c:new jP},o.push(l),s.push(c)}var l,c,u=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,i=this.faces.length;n<i;n++)c=u.vertexNormals[n],(l=u.faceNormals[n]).copy((r=this.faces[n]).normal),c.a.copy(r.vertexNormals[0]),c.b.copy(r.vertexNormals[1]),c.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new MO),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new PO),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var i,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,l=t.faces,c=this.colors,u=t.colors;void 0===n&&(n=0),void 0!==e&&(i=(new PP).getNormalMatrix(e));for(var h=0,d=o.length;h<d;h++){var f=o[h].clone();void 0!==e&&f.applyMatrix4(e),a.push(f)}for(h=0,d=u.length;h<d;h++)c.push(u[h].clone());for(h=0,d=l.length;h<d;h++){var p,m,v=l[h],g=v.vertexNormals,y=v.vertexColors;(p=new lL(v.a+r,v.b+r,v.c+r)).normal.copy(v.normal),void 0!==i&&p.normal.applyMatrix3(i).normalize();for(var _=0,b=g.length;_<b;_++)m=g[_].clone(),void 0!==i&&m.applyMatrix3(i).normalize(),p.vertexNormals.push(m);for(p.color.copy(v.color),_=0,b=y.length;_<b;_++)p.vertexColors.push(y[_].clone());p.materialIndex=v.materialIndex+n,s.push(p)}for(h=0,d=t.faceVertexUvs.length;h<d;h++){var x=t.faceVertexUvs[h];for(void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]),_=0,b=x.length;_<b;_++){for(var w=x[_],C=[],k=0,S=w.length;k<S;k++)C.push(w[k].clone());this.faceVertexUvs[h].push(C)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,i,r,a,o,s,l={},c=[],u=[],h=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)t=this.vertices[n],void 0===l[e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h)]?(l[e]=n,c.push(this.vertices[n]),u[n]=c.length-1):u[n]=u[l[e]];var d=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=u[r.a],r.b=u[r.b],r.c=u[r.c],a=[r.a,r.b,r.c];for(var f=0;f<3;f++)if(a[f]===a[(f+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var p=d[n];for(this.faces.splice(p,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(p,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];this.vertices.push(new jP(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var i,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(i=[]),o&&o.length===e&&(r=[]),n=0;n<e;n++){var s=t[n]._id;i&&i.push(a[s]),r&&r.push(o[s])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var i=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];i.push(a.x,a.y,a.z)}var o=[],s=[],l={},c=[],u={},h=[],d={};for(r=0;r<this.faces.length;r++){var f=this.faces[r],p=void 0!==this.faceVertexUvs[0][r],m=f.normal.length()>0,v=f.vertexNormals.length>0,g=1!==f.color.r||1!==f.color.g||1!==f.color.b,y=f.vertexColors.length>0,_=0;if(_=C(_,0,0),_=C(_,1,!0),_=C(_,2,!1),_=C(_,3,p),_=C(_,4,m),_=C(_,5,v),_=C(_,6,g),_=C(_,7,y),o.push(_),o.push(f.a,f.b,f.c),o.push(f.materialIndex),p){var b=this.faceVertexUvs[0][r];o.push(E(b[0]),E(b[1]),E(b[2]))}if(m&&o.push(k(f.normal)),v){var x=f.vertexNormals;o.push(k(x[0]),k(x[1]),k(x[2]))}if(g&&o.push(S(f.color)),y){var w=f.vertexColors;o.push(S(w[0]),S(w[1]),S(w[2]))}}function C(t,e,n){return n?t|1<<e:t&~(1<<e)}function k(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==l[e]?l[e]:(l[e]=s.length/3,s.push(t.x,t.y,t.z),l[e])}function S(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]?u[e]:(u[e]=c.length,c.push(t.getHex()),u[e])}function E(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]?d[e]:(d[e]=h.length/2,h.push(t.x,t.y),d[e])}return t.data={},t.data.vertices=i,t.data.normals=s,c.length>0&&(t.data.colors=c),h.length>0&&(t.data.uvs=[h]),t.data.faces=o,t},clone:function(){return(new iI).copy(this)},copy:function(t){var e,n,i,r,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var c=t.faces;for(e=0,n=c.length;e<n;e++)this.faces.push(c[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var u=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),i=0,r=u.length;i<r;i++){var h=u[i],d=[];for(a=0,o=h.length;a<o;a++)d.push(h[a].clone());this.faceVertexUvs[e].push(d)}}var f=t.morphTargets;for(e=0,n=f.length;e<n;e++){var p={};if(p.name=f[e].name,void 0!==f[e].vertices)for(p.vertices=[],i=0,r=f[e].vertices.length;i<r;i++)p.vertices.push(f[e].vertices[i].clone());if(void 0!==f[e].normals)for(p.normals=[],i=0,r=f[e].normals.length;i<r;i++)p.normals.push(f[e].normals[i].clone());this.morphTargets.push(p)}var m=t.morphNormals;for(e=0,n=m.length;e<n;e++){var v={};if(void 0!==m[e].vertexNormals)for(v.vertexNormals=[],i=0,r=m[e].vertexNormals.length;i<r;i++){var g=m[e].vertexNormals[i],y={};y.a=g.a.clone(),y.b=g.b.clone(),y.c=g.c.clone(),v.vertexNormals.push(y)}if(void 0!==m[e].faceNormals)for(v.faceNormals=[],i=0,r=m[e].faceNormals.length;i<r;i++)v.faceNormals.push(m[e].faceNormals[i].clone());this.morphNormals.push(v)}var _=t.skinWeights;for(e=0,n=_.length;e<n;e++)this.skinWeights.push(_[e].clone());var b=t.skinIndices;for(e=0,n=b.length;e<n;e++)this.skinIndices.push(b[e].clone());var x=t.lineDistances;for(e=0,n=x.length;e<n;e++)this.lineDistances.push(x[e]);var w=t.boundingBox;null!==w&&(this.boundingBox=w.clone());var C=t.boundingSphere;return null!==C&&(this.boundingSphere=C.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var rI=function(t){function e(t,n,i,r,a,o){var s;_classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).type="BoxBufferGeometry",s.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};var l=_assertThisInitialized(s);t=t||1,n=n||1,i=i||1,r=Math.floor(r)||1,a=Math.floor(a)||1,o=Math.floor(o)||1;var c=[],u=[],h=[],d=[],f=0,p=0;function m(t,e,n,i,r,a,o,s,m,v,g){var y,_,b=a/m,x=o/v,w=a/2,C=o/2,k=s/2,S=m+1,E=v+1,T=0,M=0,A=new jP;for(_=0;_<E;_++){var R=_*x-C;for(y=0;y<S;y++)A[t]=(y*b-w)*i,A[e]=R*r,A[n]=k,u.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=s>0?1:-1,h.push(A.x,A.y,A.z),d.push(y/m),d.push(1-_/v),T+=1}for(_=0;_<v;_++)for(y=0;y<m;y++){var P=f+y+S*(_+1),O=f+(y+1)+S*(_+1),L=f+(y+1)+S*_;c.push(f+y+S*_,P,L),c.push(P,O,L),M+=6}l.addGroup(p,M,g),p+=M,f+=T}return m("z","y","x",-1,-1,i,n,t,o,a,0),m("z","y","x",1,-1,i,n,-t,o,a,1),m("x","z","y",1,1,t,i,n,r,o,2),m("x","z","y",1,-1,t,i,-n,r,o,3),m("x","y","z",1,-1,t,n,i,r,a,4),m("x","y","z",-1,-1,t,n,-i,r,a,5),s.setIndex(c),s.setAttribute("position",new xL(u,3)),s.setAttribute("normal",new xL(h,3)),s.setAttribute("uv",new xL(d,2)),s}return _inherits(e,t),e}(OL);function aI(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];e[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?r.clone():Array.isArray(r)?r.slice():r}return e}function oI(t){for(var e={},n=0;n<t.length;n++){var i=aI(t[n]);for(var r in i)e[r]=i[r]}return e}var sI={clone:aI,merge:oI};function lI(t){uL.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function cI(){fO.call(this),this.type="Camera",this.matrixWorldInverse=new ZP,this.projectionMatrix=new ZP,this.projectionMatrixInverse=new ZP}function uI(t,e,n,i){cI.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function hI(t,e,n,i){fO.call(this),this.type="CubeCamera";var r=new uI(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new jP(1,0,0)),this.add(r);var a=new uI(90,1,t,e);a.up.set(0,-1,0),a.lookAt(new jP(-1,0,0)),this.add(a);var o=new uI(90,1,t,e);o.up.set(0,0,1),o.lookAt(new jP(0,1,0)),this.add(o);var s=new uI(90,1,t,e);s.up.set(0,0,-1),s.lookAt(new jP(0,-1,0)),this.add(s);var l=new uI(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new jP(0,0,1)),this.add(l);var c=new uI(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new jP(0,0,-1)),this.add(c),this.renderTarget=new dI(n,i=i||{format:1022,magFilter:1006,minFilter:1006}),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=t.getRenderTarget(),i=this.renderTarget,u=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,r),t.setRenderTarget(i,1),t.render(e,a),t.setRenderTarget(i,2),t.render(e,o),t.setRenderTarget(i,3),t.render(e,s),t.setRenderTarget(i,4),t.render(e,l),i.texture.generateMipmaps=u,t.setRenderTarget(i,5),t.render(e,c),t.setRenderTarget(n)},this.clear=function(t,e,n,i){for(var r=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,n,i);t.setRenderTarget(r)}}function dI(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),NP.call(this,t,t,e)}function fI(t,e,n,i,r,a,o,s,l,c,u,h){IP.call(this,null,a,o,s,l,c,i,r,u,h),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==l?l:1003,this.minFilter=void 0!==c?c:1003,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}(lI.prototype=Object.create(uL.prototype)).constructor=lI,lI.prototype.isShaderMaterial=!0,lI.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=aI(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},lI.prototype.toJSON=function(t){var e=uL.prototype.toJSON.call(this,t);for(var n in e.uniforms={},this.uniforms){var i=this.uniforms[n].value;e.uniforms[n]=i&&i.isTexture?{type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?{type:"c",value:i.getHex()}:i&&i.isVector2?{type:"v2",value:i.toArray()}:i&&i.isVector3?{type:"v3",value:i.toArray()}:i&&i.isVector4?{type:"v4",value:i.toArray()}:i&&i.isMatrix3?{type:"m3",value:i.toArray()}:i&&i.isMatrix4?{type:"m4",value:i.toArray()}:{value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var r={};for(var a in this.extensions)!0===this.extensions[a]&&(r[a]=!0);return Object.keys(r).length>0&&(e.extensions=r),e},cI.prototype=Object.assign(Object.create(fO.prototype),{constructor:cI,isCamera:!0,copy:function(t,e){return fO.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new jP),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){fO.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(t,e){fO.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),uI.prototype=Object.assign(Object.create(cI.prototype),{constructor:uI,isPerspectiveCamera:!0,copy:function(t,e){return cI.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*AP.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*AP.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*AP.RAD2DEG*Math.atan(Math.tan(.5*AP.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*AP.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,e-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=fO.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),(hI.prototype=Object.create(fO.prototype)).constructor=hI,(dI.prototype=Object.create(NP.prototype)).constructor=dI,dI.prototype.isWebGLCubeRenderTarget=!0,dI.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;var n=new pO,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},r=new lI({type:"CubemapFromEquirect",uniforms:aI(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;var a=new QL(new rI(5,5,5),r);n.add(a);var o=new hI(1,10,1);return o.renderTarget=this,o.renderTarget.texture.name="CubeCameraTexture",o.update(t,n),a.geometry.dispose(),a.material.dispose(),this},(fI.prototype=Object.create(IP.prototype)).constructor=fI,fI.prototype.isDataTexture=!0;var pI=new PO,mI=new jP;function vI(t,e,n,i,r,a){this.planes=[void 0!==t?t:new HO,void 0!==e?e:new HO,void 0!==n?n:new HO,void 0!==i?i:new HO,void 0!==r?r:new HO,void 0!==a?a:new HO]}Object.assign(vI.prototype,{set:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromProjectionMatrix:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return e[0].setComponents(o-i,u-s,p-h,y-m).normalize(),e[1].setComponents(o+i,u+s,p+h,y+m).normalize(),e[2].setComponents(o+r,u+l,p+d,y+v).normalize(),e[3].setComponents(o-r,u-l,p-d,y-v).normalize(),e[4].setComponents(o-a,u-c,p-f,y-g).normalize(),e[5].setComponents(o+a,u+c,p+f,y+g).normalize(),this},intersectsObject:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),pI.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(pI)},intersectsSprite:function(t){return pI.center.set(0,0,0),pI.radius=.7071067811865476,pI.applyMatrix4(t.matrixWorld),this.intersectsSphere(pI)},intersectsSphere:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++)if(e[r].distanceToPoint(n)<i)return!1;return!0},intersectsBox:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if(mI.x=i.normal.x>0?t.max.x:t.min.x,mI.y=i.normal.y>0?t.max.y:t.min.y,mI.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(mI)<0)return!1}return!0},containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});var gI={common:{diffuse:{value:new rL(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new PP},uv2Transform:{value:new PP},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new RP(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new rL(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new rL(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new PP}},sprite:{diffuse:{value:new rL(15658734)},opacity:{value:1},center:{value:new RP(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new PP}}};function yI(){var t=null,e=!1,n=null;function i(r,a){!1!==e&&(n(r,a),t.requestAnimationFrame(i))}return{start:function(){!0!==e&&null!==n&&(t.requestAnimationFrame(i),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function _I(t,e){var n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){e.isInterleavedBufferAttribute&&(e=e.data);var a=i.get(e);void 0===a?i.set(e,function(e,n){var i=e.array,r=e.usage,a=t.createBuffer();t.bindBuffer(n,a),t.bufferData(n,i,r),e.onUploadCallback();var o=5126;return i instanceof Float32Array?o=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?o=5123:i instanceof Int16Array?o=5122:i instanceof Uint32Array?o=5125:i instanceof Int32Array?o=5124:i instanceof Int8Array?o=5120:i instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}(e,r)):a.version<e.version&&(function(e,i,r){var a=i.array,o=i.updateRange;t.bindBuffer(r,e),-1===o.count?t.bufferSubData(r,0,a):(n?t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(a.buffer,e,r),a.version=e.version)}}}function bI(t,e,n,i){iI.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new xI(t,e,n,i)),this.mergeVertices()}function xI(t,e,n,i){OL.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};var r,a,o=(t=t||1)/2,s=(e=e||1)/2,l=Math.floor(n)||1,c=Math.floor(i)||1,u=l+1,h=c+1,d=t/l,f=e/c,p=[],m=[],v=[],g=[];for(a=0;a<h;a++){var y=a*f-s;for(r=0;r<u;r++)m.push(r*d-o,-y,0),v.push(0,0,1),g.push(r/l),g.push(1-a/c)}for(a=0;a<c;a++)for(r=0;r<l;r++){var _=r+u*(a+1),b=r+1+u*(a+1),x=r+1+u*a;p.push(r+u*a,_,x),p.push(_,b,x)}this.setIndex(p),this.setAttribute("position",new xL(m,3)),this.setAttribute("normal",new xL(v,3)),this.setAttribute("uv",new xL(g,2))}(bI.prototype=Object.create(iI.prototype)).constructor=bI,(xI.prototype=Object.create(OL.prototype)).constructor=xI;var wI={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_normalmap_pars_fragment:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},CI={basic:{uniforms:oI([gI.common,gI.specularmap,gI.envmap,gI.aomap,gI.lightmap,gI.fog]),vertexShader:wI.meshbasic_vert,fragmentShader:wI.meshbasic_frag},lambert:{uniforms:oI([gI.common,gI.specularmap,gI.envmap,gI.aomap,gI.lightmap,gI.emissivemap,gI.fog,gI.lights,{emissive:{value:new rL(0)}}]),vertexShader:wI.meshlambert_vert,fragmentShader:wI.meshlambert_frag},phong:{uniforms:oI([gI.common,gI.specularmap,gI.envmap,gI.aomap,gI.lightmap,gI.emissivemap,gI.bumpmap,gI.normalmap,gI.displacementmap,gI.fog,gI.lights,{emissive:{value:new rL(0)},specular:{value:new rL(1118481)},shininess:{value:30}}]),vertexShader:wI.meshphong_vert,fragmentShader:wI.meshphong_frag},standard:{uniforms:oI([gI.common,gI.envmap,gI.aomap,gI.lightmap,gI.emissivemap,gI.bumpmap,gI.normalmap,gI.displacementmap,gI.roughnessmap,gI.metalnessmap,gI.fog,gI.lights,{emissive:{value:new rL(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:wI.meshphysical_vert,fragmentShader:wI.meshphysical_frag},toon:{uniforms:oI([gI.common,gI.specularmap,gI.aomap,gI.lightmap,gI.emissivemap,gI.bumpmap,gI.normalmap,gI.displacementmap,gI.gradientmap,gI.fog,gI.lights,{emissive:{value:new rL(0)},specular:{value:new rL(1118481)},shininess:{value:30}}]),vertexShader:wI.meshtoon_vert,fragmentShader:wI.meshtoon_frag},matcap:{uniforms:oI([gI.common,gI.bumpmap,gI.normalmap,gI.displacementmap,gI.fog,{matcap:{value:null}}]),vertexShader:wI.meshmatcap_vert,fragmentShader:wI.meshmatcap_frag},points:{uniforms:oI([gI.points,gI.fog]),vertexShader:wI.points_vert,fragmentShader:wI.points_frag},dashed:{uniforms:oI([gI.common,gI.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wI.linedashed_vert,fragmentShader:wI.linedashed_frag},depth:{uniforms:oI([gI.common,gI.displacementmap]),vertexShader:wI.depth_vert,fragmentShader:wI.depth_frag},normal:{uniforms:oI([gI.common,gI.bumpmap,gI.normalmap,gI.displacementmap,{opacity:{value:1}}]),vertexShader:wI.normal_vert,fragmentShader:wI.normal_frag},sprite:{uniforms:oI([gI.sprite,gI.fog]),vertexShader:wI.sprite_vert,fragmentShader:wI.sprite_frag},background:{uniforms:{uvTransform:{value:new PP},t2D:{value:null}},vertexShader:wI.background_vert,fragmentShader:wI.background_frag},cube:{uniforms:oI([gI.envmap,{opacity:{value:1}}]),vertexShader:wI.cube_vert,fragmentShader:wI.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wI.equirect_vert,fragmentShader:wI.equirect_frag},distanceRGBA:{uniforms:oI([gI.common,gI.displacementmap,{referencePosition:{value:new jP},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wI.distanceRGBA_vert,fragmentShader:wI.distanceRGBA_frag},shadow:{uniforms:oI([gI.lights,gI.fog,{color:{value:new rL(0)},opacity:{value:1}}]),vertexShader:wI.shadow_vert,fragmentShader:wI.shadow_frag}};function kI(t,e,n,i){var r,a,o=new rL(0),s=0,l=null,c=0,u=null;function h(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,i)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),h(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){h(o,s=t)},render:function(e,i,d,f){var p=i.background,m=t.xr,v=m.getSession&&m.getSession();if(v&&"additive"===v.environmentBlendMode&&(p=null),null===p?h(o,s):p&&p.isColor&&(h(p,1),f=!0),(t.autoClear||f)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLCubeRenderTarget||306===p.mapping)){void 0===a&&((a=new QL(new rI(1,1,1),new lI({type:"BackgroundCubeMaterial",uniforms:aI(CI.cube.uniforms),vertexShader:CI.cube.vertexShader,fragmentShader:CI.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(a));var g=p.isWebGLCubeRenderTarget?p.texture:p;a.material.uniforms.envMap.value=g,a.material.uniforms.flipEnvMap.value=g.isCubeTexture?-1:1,l===p&&c===g.version&&u===t.toneMapping||(a.material.needsUpdate=!0,l=p,c=g.version,u=t.toneMapping),e.unshift(a,a.geometry,a.material,0,0,null)}else p&&p.isTexture&&(void 0===r&&((r=new QL(new xI(2,2),new lI({type:"BackgroundMaterial",uniforms:aI(CI.background.uniforms),vertexShader:CI.background.vertexShader,fragmentShader:CI.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(r)),r.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),r.material.uniforms.uvTransform.value.copy(p.matrix),l===p&&c===p.version&&u===t.toneMapping||(r.material.needsUpdate=!0,l=p,c=p.version,u=t.toneMapping),e.unshift(r,r.geometry,r.material,0,0,null))}}}function SI(t,e,n,i){var r,a=i.isWebGL2;this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.update(i,r)},this.renderInstances=function(i,o,s,l){if(0!==l){var c,u;if(a)c=t,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[u](r,o,s,l),n.update(s,r,l)}}}function EI(t,e,n){var i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=r(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,c=t.getParameter(34930),u=t.getParameter(35660),h=t.getParameter(3379),d=t.getParameter(34076),f=t.getParameter(34921),p=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=u>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function TI(){var t=this,e=null,n=0,i=!1,r=!1,a=new HO,o=new PP,s={value:null,needsUpdate:!1};function l(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function c(e,n,i,r){var l=null!==e?e.length:0,c=null;if(0!==l){if(c=s.value,!0!==r||null===c){var u=i+4*l,h=n.matrixWorldInverse;o.getNormalMatrix(h),(null===c||c.length<u)&&(c=new Float32Array(u));for(var d=0,f=i;d!==l;++d,f+=4)a.copy(e[d]).applyMatrix4(h,o),a.normal.toArray(c,f),c[f+3]=a.constant}s.value=c,s.needsUpdate=!0}return t.numPlanes=l,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,r,a){var o=0!==t.length||r||0!==n||i;return i=r,e=c(t,a,0),n=t.length,o},this.beginShadows=function(){r=!0,c(null)},this.endShadows=function(){r=!1,l()},this.setState=function(t,a,o,u,h,d){if(!i||null===t||0===t.length||r&&!o)r?c(null):l();else{var f=r?0:n,p=4*f,m=h.clippingState||null;s.value=m,m=c(t,u,p,d);for(var v=0;v!==p;++v)m[v]=e[v];h.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=f}}}function MI(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=i,i}}}function AI(t,e,n){var i=new WeakMap,r=new WeakMap;function a(t){var o=t.target,s=i.get(o);for(var l in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[l]);o.removeEventListener("dispose",a),i.delete(o);var c=r.get(s);c&&(e.remove(c),r.delete(s)),n.memory.geometries--}function o(t){var n=[],i=t.index,a=t.attributes.position,o=0;if(null!==i){o=i.version;for(var s=0,l=(c=i.array).length;s<l;s+=3)n.push(u=c[s+0],h=c[s+1],h,d=c[s+2],d,u)}else{var c;for(o=a.version,s=0,l=(c=a.array).length/3-1;s<l;s+=3){var u,h,d;n.push(u=s+0,h=s+1,h,d=s+2,d,u)}}var f=new(kL(n)>65535?bL:yL)(n,1);f.version=o,e.update(f,34963);var p=r.get(t);p&&e.remove(p),r.set(t,f)}return{get:function(t,e){var r=i.get(e);return r||(e.addEventListener("dispose",a),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new OL).setFromObject(t)),r=e._bufferGeometry),i.set(e,r),n.memory.geometries++,r)},update:function(t){var n=t.index,i=t.attributes;for(var r in null!==n&&e.update(n,34963),i)e.update(i[r],34962);var a=t.morphAttributes;for(var r in a)for(var o=a[r],s=0,l=o.length;s<l;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var e=r.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&o(t)}else o(t);return r.get(t)}}}function RI(t,e,n,i){var r,a,o,s=i.isWebGL2;this.setMode=function(t){r=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,i){t.drawElements(r,i,a,e*o),n.update(i,r)},this.renderInstances=function(i,l,c,u){if(0!==u){var h,d;if(s)h=t,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(h=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[d](r,c,a,l*o,u),n.update(c,r,u)}}}function PI(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(i=i||1,e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function OI(t,e){return Math.abs(e[1])-Math.abs(t[1])}function LI(t){var e={},n=new Float32Array(8);return{update:function(i,r,a,o){var s=i.morphTargetInfluences,l=void 0===s?0:s.length,c=e[r.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];e[r.id]=c}var h=a.morphTargets&&r.morphAttributes.position,d=a.morphNormals&&r.morphAttributes.normal;for(u=0;u<l;u++)0!==(p=c[u])[1]&&(h&&r.deleteAttribute("morphTarget"+u),d&&r.deleteAttribute("morphNormal"+u));for(u=0;u<l;u++)(p=c[u])[0]=u,p[1]=s[u];c.sort(OI);var f=0;for(u=0;u<8;u++){var p;if(p=c[u]){var m=p[0],v=p[1];if(v){h&&r.setAttribute("morphTarget"+u,h[m]),d&&r.setAttribute("morphNormal"+u,d[m]),n[u]=v,f+=v;continue}}n[u]=0}var g=r.morphTargetsRelative?1:1-f;o.getUniforms().setValue(t,"morphTargetBaseInfluence",g),o.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function II(t,e,n,i){var r={};return{update:function(t){var a=i.render.frame,o=t.geometry,s=e.get(t,o);return r[s.id]!==a&&(o.isGeometry&&s.updateFromObject(t),e.update(s),r[s.id]=a),t.isInstancedMesh&&n.update(t.instanceMatrix,34962),s},dispose:function(){r={}}}}function DI(t,e,n,i,r,a,o,s,l,c){IP.call(this,t=void 0!==t?t:[],e=void 0!==e?e:301,n,i,r,a,o=void 0!==o?o:1022,s,l,c),this.flipY=!1}function NI(t,e,n,i){IP.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:i||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function FI(t,e,n,i){IP.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:i||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}CI.physical={uniforms:oI([CI.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new rL(0)},clearcoatNormalScale:{value:new RP(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:wI.meshphysical_vert,fragmentShader:wI.meshphysical_frag},(DI.prototype=Object.create(IP.prototype)).constructor=DI,DI.prototype.isCubeTexture=!0,Object.defineProperty(DI.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),(NI.prototype=Object.create(IP.prototype)).constructor=NI,NI.prototype.isDataTexture2DArray=!0,(FI.prototype=Object.create(IP.prototype)).constructor=FI,FI.prototype.isDataTexture3D=!0;var zI=new IP,VI=new NI,BI=new FI,jI=new DI,UI=[],HI=[],GI=new Float32Array(16),WI=new Float32Array(9),qI=new Float32Array(4);function YI(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,a=UI[r];if(void 0===a&&(a=new Float32Array(r),UI[r]=a),0!==e){i.toArray(a,0);for(var o=1,s=0;o!==e;++o)t[o].toArray(a,s+=n)}return a}function XI(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function ZI(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function QI(t,e){var n=HI[e];void 0===n&&(n=new Int32Array(e),HI[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function JI(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function KI(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(XI(n,e))return;t.uniform2fv(this.addr,e),ZI(n,e)}}function $I(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(XI(n,e))return;t.uniform3fv(this.addr,e),ZI(n,e)}}function tD(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(XI(n,e))return;t.uniform4fv(this.addr,e),ZI(n,e)}}function eD(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(XI(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ZI(n,e)}else{if(XI(n,i))return;qI.set(i),t.uniformMatrix2fv(this.addr,!1,qI),ZI(n,i)}}function nD(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(XI(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ZI(n,e)}else{if(XI(n,i))return;WI.set(i),t.uniformMatrix3fv(this.addr,!1,WI),ZI(n,i)}}function iD(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(XI(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ZI(n,e)}else{if(XI(n,i))return;GI.set(i),t.uniformMatrix4fv(this.addr,!1,GI),ZI(n,i)}}function rD(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||zI,r)}function aD(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||VI,r)}function oD(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||BI,r)}function sD(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||jI,r)}function lD(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function cD(t,e){var n=this.cache;XI(n,e)||(t.uniform2iv(this.addr,e),ZI(n,e))}function uD(t,e){var n=this.cache;XI(n,e)||(t.uniform3iv(this.addr,e),ZI(n,e))}function hD(t,e){var n=this.cache;XI(n,e)||(t.uniform4iv(this.addr,e),ZI(n,e))}function dD(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function fD(t,e){t.uniform1fv(this.addr,e)}function pD(t,e){t.uniform1iv(this.addr,e)}function mD(t,e){t.uniform2iv(this.addr,e)}function vD(t,e){t.uniform3iv(this.addr,e)}function gD(t,e){t.uniform4iv(this.addr,e)}function yD(t,e){var n=YI(e,this.size,2);t.uniform2fv(this.addr,n)}function _D(t,e){var n=YI(e,this.size,3);t.uniform3fv(this.addr,n)}function bD(t,e){var n=YI(e,this.size,4);t.uniform4fv(this.addr,n)}function xD(t,e){var n=YI(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function wD(t,e){var n=YI(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function CD(t,e){var n=YI(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function kD(t,e,n){var i=e.length,r=QI(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTexture2D(e[a]||zI,r[a])}function SD(t,e,n){var i=e.length,r=QI(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTextureCube(e[a]||jI,r[a])}function ED(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return JI;case 35664:return KI;case 35665:return $I;case 35666:return tD;case 35674:return eD;case 35675:return nD;case 35676:return iD;case 5124:case 35670:return lD;case 35667:case 35671:return cD;case 35668:case 35672:return uD;case 35669:case 35673:return hD;case 5125:return dD;case 35678:case 36198:case 36298:case 36306:case 35682:return rD;case 35679:case 36299:case 36307:return oD;case 35680:case 36300:case 36308:case 36293:return sD;case 36289:case 36303:case 36311:case 36292:return aD}}(e.type)}function TD(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return fD;case 35664:return yD;case 35665:return _D;case 35666:return bD;case 35674:return xD;case 35675:return wD;case 35676:return CD;case 5124:case 35670:return pD;case 35667:case 35671:return mD;case 35668:case 35672:return vD;case 35669:case 35673:return gD;case 35678:case 36198:case 36298:case 36306:case 35682:return kD;case 35680:case 36300:case 36308:case 36293:return SD}}(e.type)}function MD(t){this.id=t,this.seq=[],this.map={}}TD.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),ZI(e,t)},MD.prototype.setValue=function(t,e,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(t,e[o.id],n)}};var AD=/([\w\d_]+)(\])?(\[|\.)?/g;function RD(t,e){t.seq.push(e),t.map[e.id]=e}function PD(t,e,n){var i=t.name,r=i.length;for(AD.lastIndex=0;;){var a=AD.exec(i),o=a[1],s=a[3];if("]"===a[2]&&(o|=0),void 0===s||"["===s&&AD.lastIndex+2===r){RD(n,void 0===s?new ED(o,t,e):new TD(o,t,e));break}var l=n.map[o];void 0===l&&RD(n,l=new MD(o)),n=l}}function OD(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),i=0;i<n;++i){var r=t.getActiveUniform(e,i);PD(r,t.getUniformLocation(e,r.name),this)}}function LD(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}OD.prototype.setValue=function(t,e,n,i){var r=this.map[e];void 0!==r&&r.setValue(t,n,i)},OD.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},OD.upload=function(t,e,n,i){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}},OD.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var a=t[i];a.id in e&&n.push(a)}return n};var ID=0;function DD(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+t)}}function ND(t,e,n){var i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function FD(t,e){var n=DD(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function zD(t,e){var n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function VD(t){return""!==t}function BD(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function jD(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var UD=/^[ \t]*#include +<([\w\d./]+)>/gm;function HD(t){return t.replace(UD,GD)}function GD(t,e){var n=wI[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return HD(n)}var WD=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function qD(t){return t.replace(WD,YD)}function YD(t,e,n,i){for(var r="",a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[ i \]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function XD(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function ZD(t,e,n){var i,r,a,o,s=t.getContext(),l=n.defines,c=n.vertexShader,u=n.fragmentShader,h=function(t){var e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),d=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:e="ENVMAP_TYPE_EQUIREC";break;case 305:e="ENVMAP_TYPE_SPHERE"}return e}(n),f=function(t){var e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 304:e="ENVMAP_MODE_REFRACTION"}return e}(n),p=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),m=t.gammaFactor>0?t.gammaFactor:1,v=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(VD).join("\n")}(n),g=function(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(l),y=s.createProgram(),_=n.numMultiviewViews;if(n.isRawShaderMaterial?((i=[g].filter(VD).join("\n")).length>0&&(i+="\n"),(r=[v,g].filter(VD).join("\n")).length>0&&(r+="\n")):(i=[XD(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+h:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(VD).join("\n"),r=[v,XD(n),"#define SHADER_NAME "+n.shaderName,g,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+h:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?wI.tonemapping_pars_fragment:"",0!==n.toneMapping?zD("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.outputEncoding||n.mapEncoding||n.matcapEncoding||n.envMapEncoding||n.emissiveMapEncoding||n.lightMapEncoding?wI.encodings_pars_fragment:"",n.mapEncoding?FD("mapTexelToLinear",n.mapEncoding):"",n.matcapEncoding?FD("matcapTexelToLinear",n.matcapEncoding):"",n.envMapEncoding?FD("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMapEncoding?FD("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMapEncoding?FD("lightMapTexelToLinear",n.lightMapEncoding):"",n.outputEncoding?(a=n.outputEncoding,o=DD(a),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+o[0]+o[1]+"; }"):"",n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(VD).join("\n")),c=jD(c=BD(c=HD(c),n),n),u=jD(u=BD(u=HD(u),n),n),c=qD(c),u=qD(u),n.isWebGL2&&!n.isRawShaderMaterial){var b=!1,x=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==c.match(x)&&null!==u.match(x)&&(b=!0,c=c.replace(x,""),u=u.replace(x,"")),i=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,r=["#version 300 es\n","#define varying in",b?"":"out highp vec4 pc_fragColor;",b?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+r,_>0&&(i=(i=i.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+_+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+_+"];","uniform mat4 projectionMatrices["+_+"];","uniform mat4 viewMatrices["+_+"];","uniform mat3 normalMatrices["+_+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),r=(r=r.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+_+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var w,C,k=r+u,S=LD(s,35633,i+c),E=LD(s,35632,k);if(s.attachShader(y,S),s.attachShader(y,E),void 0!==n.index0AttributeName?s.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&s.bindAttribLocation(y,0,"position"),s.linkProgram(y),t.debug.checkShaderErrors){var T=s.getProgramInfoLog(y).trim(),M=s.getShaderInfoLog(S).trim(),A=s.getShaderInfoLog(E).trim(),R=!0,P=!0;if(!1===s.getProgramParameter(y,35714)){R=!1;var O=ND(s,S,"vertex"),L=ND(s,E,"fragment");console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(y,35715),"gl.getProgramInfoLog",T,O,L)}else""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):""!==M&&""!==A||(P=!1);P&&(this.diagnostics={runnable:R,programLog:T,vertexShader:{log:M,prefix:i},fragmentShader:{log:A,prefix:r}})}return s.deleteShader(S),s.deleteShader(E),this.getUniforms=function(){return void 0===w&&(w=new OD(s,y)),w},this.getAttributes=function(){return void 0===C&&(C=function(t,e){for(var n={},i=t.getProgramParameter(e,35721),r=0;r<i;r++){var a=t.getActiveAttrib(e,r).name;n[a]=t.getAttribLocation(e,a)}return n}(s,y)),C},this.destroy=function(){s.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=ID++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=S,this.fragmentShader=E,this.numMultiviewViews=_,this}function QD(t,e,n){var i=[],r=n.isWebGL2,a=n.logarithmicDepthBuffer,o=n.floatVertexTextures,s=n.precision,l=n.maxVertexUniforms,c=n.vertexTextures,u={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},h=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function d(t){var e;return t?t.isTexture?e=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=3e3,e}this.getParameters=function(i,h,f,p,m,v,g){var y=p.fog,_=i.envMap||(i.isMeshStandardMaterial?p.environment:null),b=u[i.type],x=g.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(o)return 1024;var n=Math.floor((l-20)/4),i=Math.min(n,e.length);return i<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i}(g):0;null!==i.precision&&(s=n.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",s,"instead.");var w=function(t,e){var n;if(e){var i=CI[e];n={name:t.type,uniforms:sI.clone(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader}}else n={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};return n}(i,b);i.onBeforeCompile(w,t);var C=t.getRenderTarget();return{isWebGL2:r,shaderID:b,shaderName:w.name,uniforms:w.uniforms,vertexShader:w.vertexShader,fragmentShader:w.fragmentShader,defines:i.defines,isRawShaderMaterial:i.isRawShaderMaterial,isShaderMaterial:i.isShaderMaterial,precision:s,instancing:!0===g.isInstancedMesh,supportsVertexTextures:c,numMultiviewViews:C&&C.isWebGLMultiviewRenderTarget?C.numViews:0,outputEncoding:null!==C?d(C.texture):t.outputEncoding,map:!!i.map,mapEncoding:d(i.map),matcap:!!i.matcap,matcapEncoding:d(i.matcap),envMap:!!_,envMapMode:_&&_.mapping,envMapEncoding:d(_),envMapCubeUV:!!_&&(306===_.mapping||307===_.mapping),lightMap:!!i.lightMap,lightMapEncoding:d(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:d(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.displacementMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||!i.displacementMap),fog:!!y,useFog:i.fog,fogExp2:y&&y.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:a,skinning:i.skinning&&x>0,maxBones:x,useVertexTexture:o,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:h.directional.length,numPointLights:h.point.length,numSpotLights:h.spot.length,numRectAreaLights:h.rectArea.length,numHemiLights:h.hemi.length,numDirLightShadows:h.directionalShadowMap.length,numPointLightShadows:h.pointShadowMap.length,numSpotLightShadows:h.spotShadowMap.length,numClippingPlanes:m,numClipIntersection:v,dithering:i.dithering,shadowMapEnabled:t.shadowMap.enabled&&f.length>0,shadowMapType:t.shadowMap.type,toneMapping:i.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:2===i.side,flipSided:1===i.side,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.frawbuffers,extensionDrawbuffers:i.extensions&&i.extensions.drawbuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:r||null!==e.get("EXT_frag_depth"),rendererExtensionDrawBuffers:r||null!==e.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:r||null!==e.get("EXT_shader_texture_lod"),onBeforeCompile:i.onBeforeCompile}},this.getProgramCacheKey=function(e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);if(void 0===e.isRawShaderMaterial){for(var r=0;r<h.length;r++)n.push(e[h[r]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.onBeforeCompile.toString()),n.join()},this.acquireProgram=function(e,n){for(var r,a=0,o=i.length;a<o;a++){var s=i[a];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new ZD(t,n,e),i.push(r)),r},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function JD(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&t.set(e,n={}),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function KD(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function $D(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function tN(){var t=[],e=0,n=[],i=[],r={id:-1};function a(n,i,a,o,s,l){var c=t[e];return void 0===c?t[e]=c={id:n.id,object:n,geometry:i,material:a,program:a.program||r,groupOrder:o,renderOrder:n.renderOrder,z:s,group:l}:(c.id=n.id,c.object=n,c.geometry=i,c.material=a,c.program=a.program||r,c.groupOrder=o,c.renderOrder=n.renderOrder,c.z=s,c.group=l),e++,c}return{opaque:n,transparent:i,init:function(){e=0,n.length=0,i.length=0},push:function(t,e,r,o,s,l){var c=a(t,e,r,o,s,l);(!0===r.transparent?i:n).push(c)},unshift:function(t,e,r,o,s,l){var c=a(t,e,r,o,s,l);(!0===r.transparent?i:n).unshift(c)},sort:function(t,e){n.length>1&&n.sort(t||KD),i.length>1&&i.sort(e||$D)}}}function eN(){var t=new WeakMap;function e(n){var i=n.target;i.removeEventListener("dispose",e),t.delete(i)}return{get:function(n,i){var r,a=t.get(n);return void 0===a?(r=new tN,t.set(n,new WeakMap),t.get(n).set(i,r),n.addEventListener("dispose",e)):void 0===(r=a.get(i))&&(r=new tN,a.set(i,r)),r},dispose:function(){t=new WeakMap}}}function nN(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new jP,color:new rL,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new RP};break;case"SpotLight":n={position:new jP,direction:new jP,color:new rL,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new RP};break;case"PointLight":n={position:new jP,color:new rL,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new RP,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new jP,skyColor:new rL,groundColor:new rL};break;case"RectAreaLight":n={color:new rL,position:new jP,halfWidth:new jP,halfHeight:new jP}}return t[e.id]=n,n}}}var iN=0;function rN(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function aN(){for(var t=new nN,e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},n=0;n<9;n++)e.probe.push(new jP);var i=new jP,r=new ZP,a=new ZP;return{setup:function(n,o,s){for(var l=0,c=0,u=0,h=0;h<9;h++)e.probe[h].set(0,0,0);var d=0,f=0,p=0,m=0,v=0,g=0,y=0,_=0,b=s.matrixWorldInverse;n.sort(rN),h=0;for(var x=n.length;h<x;h++){var w=n[h],C=w.color,k=w.intensity,S=w.distance,E=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)l+=C.r*k,c+=C.g*k,u+=C.b*k;else if(w.isLightProbe)for(var T=0;T<9;T++)e.probe[T].addScaledVector(w.sh.coefficients[T],k);else if(w.isDirectionalLight)(A=t.get(w)).color.copy(w.color).multiplyScalar(w.intensity),A.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(b),A.shadow=w.castShadow,w.castShadow&&(A.shadowBias=(M=w.shadow).bias,A.shadowRadius=M.radius,A.shadowMapSize=M.mapSize,e.directionalShadowMap[d]=E,e.directionalShadowMatrix[d]=w.shadow.matrix,g++),e.directional[d]=A,d++;else if(w.isSpotLight)(A=t.get(w)).position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(b),A.color.copy(C).multiplyScalar(k),A.distance=S,A.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(b),A.coneCos=Math.cos(w.angle),A.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),A.decay=w.decay,A.shadow=w.castShadow,w.castShadow&&(A.shadowBias=(M=w.shadow).bias,A.shadowRadius=M.radius,A.shadowMapSize=M.mapSize,e.spotShadowMap[p]=E,e.spotShadowMatrix[p]=w.shadow.matrix,_++),e.spot[p]=A,p++;else if(w.isRectAreaLight)(A=t.get(w)).color.copy(C).multiplyScalar(k),A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(b),a.identity(),r.copy(w.matrixWorld),r.premultiply(b),a.extractRotation(r),A.halfWidth.set(.5*w.width,0,0),A.halfHeight.set(0,.5*w.height,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),e.rectArea[m]=A,m++;else if(w.isPointLight){var M;(A=t.get(w)).position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(b),A.color.copy(w.color).multiplyScalar(w.intensity),A.distance=w.distance,A.decay=w.decay,A.shadow=w.castShadow,w.castShadow&&(A.shadowBias=(M=w.shadow).bias,A.shadowRadius=M.radius,A.shadowMapSize=M.mapSize,A.shadowCameraNear=M.camera.near,A.shadowCameraFar=M.camera.far,e.pointShadowMap[f]=E,e.pointShadowMatrix[f]=w.shadow.matrix,y++),e.point[f]=A,f++}else if(w.isHemisphereLight){var A;(A=t.get(w)).direction.setFromMatrixPosition(w.matrixWorld),A.direction.transformDirection(b),A.direction.normalize(),A.skyColor.copy(w.color).multiplyScalar(k),A.groundColor.copy(w.groundColor).multiplyScalar(k),e.hemi[v]=A,v++}}e.ambient[0]=l,e.ambient[1]=c,e.ambient[2]=u;var R=e.hash;R.directionalLength===d&&R.pointLength===f&&R.spotLength===p&&R.rectAreaLength===m&&R.hemiLength===v&&R.numDirectionalShadows===g&&R.numPointShadows===y&&R.numSpotShadows===_||(e.directional.length=d,e.spot.length=p,e.rectArea.length=m,e.point.length=f,e.hemi.length=v,e.directionalShadowMap.length=g,e.pointShadowMap.length=y,e.spotShadowMap.length=_,e.directionalShadowMatrix.length=g,e.pointShadowMatrix.length=y,e.spotShadowMatrix.length=_,R.directionalLength=d,R.pointLength=f,R.spotLength=p,R.rectAreaLength=m,R.hemiLength=v,R.numDirectionalShadows=g,R.numPointShadows=y,R.numSpotShadows=_,e.version=iN++)},state:e}}function oN(){var t=new aN,e=[],n=[];return{init:function(){e.length=0,n.length=0},state:{lightsArray:e,shadowsArray:n,lights:t},setupLights:function(i){t.setup(e,n,i)},pushLight:function(t){e.push(t)},pushShadow:function(t){n.push(t)}}}function sN(){var t=new WeakMap;function e(n){var i=n.target;i.removeEventListener("dispose",e),t.delete(i)}return{get:function(n,i){var r;return!1===t.has(n)?(r=new oN,t.set(n,new WeakMap),t.get(n).set(i,r),n.addEventListener("dispose",e)):!1===t.get(n).has(i)?(r=new oN,t.get(n).set(i,r)):r=t.get(n).get(i),r},dispose:function(){t=new WeakMap}}}function lN(t){uL.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function cN(t){uL.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new jP,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function uN(t,e,n){var i=new vI,r=new RP,a=new RP,o=new DP,s=[],l=[],c={},u={0:1,1:0,2:2},h=new lI({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new RP},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONAL_PASS=1;var f=new OL;f.setAttribute("position",new fL(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var p=new QL(f,h),m=this;function v(n,i){var r=e.update(p);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,h,p,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,d,p,null)}function g(t,e,n){var i=t<<0|e<<1|n<<2,r=s[i];return void 0===r&&(r=new lN({depthPacking:3201,morphTargets:t,skinning:e}),s[i]=r),r}function y(t,e,n){var i=t<<0|e<<1|n<<2,r=l[i];return void 0===r&&(r=new cN({morphTargets:t,skinning:e}),l[i]=r),r}function _(e,n,i,r,a,o){var s=e.geometry,l=null,h=g,d=e.customDepthMaterial;if(!0===i.isPointLight&&(h=y,d=e.customDistanceMaterial),void 0===d){var f=!1;!0===n.morphTargets&&(!0===s.isBufferGeometry?f=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:!0===s.isGeometry&&(f=s.morphTargets&&s.morphTargets.length>0));var p=!1;!0===e.isSkinnedMesh&&(!0===n.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)),l=h(f,p,!0===e.isInstancedMesh)}else l=d;if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var m=l.uuid,v=n.uuid,_=c[m];void 0===_&&(c[m]=_={});var b=_[v];void 0===b&&(b=l.clone(),_[v]=b),l=b}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=3===o?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:u[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,!0===i.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=r,l.farDistance=a),l}function b(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=e.update(n),c=n.material;if(Array.isArray(c))for(var u=l.groups,h=0,d=u.length;h<d;h++){var f=u[h],p=c[f.materialIndex];if(p&&p.visible){var m=_(n,p,o,a.near,a.far,s);t.renderBufferDirect(a,null,l,m,n,f)}}else c.visible&&(m=_(n,c,o,a.near,a.far,s),t.renderBufferDirect(a,null,l,m,n,null))}for(var v=n.children,g=0,y=v.length;g<y;g++)b(v[g],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,s,l){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==e.length){var c=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=e.length;f<p;f++){var g=e[f],y=g.shadow;if(void 0!==y){r.copy(y.mapSize);var _,x=y.getFrameExtents();r.multiply(x),a.copy(y.mapSize),(r.x>n||r.y>n)&&(console.warn("THREE.WebGLShadowMap:",g,"has shadow exceeding max texture size, reducing"),r.x>n&&(a.x=Math.floor(n/x.x),r.x=a.x*x.x,y.mapSize.x=a.x),r.y>n&&(a.y=Math.floor(n/x.y),r.y=a.y*x.y,y.mapSize.y=a.y)),null!==y.map||y.isPointLightShadow||3!==this.type||(y.map=new NP(r.x,r.y,_={minFilter:1006,magFilter:1006,format:1023}),y.map.texture.name=g.name+".shadowMap",y.mapPass=new NP(r.x,r.y,_),y.camera.updateProjectionMatrix()),null===y.map&&(y.map=new NP(r.x,r.y,_={minFilter:1003,magFilter:1003,format:1023}),y.map.texture.name=g.name+".shadowMap",y.camera.updateProjectionMatrix()),t.setRenderTarget(y.map),t.clear();for(var w=y.getViewportCount(),C=0;C<w;C++){var k=y.getViewport(C);o.set(a.x*k.x,a.y*k.y,a.x*k.z,a.y*k.w),d.viewport(o),y.updateMatrices(g,C),i=y.getFrustum(),b(s,l,y.camera,g,this.type)}y.isPointLightShadow||3!==this.type||v(y,l)}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}m.needsUpdate=!1,t.setRenderTarget(c,u,h)}}}function hN(t,e,n){var i=n.isWebGL2,r=new function(){var e=!1,n=new DP,i=null,r=new DP(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,a,o,s){!0===s&&(e*=o,i*=o,a*=o),n.set(e,i,a,o),!1===r.equals(n)&&(t.clearColor(e,i,a,o),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},a=new function(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){t?z(2929):V(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},o=new function(){var e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(t){e||(t?z(2960):V(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,o){i===e&&r===n&&a===o||(t.stencilFunc(e,n,o),i=e,r=n,a=o)},setOp:function(e,n,i){o===e&&s===n&&l===i||(t.stencilOp(e,n,i),o=e,s=n,l=i)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null}}},s=t.getParameter(34921),l=new Uint8Array(s),c=new Uint8Array(s),u=new Uint8Array(s),h={},d=null,f=null,p=null,m=null,v=null,g=null,y=null,_=null,b=null,x=!1,w=null,C=null,k=null,S=null,E=null,T=t.getParameter(35661),M=!1,A=0,R=t.getParameter(7938);-1!==R.indexOf("WebGL")?(A=parseFloat(/^WebGL\ ([0-9])/.exec(R)[1]),M=A>=1):-1!==R.indexOf("OpenGL ES")&&(A=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(R)[1]),M=A>=2);var P=null,O={},L=new DP,I=new DP;function D(e,n,i){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<i;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var N={};function F(n,r){l[n]=1,0===c[n]&&(t.enableVertexAttribArray(n),c[n]=1),u[n]!==r&&((i?t:e.get("ANGLE_instanced_arrays"))[i?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),u[n]=r)}function z(e){!0!==h[e]&&(t.enable(e),h[e]=!0)}function V(e){!1!==h[e]&&(t.disable(e),h[e]=!1)}N[3553]=D(3553,3553,1),N[34067]=D(34067,34069,6),r.setClear(0,0,0,1),a.setClear(1),o.setClear(0),z(2929),a.setFunc(3),G(!1),W(1),z(2884),H(0);var B={100:32774,101:32778,102:32779};if(i)B[103]=32775,B[104]=32776;else{var j=e.get("EXT_blend_minmax");null!==j&&(B[103]=j.MIN_EXT,B[104]=j.MAX_EXT)}var U={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function H(e,n,i,r,a,o,s,l){if(0!==e){if(f||(z(3042),f=!0),5===e)a=a||n,o=o||i,s=s||r,n===m&&a===y||(t.blendEquationSeparate(B[n],B[a]),m=n,y=a),i===v&&r===g&&o===_&&s===b||(t.blendFuncSeparate(U[i],U[r],U[o],U[s]),v=i,g=r,_=o,b=s),p=e,x=null;else if(e!==p||l!==x){if(100===m&&100===y||(t.blendEquation(32774),m=100,y=100),l)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}v=null,g=null,_=null,b=null,p=e,x=l}}else f&&(V(3042),f=!1)}function G(e){w!==e&&(t.frontFace(e?2304:2305),w=e)}function W(e){0!==e?(z(2884),e!==C&&t.cullFace(1===e?1029:2===e?1028:1032)):V(2884),C=e}function q(e,n,i){e?(z(32823),S===n&&E===i||(t.polygonOffset(n,i),S=n,E=i)):V(32823)}function Y(e){void 0===e&&(e=33984+T-1),P!==e&&(t.activeTexture(e),P=e)}return{buffers:{color:r,depth:a,stencil:o},initAttributes:function(){for(var t=0,e=l.length;t<e;t++)l[t]=0},enableAttribute:function(t){F(t,0)},enableAttributeAndDivisor:F,disableUnusedAttributes:function(){for(var e=0,n=c.length;e!==n;++e)c[e]!==l[e]&&(t.disableVertexAttribArray(e),c[e]=0)},enable:z,disable:V,useProgram:function(e){return d!==e&&(t.useProgram(e),d=e,!0)},setBlending:H,setMaterial:function(t,e){2===t.side?V(2884):z(2884);var n=1===t.side;e&&(n=!n),G(n),1===t.blending&&!1===t.transparent?H(0):H(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),a.setFunc(t.depthFunc),a.setTest(t.depthTest),a.setMask(t.depthWrite),r.setMask(t.colorWrite);var i=t.stencilWrite;o.setTest(i),i&&(o.setMask(t.stencilWriteMask),o.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),o.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:G,setCullFace:W,setLineWidth:function(e){e!==k&&(M&&t.lineWidth(e),k=e)},setPolygonOffset:q,setScissorTest:function(t){t?z(3089):V(3089)},activeTexture:Y,bindTexture:function(e,n){null===P&&Y();var i=O[P];void 0===i&&(O[P]=i={type:void 0,texture:void 0}),i.type===e&&i.texture===n||(t.bindTexture(e,n||N[e]),i.type=e,i.texture=n)},unbindTexture:function(){var e=O[P];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===L.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),L.copy(e))},viewport:function(e){!1===I.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),I.copy(e))},reset:function(){for(var e=0;e<c.length;e++)1===c[e]&&(t.disableVertexAttribArray(e),c[e]=0);h={},P=null,O={},d=null,p=null,w=null,C=null,r.reset(),a.reset(),o.reset()}}}function dN(t,e,n,i,r,a,o){var s,l=r.isWebGL2,c=r.maxTextures,u=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,f=new WeakMap,p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(z){}function m(t,e){return p?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(t,e,n,i){var r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?AP.floorPowerOfTwo:Math.floor,o=a(r*t.width),l=a(r*t.height);void 0===s&&(s=m(o,l));var c=n?m(o,l):s;return c.width=o,c.height=l,c.getContext("2d").drawImage(t,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+l+")."),c}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function g(t){return AP.isPowerOfTwo(t.width)&&AP.isPowerOfTwo(t.height)}function y(t,e){return t.generateMipmaps&&e&&1003!==t.minFilter&&1006!==t.minFilter}function _(e,n,r,a){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,a))*Math.LOG2E}function b(n,i,r){if(!1===l)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=i;return 6403===i&&(5126===r&&(a=33326),5131===r&&(a=33325),5121===r&&(a=33321)),6407===i&&(5126===r&&(a=34837),5131===r&&(a=34843),5121===r&&(a=32849)),6408===i&&(5126===r&&(a=34836),5131===r&&(a=34842),5121===r&&(a=32856)),33325===a||33326===a||34842===a||34836===a?e.get("EXT_color_buffer_float"):34843!==a&&34837!==a||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),a}function x(t){return 1003===t||1004===t||1005===t?9728:9729}function w(e){var n=e.target;n.removeEventListener("dispose",w),function(e){var n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&f.delete(n),o.memory.textures--}function C(e){var n=e.target;n.removeEventListener("dispose",C),function(e){var n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[a]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);if(e.isWebGLMultiviewRenderTarget){t.deleteTexture(n.__webglColorTexture),t.deleteTexture(n.__webglDepthStencilTexture),o.memory.textures-=2,a=0;for(var s=n.__webglViewFramebuffers.length;a<s;a++)t.deleteFramebuffer(n.__webglViewFramebuffers[a])}i.remove(e.texture),i.remove(e)}}(n),o.memory.textures--}var k=0;function S(t,e){var r=i.get(t);if(t.isVideoTexture&&function(t){var e=o.render.frame;f.get(t)!==e&&(f.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void O(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function E(e,r){if(6===e.image.length){var o=i.get(e);if(e.version>0&&o.__version!==e.version){P(o,e),n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture),t.pixelStorei(37440,e.flipY);for(var s=e&&(e.isCompressedTexture||e.image[0].isCompressedTexture),c=e.image[0]&&e.image[0].isDataTexture,h=[],d=0;d<6;d++)h[d]=s||c?c?e.image[d].image:e.image[d]:v(e.image[d],!1,!0,u);var f,p=h[0],m=g(p)||l,x=a.convert(e.format),w=a.convert(e.type),C=b(e.internalFormat,x,w);if(R(34067,e,m),s){for(d=0;d<6;d++){f=h[d].mipmaps;for(var k=0;k<f.length;k++){var S=f[k];1023!==e.format&&1022!==e.format?null!==x?n.compressedTexImage2D(34069+d,k,C,S.width,S.height,0,S.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+d,k,C,S.width,S.height,0,x,w,S.data)}}o.__maxMipLevel=f.length-1}else{for(f=e.mipmaps,d=0;d<6;d++)if(c)for(n.texImage2D(34069+d,0,C,h[d].width,h[d].height,0,x,w,h[d].data),k=0;k<f.length;k++){var E=(S=f[k]).image[d].image;n.texImage2D(34069+d,k+1,C,E.width,E.height,0,x,w,E.data)}else for(n.texImage2D(34069+d,0,C,x,w,h[d]),k=0;k<f.length;k++)n.texImage2D(34069+d,k+1,C,x,w,(S=f[k]).image[d]);o.__maxMipLevel=f.length}y(e,m)&&_(34067,e,p.width,p.height),o.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture)}}function T(t,e){n.activeTexture(33984+e),n.bindTexture(34067,i.get(t).__webglTexture)}var M={1e3:10497,1001:33071,1002:33648},A={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function R(n,a,o){o?(t.texParameteri(n,10242,M[a.wrapS]),t.texParameteri(n,10243,M[a.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,M[a.wrapR]),t.texParameteri(n,10240,A[a.magFilter]),t.texParameteri(n,10241,A[a.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),1001===a.wrapS&&1001===a.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,x(a.magFilter)),t.texParameteri(n,10241,x(a.minFilter)),1003!==a.minFilter&&1006!==a.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=e.get("EXT_texture_filter_anisotropic");if(s){if(1015===a.type&&null===e.get("OES_texture_float_linear"))return;if(1016===a.type&&null===(l||e.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function P(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",w),e.__webglTexture=t.createTexture(),o.memory.textures++)}function O(e,i,r){var o=3553;i.isDataTexture2DArray&&(o=35866),i.isDataTexture3D&&(o=32879),P(e,i),n.activeTexture(33984+r),n.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);var s=function(t){return!l&&(1001!==t.wrapS||1001!==t.wrapT||1003!==t.minFilter&&1006!==t.minFilter)}(i)&&!1===g(i.image),c=v(i.image,s,!1,h),u=g(c)||l,d=a.convert(i.format),f=a.convert(i.type),p=b(i.internalFormat,d,f);R(o,i,u);var m,x=i.mipmaps;if(i.isDepthTexture){if(p=6402,1015===i.type){if(!1===l)throw new Error("Float Depth Texture only supported in WebGL2.0");p=36012}else l&&(p=33189);1026===i.format&&6402===p&&1012!==i.type&&1014!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=1012,f=a.convert(i.type)),1027===i.format&&(p=34041,1020!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=1020,f=a.convert(i.type))),n.texImage2D(3553,0,p,c.width,c.height,0,d,f,null)}else if(i.isDataTexture)if(x.length>0&&u){for(var w=0,C=x.length;w<C;w++)n.texImage2D(3553,w,p,(m=x[w]).width,m.height,0,d,f,m.data);i.generateMipmaps=!1,e.__maxMipLevel=x.length-1}else n.texImage2D(3553,0,p,c.width,c.height,0,d,f,c.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(w=0,C=x.length;w<C;w++)m=x[w],1023!==i.format&&1022!==i.format?null!==d?n.compressedTexImage2D(3553,w,p,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,w,p,m.width,m.height,0,d,f,m.data);e.__maxMipLevel=x.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,p,c.width,c.height,c.depth,0,d,f,c.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,p,c.width,c.height,c.depth,0,d,f,c.data),e.__maxMipLevel=0;else if(x.length>0&&u){for(w=0,C=x.length;w<C;w++)n.texImage2D(3553,w,p,d,f,m=x[w]);i.generateMipmaps=!1,e.__maxMipLevel=x.length-1}else n.texImage2D(3553,0,p,d,f,c),e.__maxMipLevel=0;y(i,u)&&_(o,i,c.width,c.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function L(e,r,o,s){var l=a.convert(r.texture.format),c=a.convert(r.texture.type),u=b(r.texture.internalFormat,l,c);n.texImage2D(s,0,u,r.width,r.height,0,l,c,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function I(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){if(i){var r=D(n);t.renderbufferStorageMultisample(36161,r,33189,n.width,n.height)}else t.renderbufferStorage(36161,33189,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer)i?(r=D(n),t.renderbufferStorageMultisample(36161,r,35056,n.width,n.height)):t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var o=a.convert(n.texture.format),s=a.convert(n.texture.type),l=b(n.texture.internalFormat,o,s);i?(r=D(n),t.renderbufferStorageMultisample(36161,r,l,n.width,n.height)):t.renderbufferStorage(36161,l,n.width,n.height)}t.bindRenderbuffer(36161,null)}function D(t){return l&&t.isWebGLMultisampleRenderTarget?Math.min(d,t.samples):0}var N=!1,F=!1;this.allocateTextureUnit=function(){var t=k;return t>=c&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+c),k+=1,t},this.resetTextureUnits=function(){k=0},this.setTexture2D=S,this.setTexture2DArray=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?O(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?O(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=E,this.setTextureCubeDynamic=T,this.setupRenderTarget=function(r){var s=i.get(r),c=i.get(r.texture);r.addEventListener("dispose",C),c.__webglTexture=t.createTexture(),o.memory.textures++;var u=!0===r.isWebGLCubeRenderTarget,h=!0===r.isWebGLMultisampleRenderTarget,d=!0===r.isWebGLMultiviewRenderTarget,f=g(r)||l;if(u){s.__webglFramebuffer=[];for(var p=0;p<6;p++)s.__webglFramebuffer[p]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),h)if(l){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var m=a.convert(r.texture.format),v=a.convert(r.texture.type),x=b(r.texture.internalFormat,m,v),w=D(r);t.renderbufferStorageMultisample(36161,w,x,r.width,r.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),r.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),I(s.__webglDepthRenderbuffer,r,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(d){var k=r.width,E=r.height,T=r.numViews;t.bindFramebuffer(36160,s.__webglFramebuffer);var M=e.get("OVR_multiview2");o.memory.textures+=2;var A=t.createTexture();t.bindTexture(35866,A),t.texParameteri(35866,10240,9728),t.texParameteri(35866,10241,9728),t.texImage3D(35866,0,32856,k,E,T,0,6408,5121,null),M.framebufferTextureMultiviewOVR(36160,36064,A,0,0,T);var P=t.createTexture();t.bindTexture(35866,P),t.texParameteri(35866,10240,9728),t.texParameteri(35866,10241,9728),t.texImage3D(35866,0,35056,k,E,T,0,34041,34042,null),M.framebufferTextureMultiviewOVR(36160,33306,P,0,0,T);var O=new Array(T);for(p=0;p<T;++p)O[p]=t.createFramebuffer(),t.bindFramebuffer(36160,O[p]),t.framebufferTextureLayer(36160,36064,A,0,p);s.__webglColorTexture=A,s.__webglDepthStencilTexture=P,s.__webglViewFramebuffers=O,t.bindFramebuffer(36160,null),t.bindTexture(35866,null)}if(u){for(n.bindTexture(34067,c.__webglTexture),R(34067,r.texture,f),p=0;p<6;p++)L(s.__webglFramebuffer[p],r,36064,34069+p);y(r.texture,f)&&_(34067,r.texture,r.width,r.height),n.bindTexture(34067,null)}else d||(n.bindTexture(3553,c.__webglTexture),R(3553,r.texture,f),L(s.__webglFramebuffer,r,36064,3553),y(r.texture,f)&&_(3553,r.texture,r.width,r.height),n.bindTexture(3553,null));r.depthBuffer&&function(e){var n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),S(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(1026===n.depthTexture.format)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),I(n.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),I(n.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}(r)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(y(e,g(t)||l)){var r=t.isWebGLCubeRenderTarget?34067:3553,a=i.get(e).__webglTexture;n.bindTexture(r,a),_(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(l){var n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var r=e.width,a=e.height,o=16384;e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024),t.blitFramebuffer(0,0,r,a,0,0,r,a,o,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),t=t.texture),S(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),F=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?E(t,e):T(t,e)}}function fN(t,e,n){var i=n.isWebGL2;return{convert:function(t){var n;if(1009===t)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(1012===t)return 5123;if(1013===t)return 5124;if(1014===t)return 5125;if(1015===t)return 5126;if(1016===t)return i?5131:null!==(n=e.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===t)return 6406;if(1022===t)return 6407;if(1023===t)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(1026===t)return 6402;if(1027===t)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(null===(n=e.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(null===(n=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}return 36196===t?null!==(n=e.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null:37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t?null!==(n=e.get("WEBGL_compressed_texture_astc"))?t:null:1020===t?i?34042:null!==(n=e.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function pN(t,e,n,i){NP.call(this,t,e,i),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}function mN(t,e){var n,i,r,a,o,s,l,c=t.extensions,u=t.properties,h=0;function d(t){return t.isArrayCamera?t.cameras:(o[0]=t,o)}this.isAvailable=function(){if(void 0===l){var t=c.get("OVR_multiview2");if(l=null!==t&&!1===e.getContextAttributes().antialias){h=e.getParameter(t.MAX_VIEWS_OVR),n=new pN(0,0,2),s=new RP,a=[],r=[],o=[];for(var i=0;i<h;i++)a[i]=new ZP,r[i]=new PP}}return l},this.attachCamera=function(e){!1!==function(t){if(void 0===t.isArrayCamera)return!0;var e=t.cameras;if(e.length>h)return!1;for(var n=1,i=e.length;n<i;n++)if(e[0].viewport.z!==e[n].viewport.z||e[0].viewport.w!==e[n].viewport.w)return!1;return!0}(e)&&(i=t.getRenderTarget(),function(e){if(i?s.set(i.width,i.height):t.getDrawingBufferSize(s),e.isArrayCamera){var r=e.cameras[0].viewport;n.setSize(r.z,r.w),n.setNumViews(e.cameras.length)}else n.setSize(s.x,s.y),n.setNumViews(2)}(e),t.setRenderTarget(n))},this.detachCamera=function(r){n===t.getRenderTarget()&&(t.setRenderTarget(i),function(t){var i=n,r=i.numViews,a=u.get(i).__webglViewFramebuffers,o=i.width,l=i.height;if(t.isArrayCamera)for(var c=0;c<r;c++){var h=t.cameras[c].viewport,d=h.x,f=h.y,p=d+h.z,m=f+h.w;e.bindFramebuffer(36008,a[c]),e.blitFramebuffer(0,0,o,l,d,f,p,m,16384,9728)}else e.bindFramebuffer(36008,a[0]),e.blitFramebuffer(0,0,o,l,0,0,s.x,s.y,16384,9728)}(r))},this.updateCameraProjectionMatricesUniform=function(t,n){for(var i=d(t),r=0;r<i.length;r++)a[r].copy(i[r].projectionMatrix);n.setValue(e,"projectionMatrices",a)},this.updateCameraViewMatricesUniform=function(t,n){for(var i=d(t),r=0;r<i.length;r++)a[r].copy(i[r].matrixWorldInverse);n.setValue(e,"viewMatrices",a)},this.updateObjectMatricesUniforms=function(t,n,i){for(var o=d(n),s=0;s<o.length;s++)a[s].multiplyMatrices(o[s].matrixWorldInverse,t.matrixWorld),r[s].getNormalMatrix(a[s]);i.setValue(e,"modelViewMatrices",a),i.setValue(e,"normalMatrices",r)}}function vN(t){uI.call(this),this.cameras=t||[]}function gN(){fO.call(this),this.type="Group"}function yN(t,e){var n=this,i=null,r=null,a="local-floor",o=null,s=[],l=new Map,c=new uI;c.layers.enable(1),c.viewport=new DP;var u=new uI;u.layers.enable(2),u.viewport=new DP;var h=new vN([c,u]);h.layers.enable(1),h.layers.enable(2);var d=null,f=null;function p(t){var e=l.get(t.inputSource);e&&(e.targetRay&&e.targetRay.dispatchEvent({type:t.type}),e.grip&&e.grip.dispatchEvent({type:t.type}))}function m(){l.forEach((function(t,e){t.targetRay&&(t.targetRay.dispatchEvent({type:"disconnected",data:e}),t.targetRay.visible=!1),t.grip&&(t.grip.dispatchEvent({type:"disconnected",data:e}),t.grip.visible=!1)})),l.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),w.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function v(t){r=t,w.setContext(i),w.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function g(t){for(var e=i.inputSources,n=0;n<s.length;n++)l.set(e[n],s[n]);for(n=0;n<t.removed.length;n++)(a=l.get(r=t.removed[n]))&&(a.targetRay&&a.targetRay.dispatchEvent({type:"disconnected",data:r}),a.grip&&a.grip.dispatchEvent({type:"disconnected",data:r}),l.delete(r));for(n=0;n<t.added.length;n++){var r,a;(a=l.get(r=t.added[n]))&&(a.targetRay&&a.targetRay.dispatchEvent({type:"connected",data:r}),a.grip&&a.grip.dispatchEvent({type:"connected",data:r}))}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){var e=s[t];return void 0===e&&(s[t]=e={}),void 0===e.targetRay&&(e.targetRay=new gN,e.targetRay.matrixAutoUpdate=!1,e.targetRay.visible=!1),e.targetRay},this.getControllerGrip=function(t){var e=s[t];return void 0===e&&(s[t]=e={}),void 0===e.grip&&(e.grip=new gN,e.grip.matrixAutoUpdate=!1,e.grip.visible=!1),e.grip},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(t){a=t},this.getReferenceSpace=function(){return r},this.getSession=function(){return i},this.setSession=function(t){if(null!==(i=t)){i.addEventListener("select",p),i.addEventListener("selectstart",p),i.addEventListener("selectend",p),i.addEventListener("squeeze",p),i.addEventListener("squeezestart",p),i.addEventListener("squeezeend",p),i.addEventListener("end",m);var n=e.getContextAttributes(),r=new XRWebGLLayer(i,e,{antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil});i.updateRenderState({baseLayer:r}),i.requestReferenceSpace(a).then(v),i.addEventListener("inputsourceschange",g)}};var y=new jP,_=new jP;function b(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}this.getCamera=function(t){h.near=u.near=c.near=t.near,h.far=u.far=c.far=t.far,d===h.near&&f===h.far||(i.updateRenderState({depthNear:h.near,depthFar:h.far}),d=h.near,f=h.far);var e=t.parent,n=h.cameras;b(h,e);for(var r=0;r<n.length;r++)b(n[r],e);t.matrixWorld.copy(h.matrixWorld);for(var a=t.children,o=(r=0,a.length);r<o;r++)a[r].updateMatrixWorld(!0);return function(t,e,n){y.setFromMatrixPosition(e.matrixWorld),_.setFromMatrixPosition(n.matrixWorld);var i=y.distanceTo(_),r=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(a[8]+1)/a[0],d=o*u,f=o*h,p=i/(-u+h),m=p*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+p,g=s+p;t.projectionMatrix.makePerspective(d-m,f+(i-m),l*s/g*v,c*s/g*v,v,g)}(h,c,u),h};var x=null,w=new yI;w.setAnimationLoop((function(e,n){if(null!==(o=n.getViewerPose(r))){var a=o.views,l=i.renderState.baseLayer;t.setFramebuffer(l.framebuffer);for(var c=0;c<a.length;c++){var u=a[c],d=l.getViewport(u),f=h.cameras[c];f.matrix.fromArray(u.transform.matrix),f.projectionMatrix.fromArray(u.projectionMatrix),f.viewport.set(d.x,d.y,d.width,d.height),0===c&&h.matrix.copy(f.matrix)}}var p=i.inputSources;for(c=0;c<s.length;c++){var m=s[c],v=p[c],g=null,y=null;v&&(m.targetRay&&null!==(g=n.getPose(v.targetRaySpace,r))&&(m.targetRay.matrix.fromArray(g.transform.matrix),m.targetRay.matrix.decompose(m.targetRay.position,m.targetRay.rotation,m.targetRay.scale)),m.grip&&v.gripSpace&&null!==(y=n.getPose(v.gripSpace,r))&&(m.grip.matrix.fromArray(y.transform.matrix),m.grip.matrix.decompose(m.grip.position,m.grip.rotation,m.grip.scale))),m.targetRay&&(m.targetRay.visible=null!==g),m.grip&&(m.grip.visible=null!==y)}x&&x(e,n)})),this.setAnimationLoop=function(t){x=t},this.dispose=function(){}}function _N(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",u=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,h=null,d=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,p,m,v,g,y,_,b,x,w,C,k,S,E,T,M,A,R,P=this,O=!1,L=null,I=0,D=0,N=null,F=null,z=-1,V={geometry:null,program:null,wireframe:!1},B=null,j=null,U=new DP,H=new DP,G=null,W=e.width,q=e.height,Y=1,X=null,Z=null,Q=new DP(0,0,W,q),J=new DP(0,0,W,q),K=!1,$=new vI,tt=new TI,et=!1,nt=!1,it=new ZP,rt=new jP;function at(){return null===N?Y:1}try{var ot={alpha:i,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u,xrCompatible:!0};if(e.addEventListener("webglcontextlost",ht,!1),e.addEventListener("webglcontextrestored",dt,!1),null===(f=n||e.getContext("webgl",ot)||e.getContext("experimental-webgl",ot)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(St){throw console.error("THREE.WebGLRenderer: "+St.message),St}function st(){p=new MI(f),!1===(m=new EI(f,p,t)).isWebGL2&&(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),R=new fN(f,p,m),(v=new hN(f,p,m)).scissor(H.copy(J).multiplyScalar(Y).floor()),v.viewport(U.copy(Q).multiplyScalar(Y).floor()),g=new PI(f),y=new JD,_=new dN(f,p,v,y,m,R,g),b=new _I(f,m),x=new AI(f,b,g),w=new II(f,x,b,g),T=new LI(f),C=new QD(P,p,m),k=new eN,S=new sN,E=new kI(P,v,w,s),M=new SI(f,p,g,m),A=new RI(f,p,g,m),g.programs=C.programs,P.capabilities=m,P.extensions=p,P.properties=y,P.renderLists=k,P.state=v,P.info=g}st();var lt=new yN(P,f);this.xr=lt;var ct=new mN(P,f),ut=new uN(P,w,m.maxTextureSize);function ht(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function dt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1,st()}function ft(t){var e=t.target;e.removeEventListener("dispose",ft),function(t){pt(t),y.remove(t)}(e)}function pt(t){var e=y.get(t).program;t.program=void 0,void 0!==e&&C.releaseProgram(e)}this.shadowMap=ut,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var t=p.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=p.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(t){void 0!==t&&(Y=t,this.setSize(W,q,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new RP),t.set(W,q)},this.setSize=function(t,n,i){lt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=t,q=n,e.width=Math.floor(t*Y),e.height=Math.floor(n*Y),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new RP),t.set(W*Y,q*Y).floor()},this.setDrawingBufferSize=function(t,n,i){W=t,q=n,Y=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new DP),t.copy(U)},this.getViewport=function(t){return t.copy(Q)},this.setViewport=function(t,e,n,i){t.isVector4?Q.set(t.x,t.y,t.z,t.w):Q.set(t,e,n,i),v.viewport(U.copy(Q).multiplyScalar(Y).floor())},this.getScissor=function(t){return t.copy(J)},this.setScissor=function(t,e,n,i){t.isVector4?J.set(t.x,t.y,t.z,t.w):J.set(t,e,n,i),v.scissor(H.copy(J).multiplyScalar(Y).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(t){v.setScissorTest(K=t)},this.setOpaqueSort=function(t){X=t},this.setTransparentSort=function(t){Z=t},this.getClearColor=function(){return E.getClearColor()},this.setClearColor=function(){E.setClearColor.apply(E,arguments)},this.getClearAlpha=function(){return E.getClearAlpha()},this.setClearAlpha=function(){E.setClearAlpha.apply(E,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),f.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ht,!1),e.removeEventListener("webglcontextrestored",dt,!1),k.dispose(),S.dispose(),y.dispose(),w.dispose(),lt.dispose(),gt.stop()},this.renderBufferImmediate=function(t,e){v.initAttributes();var n=y.get(t);t.hasPositions&&!n.position&&(n.position=f.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),t.hasColors&&!n.color&&(n.color=f.createBuffer());var i=e.getAttributes();t.hasPositions&&(f.bindBuffer(34962,n.position),f.bufferData(34962,t.positionArray,35048),v.enableAttribute(i.position),f.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(f.bindBuffer(34962,n.normal),f.bufferData(34962,t.normalArray,35048),v.enableAttribute(i.normal),f.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(f.bindBuffer(34962,n.uv),f.bufferData(34962,t.uvArray,35048),v.enableAttribute(i.uv),f.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(f.bindBuffer(34962,n.color),f.bufferData(34962,t.colorArray,35048),v.enableAttribute(i.color),f.vertexAttribPointer(i.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),f.drawArrays(4,0,t.count),t.count=0};var mt=new pO;this.renderBufferDirect=function(t,e,n,i,r,a){null===e&&(e=mt);var o=r.isMesh&&r.matrixWorld.determinant()<0,s=wt(t,e,i,r);v.setMaterial(i,o);var l=!1;V.geometry===n.id&&V.program===s.id&&V.wireframe===(!0===i.wireframe)||(V.geometry=n.id,V.program=s.id,V.wireframe=!0===i.wireframe,l=!0),(i.morphTargets||i.morphNormals)&&(T.update(r,n,i,s),l=!0);var c=n.index,u=n.attributes.position;if(null===c){if(void 0===u||0===u.count)return}else if(0===c.count)return;var h,d=1;!0===i.wireframe&&(c=x.getWireframeAttribute(n),d=2);var g=M;null!==c&&(h=b.get(c),(g=A).setIndex(h)),l&&(function(t,e,n,i){if(!1!==m.isWebGL2||!t.isInstancedMesh&&!e.isInstancedBufferGeometry||null!==p.get("ANGLE_instanced_arrays")){v.initAttributes();var r=e.attributes,a=i.getAttributes(),o=n.defaultAttributeValues;for(var s in a){var l=a[s];if(l>=0){var c=r[s];if(void 0!==c){var u=c.normalized,h=c.itemSize;if(void 0===(C=b.get(c)))continue;var d=C.buffer,g=C.type,y=C.bytesPerElement;if(c.isInterleavedBufferAttribute){var _=c.data,x=_.stride,w=c.offset;_&&_.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(l,_.meshPerAttribute),void 0===e.maxInstancedCount&&(e.maxInstancedCount=_.meshPerAttribute*_.count)):v.enableAttribute(l),f.bindBuffer(34962,d),f.vertexAttribPointer(l,h,g,u,x*y,w*y)}else c.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(l,c.meshPerAttribute),void 0===e.maxInstancedCount&&(e.maxInstancedCount=c.meshPerAttribute*c.count)):v.enableAttribute(l),f.bindBuffer(34962,d),f.vertexAttribPointer(l,h,g,u,0,0)}else if("instanceMatrix"===s){var C;if(void 0===(C=b.get(t.instanceMatrix)))continue;d=C.buffer,g=C.type,v.enableAttributeAndDivisor(l+0,1),v.enableAttributeAndDivisor(l+1,1),v.enableAttributeAndDivisor(l+2,1),v.enableAttributeAndDivisor(l+3,1),f.bindBuffer(34962,d),f.vertexAttribPointer(l+0,4,g,!1,64,0),f.vertexAttribPointer(l+1,4,g,!1,64,16),f.vertexAttribPointer(l+2,4,g,!1,64,32),f.vertexAttribPointer(l+3,4,g,!1,64,48)}else if(void 0!==o){var k=o[s];if(void 0!==k)switch(k.length){case 2:f.vertexAttrib2fv(l,k);break;case 3:f.vertexAttrib3fv(l,k);break;case 4:f.vertexAttrib4fv(l,k);break;default:f.vertexAttrib1fv(l,k)}}}}v.disableUnusedAttributes()}}(r,n,i,s),null!==c&&f.bindBuffer(34963,h.buffer));var y=null!==c?c.count:u.count,_=n.drawRange.start*d,w=n.drawRange.count*d,C=null!==a?a.start*d:0,k=null!==a?a.count*d:1/0,S=Math.max(_,C),E=Math.min(y,_+w,C+k)-1,R=Math.max(0,E-S+1);if(0!==R){if(r.isMesh)!0===i.wireframe?(v.setLineWidth(i.wireframeLinewidth*at()),g.setMode(1)):g.setMode(4);else if(r.isLine){var P=i.linewidth;void 0===P&&(P=1),v.setLineWidth(P*at()),g.setMode(r.isLineSegments?1:r.isLineLoop?2:3)}else r.isPoints?g.setMode(0):r.isSprite&&g.setMode(4);r.isInstancedMesh?g.renderInstances(n,S,R,r.count):n.isInstancedBufferGeometry?g.renderInstances(n,S,R,n.maxInstancedCount):g.render(S,R)}},this.compile=function(t,e){(d=S.get(t,e)).init(),t.traverse((function(t){t.isLight&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))})),d.setupLights(e);var n={};t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var i=0;i<e.material.length;i++)e.material[i].uuid in n==0&&(xt(e.material[i],t,e),n[e.material[i].uuid]=!0);else e.material.uuid in n==0&&(xt(e.material,t,e),n[e.material.uuid]=!0)}))};var vt=null,gt=new yI;function yt(t,e,n,i){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||$.intersectsSprite(t)){i&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it);var r=w.update(t);(a=t.material).visible&&h.push(t,r,a,n,rt.z,null)}}else if(t.isImmediateRenderObject)i&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),h.push(t,null,t.material,n,rt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==g.render.frame&&(t.skeleton.update(),t.skeleton.frame=g.render.frame),!t.frustumCulled||$.intersectsObject(t))){i&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),r=w.update(t);var a=t.material;if(Array.isArray(a))for(var o=r.groups,s=0,l=o.length;s<l;s++){var c=o[s],u=a[c.materialIndex];u&&u.visible&&h.push(t,r,u,n,rt.z,c)}else a.visible&&h.push(t,r,a,n,rt.z,null)}var f=t.children;for(s=0,l=f.length;s<l;s++)yt(f[s],e,n,i)}}function _t(t,e,n,i){for(var r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,l=o.geometry,c=void 0===i?o.material:i,u=o.group;if(n.isArrayCamera)if(j=n,lt.enabled&&ct.isAvailable())bt(s,e,n,l,c,u);else for(var h=n.cameras,f=0,p=h.length;f<p;f++){var m=h[f];s.layers.test(m.layers)&&(v.viewport(U.copy(m.viewport)),d.setupLights(m),bt(s,e,m,l,c,u))}else j=null,bt(s,e,n,l,c,u)}}function bt(t,e,n,i,r,a){if(t.onBeforeRender(P,e,n,i,r,a),d=S.get(e,j||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var o=wt(n,e,r,t);v.setMaterial(r),V.geometry=null,V.program=null,V.wireframe=!1,function(t,e){t.render((function(t){P.renderBufferImmediate(t,e)}))}(t,o)}else P.renderBufferDirect(n,e,i,r,t,a);t.onAfterRender(P,e,n,i,r,a),d=S.get(e,j||n)}function xt(t,e,n){var i=y.get(t),r=d.state.lights,a=r.state.version,o=C.getParameters(t,r.state,d.state.shadowsArray,e,tt.numPlanes,tt.numIntersection,n),s=C.getProgramCacheKey(o),l=i.program,c=!0;if(void 0===l)t.addEventListener("dispose",ft);else if(l.cacheKey!==s)pt(t);else if(i.lightsStateVersion!==a)i.lightsStateVersion=a,c=!1;else{if(void 0!==o.shaderID)return;c=!1}c&&(l=C.acquireProgram(o,s),i.program=l,i.uniforms=o.uniforms,i.environment=t.isMeshStandardMaterial?e.environment:null,i.outputEncoding=P.outputEncoding,t.program=l);var u=l.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var h=0;h<P.maxMorphTargets;h++)u["morphTarget"+h]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,h=0;h<P.maxMorphNormals;h++)u["morphNormal"+h]>=0&&t.numSupportedMorphNormals++;var f=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=tt.numPlanes,i.numIntersection=tt.numIntersection,f.clippingPlanes=tt.uniform),i.fog=e.fog,i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=a,i.needsLights&&(f.ambientLightColor.value=r.state.ambient,f.lightProbe.value=r.state.probe,f.directionalLights.value=r.state.directional,f.spotLights.value=r.state.spot,f.rectAreaLights.value=r.state.rectArea,f.pointLights.value=r.state.point,f.hemisphereLights.value=r.state.hemi,f.directionalShadowMap.value=r.state.directionalShadowMap,f.directionalShadowMatrix.value=r.state.directionalShadowMatrix,f.spotShadowMap.value=r.state.spotShadowMap,f.spotShadowMatrix.value=r.state.spotShadowMatrix,f.pointShadowMap.value=r.state.pointShadowMap,f.pointShadowMatrix.value=r.state.pointShadowMatrix);var p=i.program.getUniforms(),m=OD.seqWithValue(p.seq,f);i.uniformsList=m}function wt(t,e,n,i){_.resetTextureUnits();var r=e.fog,a=n.isMeshStandardMaterial?e.environment:null,o=y.get(n),s=d.state.lights;et&&(nt||t!==B)&&tt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,o,t===B&&n.id===z),n.version===o.__version?void 0===o.program?xt(n,e,i):n.fog&&o.fog!==r?xt(n,e,i):o.environment!==a?xt(n,e,i):o.needsLights&&o.lightsStateVersion!==s.state.version?xt(n,e,i):void 0===o.numClippingPlanes||o.numClippingPlanes===tt.numPlanes&&o.numIntersection===tt.numIntersection?o.outputEncoding!==P.outputEncoding&&xt(n,e,i):xt(n,e,i):(xt(n,e,i),o.__version=n.version);var l,c,u=!1,h=!1,p=!1,g=o.program,b=g.getUniforms(),x=o.uniforms;if(v.useProgram(g.program)&&(u=!0,h=!0,p=!0),n.id!==z&&(z=n.id,h=!0),u||B!==t){if(g.numMultiviewViews>0?ct.updateCameraProjectionMatricesUniform(t,b):b.setValue(f,"projectionMatrix",t.projectionMatrix),m.logarithmicDepthBuffer&&b.setValue(f,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),B!==t&&(B=t,h=!0,p=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var w=b.map.cameraPosition;void 0!==w&&w.setValue(f,rt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&b.setValue(f,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&(g.numMultiviewViews>0?ct.updateCameraViewMatricesUniform(t,b):b.setValue(f,"viewMatrix",t.matrixWorldInverse))}if(n.skinning){b.setOptional(f,i,"bindMatrix"),b.setOptional(f,i,"bindMatrixInverse");var C=i.skeleton;if(C)if(m.floatVertexTextures){if(void 0===C.boneTexture){var k=Math.sqrt(4*C.bones.length);k=AP.ceilPowerOfTwo(k),k=Math.max(k,4);var S=new Float32Array(k*k*4);S.set(C.boneMatrices);var E=new fI(S,k,k,1023,1015);C.boneMatrices=S,C.boneTexture=E,C.boneTextureSize=k}b.setValue(f,"boneTexture",C.boneTexture,_),b.setValue(f,"boneTextureSize",C.boneTextureSize)}else b.setOptional(f,C,"boneMatrices")}return(h||o.receiveShadow!==i.receiveShadow)&&(o.receiveShadow=i.receiveShadow,b.setValue(f,"receiveShadow",i.receiveShadow)),h&&(b.setValue(f,"toneMappingExposure",P.toneMappingExposure),b.setValue(f,"toneMappingWhitePoint",P.toneMappingWhitePoint),o.needsLights&&((l=x).ambientLightColor.needsUpdate=c=p,l.lightProbe.needsUpdate=c,l.directionalLights.needsUpdate=c,l.pointLights.needsUpdate=c,l.spotLights.needsUpdate=c,l.rectAreaLights.needsUpdate=c,l.hemisphereLights.needsUpdate=c),r&&n.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(x,r),n.isMeshBasicMaterial?Ct(x,n):n.isMeshLambertMaterial?(Ct(x,n),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(x,n)):n.isMeshToonMaterial?(Ct(x,n),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,n)):n.isMeshPhongMaterial?(Ct(x,n),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,n)):n.isMeshStandardMaterial?(Ct(x,n,a),n.isMeshPhysicalMaterial?function(t,e,n){kt(t,e,n),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transparency.value=e.transparency}(x,n,a):kt(x,n,a)):n.isMeshMatcapMaterial?(Ct(x,n),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,n)):n.isMeshDepthMaterial?(Ct(x,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,n)):n.isMeshDistanceMaterial?(Ct(x,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(x,n)):n.isMeshNormalMaterial?(Ct(x,n),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,n)):n.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(x,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(x,n)):n.isPointsMaterial?function(t,e){var n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*Y,t.scale.value=.5*q,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(x,n):n.isSpriteMaterial?function(t,e){var n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(x,n):n.isShadowMaterial&&(x.color.value.copy(n.color),x.opacity.value=n.opacity),void 0!==x.ltc_1&&(x.ltc_1.value=gI.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=gI.LTC_2),OD.upload(f,o.uniformsList,x,_),n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(OD.upload(f,o.uniformsList,x,_),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&b.setValue(f,"center",i.center),g.numMultiviewViews>0?ct.updateObjectMatricesUniforms(i,t,b):(b.setValue(f,"modelViewMatrix",i.modelViewMatrix),b.setValue(f,"normalMatrix",i.normalMatrix)),b.setValue(f,"modelMatrix",i.matrixWorld),g}function Ct(t,e,n){t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap);var i,r,a=e.envMap||n;a&&(t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=y.get(a).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),e.aoMap?r=e.aoMap:e.lightMap&&(r=e.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uv2Transform.value.copy(r.matrix))}function kt(t,e,n){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),(e.envMap||n)&&(t.envMapIntensity.value=e.envMapIntensity)}gt.setAnimationLoop((function(t){lt.isPresenting||vt&&vt(t)})),"undefined"!=typeof window&&gt.setContext(window),this.setAnimationLoop=function(t){vt=t,lt.setAnimationLoop(t),gt.start()},this.render=function(t,e){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),e&&e.isCamera){if(!O){V.geometry=null,V.program=null,V.wireframe=!1,z=-1,B=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),lt.enabled&&lt.isPresenting&&(e=lt.getCamera(e)),(d=S.get(t,e)).init(),t.onBeforeRender(P,t,e,n||N),it.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),$.setFromProjectionMatrix(it),et=tt.init(this.clippingPlanes,nt=this.localClippingEnabled,e),(h=k.get(t,e)).init(),yt(t,e,0,P.sortObjects),!0===P.sortObjects&&h.sort(X,Z),et&&tt.beginShadows();var r=d.state.shadowsArray;ut.render(r,t,e),d.setupLights(e),et&&tt.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),lt.enabled&&ct.isAvailable()&&ct.attachCamera(e),E.render(h,t,e,i);var a=h.opaque,o=h.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&_t(a,t,e,s),o.length&&_t(o,t,e,s)}else a.length&&_t(a,t,e),o.length&&_t(o,t,e);t.onAfterRender(P,t,e),null!==N&&(_.updateRenderTargetMipmap(N),_.updateMultisampleRenderTarget(N)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),lt.enabled&&ct.isAvailable()&&ct.detachCamera(e),h=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(t){L!==t&&null===N&&f.bindFramebuffer(36160,t),L=t},this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return N},this.setRenderTarget=function(t,e,n){N=t,I=e,D=n,t&&void 0===y.get(t).__webglFramebuffer&&_.setupRenderTarget(t);var i=L,r=!1;if(t){var a=y.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=a[e||0],r=!0):i=t.isWebGLMultisampleRenderTarget?y.get(t).__webglMultisampledFramebuffer:a,U.copy(t.viewport),H.copy(t.scissor),G=t.scissorTest}else U.copy(Q).multiplyScalar(Y).floor(),H.copy(J).multiplyScalar(Y).floor(),G=K;if(F!==i&&(f.bindFramebuffer(36160,i),F=i),v.viewport(U),v.scissor(H),v.setScissorTest(G),r){var o=y.get(t.texture);f.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,n||0)}},this.readRenderTargetPixels=function(t,e,n,i,r,a,o){if(t&&t.isWebGLRenderTarget){var s=y.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var l=!1;s!==F&&(f.bindFramebuffer(36160,s),l=!0);try{var c=t.texture,u=c.format,h=c.type;if(1023!==u&&R.convert(u)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(1009===h||R.convert(h)===f.getParameter(35738)||1015===h&&(m.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float"))||1016===h&&p.get(m.isWebGL2?"EXT_color_buffer_float":"EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&f.readPixels(e,n,i,r,R.convert(u),R.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&f.bindFramebuffer(36160,F)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,n){void 0===n&&(n=0);var i=Math.pow(2,-n),r=Math.floor(e.image.width*i),a=Math.floor(e.image.height*i),o=R.convert(e.format);_.setTexture2D(e,0),f.copyTexImage2D(3553,n,o,t.x,t.y,r,a,0),v.unbindTexture()},this.copyTextureToTexture=function(t,e,n,i){var r=e.image.width,a=e.image.height,o=R.convert(n.format),s=R.convert(n.type);_.setTexture2D(n,0),e.isDataTexture?f.texSubImage2D(3553,i||0,t.x,t.y,r,a,o,s,e.image.data):f.texSubImage2D(3553,i||0,t.x,t.y,o,s,e.image),v.unbindTexture()},this.initTexture=function(t){_.setTexture2D(t,0),v.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function bN(t,e){this.name="",this.color=new rL(t),this.density=void 0!==e?e:25e-5}function xN(t,e,n){this.name="",this.color=new rL(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function wN(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}(lN.prototype=Object.create(uL.prototype)).constructor=lN,lN.prototype.isMeshDepthMaterial=!0,lN.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},(cN.prototype=Object.create(uL.prototype)).constructor=cN,cN.prototype.isMeshDistanceMaterial=!0,cN.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},pN.prototype=Object.assign(Object.create(NP.prototype),{constructor:pN,isWebGLMultiviewRenderTarget:!0,copy:function(t){return NP.prototype.copy.call(this,t),this.numViews=t.numViews,this},setNumViews:function(t){return this.numViews!==t&&(this.numViews=t,this.dispose()),this}}),vN.prototype=Object.assign(Object.create(uI.prototype),{constructor:vN,isArrayCamera:!0}),gN.prototype=Object.assign(Object.create(fO.prototype),{constructor:gN,isGroup:!0}),Object.assign(yN.prototype,SP.prototype),Object.assign(bN.prototype,{isFogExp2:!0,clone:function(){return new bN(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(xN.prototype,{isFog:!0,clone:function(){return new xN(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(wN.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(wN.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}});var CN,kN=new jP;function SN(t,e,n,i){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function EN(t){uL.call(this),this.type="SpriteMaterial",this.color=new rL(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}Object.defineProperties(SN.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(SN.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(var e=0,n=this.data.count;e<n;e++)kN.x=this.getX(e),kN.y=this.getY(e),kN.z=this.getZ(e),kN.applyMatrix4(t),this.setXYZ(e,kN.x,kN.y,kN.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}}),(EN.prototype=Object.create(uL.prototype)).constructor=EN,EN.prototype.isSpriteMaterial=!0,EN.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};var TN=new jP,MN=new jP,AN=new jP,RN=new RP,PN=new RP,ON=new ZP,LN=new jP,IN=new jP,DN=new jP,NN=new RP,FN=new RP,zN=new RP;function VN(t){if(fO.call(this),this.type="Sprite",void 0===CN){CN=new OL;var e=new wN(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);CN.setIndex([0,1,2,0,2,3]),CN.setAttribute("position",new SN(e,3,0,!1)),CN.setAttribute("uv",new SN(e,2,3,!1))}this.geometry=CN,this.material=void 0!==t?t:new EN,this.center=new RP(.5,.5)}function BN(t,e,n,i,r,a){RN.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(PN.x=a*RN.x-r*RN.y,PN.y=r*RN.x+a*RN.y):PN.copy(RN),t.copy(e),t.x+=PN.x,t.y+=PN.y,t.applyMatrix4(ON)}VN.prototype=Object.assign(Object.create(fO.prototype),{constructor:VN,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),MN.setFromMatrixScale(this.matrixWorld),ON.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),AN.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&MN.multiplyScalar(-AN.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var a=this.center;BN(LN.set(-.5,-.5,0),AN,a,MN,n,i),BN(IN.set(.5,-.5,0),AN,a,MN,n,i),BN(DN.set(.5,.5,0),AN,a,MN,n,i),NN.set(0,0),FN.set(1,0),zN.set(1,1);var o=t.ray.intersectTriangle(LN,IN,DN,!1,TN);if(null!==o||(BN(IN.set(-.5,.5,0),AN,a,MN,n,i),FN.set(0,1),null!==(o=t.ray.intersectTriangle(LN,DN,IN,!1,TN)))){var s=t.ray.origin.distanceTo(TN);s<t.near||s>t.far||e.push({distance:s,point:TN.clone(),uv:tL.getUV(TN,LN,IN,DN,NN,FN,zN,new RP),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return fO.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}});var jN=new jP,UN=new jP;function HN(){fO.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function GN(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),QL.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ZP,this.bindMatrixInverse=new ZP}HN.prototype=Object.assign(Object.create(fO.prototype),{constructor:HN,isLOD:!0,copy:function(t){fO.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,i=e.length;n<i;n++){var r=e[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){var e=this.levels;if(e.length>0){for(var n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){jN.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(jN);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){var e=this.levels;if(e.length>1){jN.setFromMatrixPosition(t.matrixWorld),UN.setFromMatrixPosition(this.matrixWorld);var n=jN.distanceTo(UN);e[0].object.visible=!0;for(var i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(;i<r;i++)e[i].object.visible=!1}},toJSON:function(t){var e=fO.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var a=n[i];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),GN.prototype=Object.assign(Object.create(QL.prototype),{constructor:GN,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new DP,e=this.geometry.attributes.skinWeight,n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){QL.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var WN=new ZP,qN=new ZP;function YN(t,e){if(this.bones=(t=t||[]).slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new ZP)}}function XN(){fO.call(this),this.type="Bone"}Object.assign(YN.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new ZP;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=t.length;r<a;r++)WN.multiplyMatrices(t[r]?t[r].matrixWorld:qN,e[r]),WN.toArray(n,16*r);void 0!==i&&(i.needsUpdate=!0)},clone:function(){return new YN(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e];if(i.name===t)return i}}}),XN.prototype=Object.assign(Object.create(fO.prototype),{constructor:XN,isBone:!0});var ZN=new ZP,QN=new ZP,JN=[],KN=new QL;function $N(t,e,n){QL.call(this,t,e),this.instanceMatrix=new fL(new Float32Array(16*n),16),this.count=n,this.frustumCulled=!1}function tF(t){uL.call(this),this.type="LineBasicMaterial",this.color=new rL(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}$N.prototype=Object.assign(Object.create(QL.prototype),{constructor:$N,isInstancedMesh:!0,getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){var n=this.matrixWorld,i=this.count;if(KN.geometry=this.geometry,KN.material=this.material,void 0!==KN.material)for(var r=0;r<i;r++)this.getMatrixAt(r,ZN),QN.multiplyMatrices(n,ZN),KN.matrixWorld=QN,KN.raycast(t,JN),JN.length>0&&(JN[0].instanceId=r,JN[0].object=this,e.push(JN[0]),JN.length=0)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),(tF.prototype=Object.create(uL.prototype)).constructor=tF,tF.prototype.isLineBasicMaterial=!0,tF.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this};var eF=new jP,nF=new jP,iF=new ZP,rF=new VO,aF=new PO;function oF(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),fO.call(this),this.type="Line",this.geometry=void 0!==t?t:new OL,this.material=void 0!==e?e:new tF}oF.prototype=Object.assign(Object.create(fO.prototype),{constructor:oF,isLine:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],i=1,r=e.count;i<r;i++)eF.fromBufferAttribute(e,i-1),nF.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=eF.distanceTo(nF);t.setAttribute("lineDistance",new xL(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var a=t.vertices;for((n=t.lineDistances)[0]=0,i=1,r=a.length;i<r;i++)n[i]=n[i-1],n[i]+=a[i-1].distanceTo(a[i])}return this},raycast:function(t,e){var n=t.linePrecision,i=this.geometry,r=this.matrixWorld;if(null===i.boundingSphere&&i.computeBoundingSphere(),aF.copy(i.boundingSphere),aF.applyMatrix4(r),aF.radius+=n,!1!==t.ray.intersectsSphere(aF)){iF.getInverse(r),rF.copy(t.ray).applyMatrix4(iF);var a=n/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new jP,l=new jP,c=new jP,u=new jP,h=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var d=i.index,f=i.attributes.position.array;if(null!==d)for(var p=d.array,m=0,v=p.length-1;m<v;m+=h){var g=p[m+1];s.fromArray(f,3*p[m]),l.fromArray(f,3*g),rF.distanceSqToSegment(s,l,u,c)>o||(u.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(u))<t.near||b>t.far||e.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else for(m=0,v=f.length/3-1;m<v;m+=h)s.fromArray(f,3*m),l.fromArray(f,3*m+3),rF.distanceSqToSegment(s,l,u,c)>o||(u.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(u))<t.near||b>t.far||e.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else if(i.isGeometry){var y=i.vertices,_=y.length;for(m=0;m<_-1;m+=h){var b;rF.distanceSqToSegment(y[m],y[m+1],u,c)>o||(u.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(u))<t.near||b>t.far||e.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var sF=new jP,lF=new jP;function cF(t,e){oF.call(this,t,e),this.type="LineSegments"}function uF(t,e){oF.call(this,t,e),this.type="LineLoop"}function hF(t){uL.call(this),this.type="PointsMaterial",this.color=new rL(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}cF.prototype=Object.assign(Object.create(oF.prototype),{constructor:cF,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],i=0,r=e.count;i<r;i+=2)sF.fromBufferAttribute(e,i),lF.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+sF.distanceTo(lF);t.setAttribute("lineDistance",new xL(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var a=t.vertices;for(n=t.lineDistances,i=0,r=a.length;i<r;i+=2)sF.copy(a[i]),lF.copy(a[i+1]),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+sF.distanceTo(lF)}return this}}),uF.prototype=Object.assign(Object.create(oF.prototype),{constructor:uF,isLineLoop:!0}),(hF.prototype=Object.create(uL.prototype)).constructor=hF,hF.prototype.isPointsMaterial=!0,hF.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};var dF=new ZP,fF=new VO,pF=new PO,mF=new jP;function vF(t,e){fO.call(this),this.type="Points",this.geometry=void 0!==t?t:new OL,this.material=void 0!==e?e:new hF,this.updateMorphTargets()}function gF(t,e,n,i,r,a,o){var s=fF.distanceSqToPoint(t);if(s<n){var l=new jP;fF.closestPointToPoint(t,l),l.applyMatrix4(i);var c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}function yF(t,e,n,i,r,a,o,s,l){IP.call(this,t,e,n,i,r,a,o,s,l),this.format=void 0!==o?o:1022,this.minFilter=void 0!==a?a:1006,this.magFilter=void 0!==r?r:1006,this.generateMipmaps=!1}function _F(t,e,n,i,r,a,o,s,l,c,u,h){IP.call(this,null,a,o,s,l,c,i,r,u,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function bF(t,e,n,i,r,a,o,s,l){IP.call(this,t,e,n,i,r,a,o,s,l),this.needsUpdate=!0}function xF(t,e,n,i,r,a,o,s,l,c){if(1026!==(c=void 0!==c?c:1026)&&1027!==c)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===c&&(n=1012),void 0===n&&1027===c&&(n=1020),IP.call(this,null,i,r,a,o,s,c,n,l),this.image={width:t,height:e},this.magFilter=void 0!==o?o:1003,this.minFilter=void 0!==s?s:1003,this.flipY=!1,this.generateMipmaps=!1}function wF(t){OL.call(this),this.type="WireframeGeometry";var e,n,i,r,a,o,s,l,c,u,h=[],d=[0,0],f={},p=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,i=m.length;e<i;e++){var v=m[e];for(n=0;n<3;n++)s=v[p[n]],l=v[p[(n+1)%3]],d[0]=Math.min(s,l),d[1]=Math.max(s,l),void 0===f[c=d[0]+","+d[1]]&&(f[c]={index1:d[0],index2:d[1]})}for(c in f)h.push((u=t.vertices[(o=f[c]).index1]).x,u.y,u.z),h.push((u=t.vertices[o.index2]).x,u.y,u.z)}else if(t&&t.isBufferGeometry){var g,y,_,b,x;if(u=new jP,null!==t.index){for(g=t.attributes.position,y=t.index,0===(_=t.groups).length&&(_=[{start:0,count:y.count,materialIndex:0}]),r=0,a=_.length;r<a;++r)for(e=x=(b=_[r]).start,i=x+b.count;e<i;e+=3)for(n=0;n<3;n++)s=y.getX(e+n),l=y.getX(e+(n+1)%3),d[0]=Math.min(s,l),d[1]=Math.max(s,l),void 0===f[c=d[0]+","+d[1]]&&(f[c]={index1:d[0],index2:d[1]});for(c in f)u.fromBufferAttribute(g,(o=f[c]).index1),h.push(u.x,u.y,u.z),u.fromBufferAttribute(g,o.index2),h.push(u.x,u.y,u.z)}else for(e=0,i=(g=t.attributes.position).count/3;e<i;e++)for(n=0;n<3;n++)u.fromBufferAttribute(g,3*e+n),h.push(u.x,u.y,u.z),u.fromBufferAttribute(g,3*e+(n+1)%3),h.push(u.x,u.y,u.z)}this.setAttribute("position",new xL(h,3))}function CF(t,e,n){iI.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new kF(t,e,n)),this.mergeVertices()}function kF(t,e,n){OL.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i,r,a=[],o=[],s=[],l=[],c=new jP,u=new jP,h=new jP,d=new jP,f=new jP;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var p=e+1;for(i=0;i<=n;i++){var m=i/n;for(r=0;r<=e;r++){var v=r/e;t(v,m,u),o.push(u.x,u.y,u.z),v-1e-5>=0?(t(v-1e-5,m,h),d.subVectors(u,h)):(t(v+1e-5,m,h),d.subVectors(h,u)),m-1e-5>=0?(t(v,m-1e-5,h),f.subVectors(u,h)):(t(v,m+1e-5,h),f.subVectors(h,u)),c.crossVectors(d,f).normalize(),s.push(c.x,c.y,c.z),l.push(v,m)}}for(i=0;i<n;i++)for(r=0;r<e;r++){var g=i*p+r+1,y=(i+1)*p+r+1,_=(i+1)*p+r;a.push(i*p+r,g,_),a.push(g,y,_)}this.setIndex(a),this.setAttribute("position",new xL(o,3)),this.setAttribute("normal",new xL(s,3)),this.setAttribute("uv",new xL(l,2))}function SF(t,e,n,i){iI.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},this.fromBufferGeometry(new EF(t,e,n,i)),this.mergeVertices()}function EF(t,e,n,i){OL.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},n=n||1;var r=[],a=[];function o(t,e,n,i){var r,a,o=Math.pow(2,i),l=[];for(r=0;r<=o;r++){l[r]=[];var c=t.clone().lerp(n,r/o),u=e.clone().lerp(n,r/o),h=o-r;for(a=0;a<=h;a++)l[r][a]=0===a&&r===o?c:c.clone().lerp(u,a/h)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var d=Math.floor(a/2);a%2==0?(s(l[r][d+1]),s(l[r+1][d]),s(l[r][d])):(s(l[r][d+1]),s(l[r+1][d+1]),s(l[r+1][d]))}}function s(t){r.push(t.x,t.y,t.z)}function l(e,n){var i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function c(t,e,n,i){i<0&&1===t.x&&(a[e]=t.x-1),0===n.x&&0===n.z&&(a[e]=i/2/Math.PI+.5)}function u(t){return Math.atan2(t.z,-t.x)}!function(t){for(var n=new jP,i=new jP,r=new jP,a=0;a<e.length;a+=3)l(e[a+0],n),l(e[a+1],i),l(e[a+2],r),o(n,i,r,t)}(i=i||0),function(t){for(var e=new jP,n=0;n<r.length;n+=3)e.x=r[n+0],e.y=r[n+1],e.z=r[n+2],e.normalize().multiplyScalar(t),r[n+0]=e.x,r[n+1]=e.y,r[n+2]=e.z}(n),function(){for(var t=new jP,e=0;e<r.length;e+=3){t.x=r[e+0],t.y=r[e+1],t.z=r[e+2];var n=u(t)/2/Math.PI+.5,i=(o=t,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);a.push(n,1-i)}var o;(function(){for(var t=new jP,e=new jP,n=new jP,i=new jP,o=new RP,s=new RP,l=new RP,h=0,d=0;h<r.length;h+=9,d+=6){t.set(r[h+0],r[h+1],r[h+2]),e.set(r[h+3],r[h+4],r[h+5]),n.set(r[h+6],r[h+7],r[h+8]),o.set(a[d+0],a[d+1]),s.set(a[d+2],a[d+3]),l.set(a[d+4],a[d+5]),i.copy(t).add(e).add(n).divideScalar(3);var f=u(i);c(o,d+0,t,f),c(s,d+2,e,f),c(l,d+4,n,f)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],n=a[t+2],i=a[t+4],r=Math.max(e,n,i),o=Math.min(e,n,i);r>.9&&o<.1&&(e<.2&&(a[t+0]+=1),n<.2&&(a[t+2]+=1),i<.2&&(a[t+4]+=1))}}()}(),this.setAttribute("position",new xL(r,3)),this.setAttribute("normal",new xL(r.slice(),3)),this.setAttribute("uv",new xL(a,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function TF(t,e){iI.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new MF(t,e)),this.mergeVertices()}function MF(t,e){EF.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function AF(t,e){iI.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new RF(t,e)),this.mergeVertices()}function RF(t,e){EF.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function PF(t,e){iI.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new OF(t,e)),this.mergeVertices()}function OF(t,e){var n=(1+Math.sqrt(5))/2;EF.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function LF(t,e){iI.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new IF(t,e)),this.mergeVertices()}function IF(t,e){var n=(1+Math.sqrt(5))/2,i=1/n;EF.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function DF(t,e,n,i,r,a){iI.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new NF(t,e,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function NF(t,e,n,i,r){OL.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},n=n||1,i=i||8;var a=t.computeFrenetFrames(e=e||64,r=r||!1);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,l=new jP,c=new jP,u=new RP,h=new jP,d=[],f=[],p=[],m=[];function v(r){h=t.getPointAt(r/e,h);var o=a.normals[r],u=a.binormals[r];for(s=0;s<=i;s++){var p=s/i*Math.PI*2,m=Math.sin(p),v=-Math.cos(p);c.x=v*o.x+m*u.x,c.y=v*o.y+m*u.y,c.z=v*o.z+m*u.z,c.normalize(),f.push(c.x,c.y,c.z),l.x=h.x+n*c.x,l.y=h.y+n*c.y,l.z=h.z+n*c.z,d.push(l.x,l.y,l.z)}}!function(){for(o=0;o<e;o++)v(o);v(!1===r?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=i;s++)u.x=o/e,u.y=s/i,p.push(u.x,u.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=i;o++){var t=(i+1)*s+(o-1),n=(i+1)*s+o,r=(i+1)*(s-1)+o;m.push((i+1)*(s-1)+(o-1),t,r),m.push(t,n,r)}}()}(),this.setIndex(m),this.setAttribute("position",new xL(d,3)),this.setAttribute("normal",new xL(f,3)),this.setAttribute("uv",new xL(p,2))}function FF(t,e,n,i,r,a,o){iI.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new zF(t,e,n,i,r,a)),this.mergeVertices()}function zF(t,e,n,i,r,a){OL.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:a},t=t||1,e=e||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,a=a||3;var o,s,l=[],c=[],u=[],h=[],d=new jP,f=new jP,p=new jP,m=new jP,v=new jP,g=new jP,y=new jP;for(o=0;o<=n;++o){var _=o/n*r*Math.PI*2;for(E(_,r,a,t,p),E(_+.01,r,a,t,m),g.subVectors(m,p),y.addVectors(m,p),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=i;++s){var b=s/i*Math.PI*2,x=-e*Math.cos(b),w=e*Math.sin(b);d.x=p.x+(x*y.x+w*v.x),d.y=p.y+(x*y.y+w*v.y),d.z=p.z+(x*y.z+w*v.z),c.push(d.x,d.y,d.z),f.subVectors(d,p).normalize(),u.push(f.x,f.y,f.z),h.push(o/n),h.push(s/i)}}for(s=1;s<=n;s++)for(o=1;o<=i;o++){var C=(i+1)*s+(o-1),k=(i+1)*s+o,S=(i+1)*(s-1)+o;l.push((i+1)*(s-1)+(o-1),C,S),l.push(C,k,S)}function E(t,e,n,i,r){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,l=Math.cos(s);r.x=i*(2+l)*.5*a,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(s)*.5}this.setIndex(l),this.setAttribute("position",new xL(c,3)),this.setAttribute("normal",new xL(u,3)),this.setAttribute("uv",new xL(h,2))}function VF(t,e,n,i,r){iI.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new BF(t,e,n,i,r)),this.mergeVertices()}function BF(t,e,n,i,r){OL.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},t=t||1,e=e||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var a,o,s=[],l=[],c=[],u=[],h=new jP,d=new jP,f=new jP;for(a=0;a<=n;a++)for(o=0;o<=i;o++){var p=o/i*r,m=a/n*Math.PI*2;d.x=(t+e*Math.cos(m))*Math.cos(p),d.y=(t+e*Math.cos(m))*Math.sin(p),d.z=e*Math.sin(m),l.push(d.x,d.y,d.z),h.x=t*Math.cos(p),h.y=t*Math.sin(p),f.subVectors(d,h).normalize(),c.push(f.x,f.y,f.z),u.push(o/i),u.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=i;o++){var v=(i+1)*(a-1)+o-1,g=(i+1)*(a-1)+o,y=(i+1)*a+o;s.push((i+1)*a+o-1,v,y),s.push(v,g,y)}this.setIndex(s),this.setAttribute("position",new xL(l,3)),this.setAttribute("normal",new xL(c,3)),this.setAttribute("uv",new xL(u,2))}function jF(t,e,n,i,r){var a,o;if(r===function(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}(t,e,n,i)>0)for(a=e;a<n;a+=i)o=az(a,t[a],t[a+1],o);else for(a=n-i;a>=e;a-=i)o=az(a,t[a],t[a+1],o);return o&&ez(o,o.next)&&(oz(o),o=o.next),o}function UF(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!ez(i,i.next)&&0!==tz(i.prev,i,i.next))i=i.next;else{if(oz(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function HF(t,e,n,i,r,a,o){if(t){!o&&a&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=QF(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,a,o,s,l,c=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,i=n,s=0,e=0;e<c&&(s++,i=i.nextZ);e++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,c*=2}while(o>1)}(r)}(t,i,r,a);for(var s,l,c=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?WF(t,i,r,a):GF(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),oz(t),t=l.next,c=l.next;else if((t=l)===c){o?1===o?HF(t=qF(t,e,n),e,n,i,r,a,2):2===o&&YF(t,e,n,i,r,a):HF(UF(t),e,n,i,r,a,1);break}}}function GF(t){var e=t.prev,n=t,i=t.next;if(tz(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(KF(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&tz(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function WF(t,e,n,i){var r=t.prev,a=t,o=t.next;if(tz(r,a,o)>=0)return!1;for(var s=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,l=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,c=QF(r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,e,n,i),u=QF(s,l,e,n,i),h=t.prevZ,d=t.nextZ;h&&h.z>=c&&d&&d.z<=u;){if(h!==t.prev&&h!==t.next&&KF(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&tz(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==t.prev&&d!==t.next&&KF(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&tz(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=c;){if(h!==t.prev&&h!==t.next&&KF(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&tz(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=u;){if(d!==t.prev&&d!==t.next&&KF(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&tz(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function qF(t,e,n){var i=t;do{var r=i.prev,a=i.next.next;!ez(r,a)&&nz(r,i,i.next,a)&&iz(r,a)&&iz(a,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(a.i/n),oz(i),oz(i.next),i=t=a),i=i.next}while(i!==t);return i}function YF(t,e,n,i,r,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&$F(o,s)){var l=rz(o,s);return o=UF(o,o.next),l=UF(l,l.next),HF(o,e,n,i,r,a),void HF(l,e,n,i,r,a)}s=s.next}o=o.next}while(o!==t)}function XF(t,e){return t.x-e.x}function ZF(t,e){if(e=function(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o){if(o=s,s===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===o)return n.prev;var l,c=n,u=n.x,h=n.y,d=1/0;for(i=n.next;i!==c;)r>=i.x&&i.x>=u&&r!==i.x&&KF(a<h?r:o,a,u,h,a<h?o:r,a,i.x,i.y)&&((l=Math.abs(a-i.y)/(r-i.x))<d||l===d&&i.x>n.x)&&iz(i,t)&&(n=i,d=l),i=i.next;return n}(t,e)){var n=rz(e,t);UF(n,n.next)}}function QF(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function JF(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function KF(t,e,n,i,r,a,o,s){return(r-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(i-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(r-o)*(i-s)>=0}function $F(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&nz(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&iz(t,e)&&iz(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}function tz(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ez(t,e){return t.x===e.x&&t.y===e.y}function nz(t,e,n,i){return!!(ez(t,n)&&ez(e,i)||ez(t,i)&&ez(n,e))||tz(t,e,n)>0!=tz(t,e,i)>0&&tz(n,i,t)>0!=tz(n,i,e)>0}function iz(t,e){return tz(t.prev,t,t.next)<0?tz(t,e,t.next)>=0&&tz(t,t.prev,e)>=0:tz(t,e,t.prev)<0||tz(t,t.next,e)<0}function rz(t,e){var n=new sz(t.i,t.x,t.y),i=new sz(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function az(t,e,n,i){var r=new sz(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function oz(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function sz(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}vF.prototype=Object.assign(Object.create(fO.prototype),{constructor:vF,isPoints:!0,raycast:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),pF.copy(n.boundingSphere),pF.applyMatrix4(i),pF.radius+=r,!1!==t.ray.intersectsSphere(pF)){dF.getInverse(i),fF.copy(t.ray).applyMatrix4(dF);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position.array;if(null!==s)for(var c=s.array,u=0,h=c.length;u<h;u++){var d=c[u];mF.fromArray(l,3*d),gF(mF,d,o,i,t,e,this)}else{u=0;for(var f=l.length/3;u<f;u++)mF.fromArray(l,3*u),gF(mF,u,o,i,t,e,this)}}else{var p=n.vertices;for(u=0,f=p.length;u<f;u++)gF(p[u],u,o,i,t,e,this)}}},updateMorphTargets:function(){var t,e,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)n=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),yF.prototype=Object.assign(Object.create(IP.prototype),{constructor:yF,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),(_F.prototype=Object.create(IP.prototype)).constructor=_F,_F.prototype.isCompressedTexture=!0,(bF.prototype=Object.create(IP.prototype)).constructor=bF,bF.prototype.isCanvasTexture=!0,(xF.prototype=Object.create(IP.prototype)).constructor=xF,xF.prototype.isDepthTexture=!0,(wF.prototype=Object.create(OL.prototype)).constructor=wF,(CF.prototype=Object.create(iI.prototype)).constructor=CF,(kF.prototype=Object.create(OL.prototype)).constructor=kF,(SF.prototype=Object.create(iI.prototype)).constructor=SF,(EF.prototype=Object.create(OL.prototype)).constructor=EF,(TF.prototype=Object.create(iI.prototype)).constructor=TF,(MF.prototype=Object.create(EF.prototype)).constructor=MF,(AF.prototype=Object.create(iI.prototype)).constructor=AF,(RF.prototype=Object.create(EF.prototype)).constructor=RF,(PF.prototype=Object.create(iI.prototype)).constructor=PF,(OF.prototype=Object.create(EF.prototype)).constructor=OF,(LF.prototype=Object.create(iI.prototype)).constructor=LF,(IF.prototype=Object.create(EF.prototype)).constructor=IF,(DF.prototype=Object.create(iI.prototype)).constructor=DF,(NF.prototype=Object.create(OL.prototype)).constructor=NF,NF.prototype.toJSON=function(){var t=OL.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},(FF.prototype=Object.create(iI.prototype)).constructor=FF,(zF.prototype=Object.create(OL.prototype)).constructor=zF,(VF.prototype=Object.create(iI.prototype)).constructor=VF,(BF.prototype=Object.create(OL.prototype)).constructor=BF;var lz={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return lz.area(t)<0},triangulateShape:function(t,e){var n=[],i=[],r=[];cz(t),uz(n,t);var a=t.length;e.forEach(cz);for(var o=0;o<e.length;o++)i.push(a),a+=e[o].length,uz(n,e[o]);var s=function(t,e,n){n=n||2;var i,r,a,o,s,l,c,u=e&&e.length,h=u?e[0]*n:t.length,d=jF(t,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(u&&(d=function(t,e,n,i){var r,a,o,s=[];for(r=0,a=e.length;r<a;r++)(o=jF(t,e[r]*i,r<a-1?e[r+1]*i:t.length,i,!1))===o.next&&(o.steiner=!0),s.push(JF(o));for(s.sort(XF),r=0;r<s.length;r++)ZF(s[r],n),n=UF(n,n.next);return n}(t,e,d,n)),t.length>80*n){i=a=t[0],r=o=t[1];for(var p=n;p<h;p+=n)(s=t[p])<i&&(i=s),(l=t[p+1])<r&&(r=l),s>a&&(a=s),l>o&&(o=l);c=0!==(c=Math.max(a-i,o-r))?1/c:0}return HF(d,f,n,i,r,c),f}(n,i);for(o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};function cz(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function uz(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function hz(t,e){iI.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new dz(t,e)),this.mergeVertices()}function dz(t,e){OL.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var n=this,i=[],r=[],a=0,o=t.length;a<o;a++)s(t[a]);function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,l=void 0!==e.depth?e.depth:100,c=void 0===e.bevelEnabled||e.bevelEnabled,u=void 0!==e.bevelThickness?e.bevelThickness:6,h=void 0!==e.bevelSize?e.bevelSize:u-2,d=void 0!==e.bevelOffset?e.bevelOffset:0,f=void 0!==e.bevelSegments?e.bevelSegments:3,p=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:fz;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=e.amount);var v,g,y,_,b,x,w,C,k=!1;p&&(v=p.getSpacedPoints(s),k=!0,c=!1,g=p.computeFrenetFrames(s,!1),y=new jP,_=new jP,b=new jP),c||(f=0,u=0,h=0,d=0);var S=t.extractPoints(o),E=S.shape,T=S.holes;if(!lz.isClockWise(E))for(E=E.reverse(),w=0,C=T.length;w<C;w++)lz.isClockWise(x=T[w])&&(T[w]=x.reverse());var M=lz.triangulateShape(E,T),A=E;for(w=0,C=T.length;w<C;w++)E=E.concat(x=T[w]);function R(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var P,O,L,I,D,N,F=E.length,z=M.length;function V(t,e,n){var i,r,a,o=t.x-e.x,s=t.y-e.y,l=n.x-t.x,c=n.y-t.y,u=o*o+s*s;if(Math.abs(o*c-s*l)>Number.EPSILON){var h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),f=e.x-s/h,p=e.y+o/h,m=((n.x-c/d-f)*c-(n.y+l/d-p)*l)/(o*c-s*l),v=(i=f+o*m-t.x)*i+(r=p+s*m-t.y)*r;if(v<=2)return new RP(i,r);a=Math.sqrt(v/2)}else{var g=!1;o>Number.EPSILON?l>Number.EPSILON&&(g=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(g=!0):Math.sign(s)===Math.sign(c)&&(g=!0),g?(i=-s,r=o,a=Math.sqrt(u)):(i=o,r=s,a=Math.sqrt(u/2))}return new RP(i/a,r/a)}for(var B=[],j=0,U=A.length,H=U-1,G=j+1;j<U;j++,H++,G++)H===U&&(H=0),G===U&&(G=0),B[j]=V(A[j],A[H],A[G]);var W,q,Y=[],X=B.concat();for(w=0,C=T.length;w<C;w++){for(W=[],H=(U=(x=T[w]).length)-1,G=1+(j=0);j<U;j++,H++,G++)H===U&&(H=0),G===U&&(G=0),W[j]=V(x[j],x[H],x[G]);Y.push(W),X=X.concat(W)}for(P=0;P<f;P++){for(L=P/f,I=u*Math.cos(L*Math.PI/2),O=h*Math.sin(L*Math.PI/2)+d,j=0,U=A.length;j<U;j++)Q((D=R(A[j],B[j],O)).x,D.y,-I);for(w=0,C=T.length;w<C;w++)for(W=Y[w],j=0,U=(x=T[w]).length;j<U;j++)Q((D=R(x[j],W[j],O)).x,D.y,-I)}for(O=h+d,j=0;j<F;j++)D=c?R(E[j],X[j],O):E[j],k?(_.copy(g.normals[0]).multiplyScalar(D.x),y.copy(g.binormals[0]).multiplyScalar(D.y),b.copy(v[0]).add(_).add(y),Q(b.x,b.y,b.z)):Q(D.x,D.y,0);for(q=1;q<=s;q++)for(j=0;j<F;j++)D=c?R(E[j],X[j],O):E[j],k?(_.copy(g.normals[q]).multiplyScalar(D.x),y.copy(g.binormals[q]).multiplyScalar(D.y),b.copy(v[q]).add(_).add(y),Q(b.x,b.y,b.z)):Q(D.x,D.y,l/s*q);for(P=f-1;P>=0;P--){for(L=P/f,I=u*Math.cos(L*Math.PI/2),O=h*Math.sin(L*Math.PI/2)+d,j=0,U=A.length;j<U;j++)Q((D=R(A[j],B[j],O)).x,D.y,l+I);for(w=0,C=T.length;w<C;w++)for(W=Y[w],j=0,U=(x=T[w]).length;j<U;j++)D=R(x[j],W[j],O),k?Q(D.x,D.y+v[s-1].y,v[s-1].x+I):Q(D.x,D.y,l+I)}function Z(t,e){var n,i;for(j=t.length;--j>=0;){n=j,(i=j-1)<0&&(i=t.length-1);var r=0,a=s+2*f;for(r=0;r<a;r++){var o=F*r,l=F*(r+1);K(e+n+o,e+i+o,e+i+l,e+n+l)}}}function Q(t,e,n){a.push(t),a.push(e),a.push(n)}function J(t,e,r){$(t),$(e),$(r);var a=i.length/3,o=m.generateTopUV(n,i,a-3,a-2,a-1);tt(o[0]),tt(o[1]),tt(o[2])}function K(t,e,r,a){$(t),$(e),$(a),$(e),$(r),$(a);var o=i.length/3,s=m.generateSideWallUV(n,i,o-6,o-3,o-2,o-1);tt(s[0]),tt(s[1]),tt(s[3]),tt(s[1]),tt(s[2]),tt(s[3])}function $(t){i.push(a[3*t+0]),i.push(a[3*t+1]),i.push(a[3*t+2])}function tt(t){r.push(t.x),r.push(t.y)}!function(){var t=i.length/3;if(c){var e=0,r=F*e;for(j=0;j<z;j++)J((N=M[j])[2]+r,N[1]+r,N[0]+r);for(r=F*(e=s+2*f),j=0;j<z;j++)J((N=M[j])[0]+r,N[1]+r,N[2]+r)}else{for(j=0;j<z;j++)J((N=M[j])[2],N[1],N[0]);for(j=0;j<z;j++)J((N=M[j])[0]+F*s,N[1]+F*s,N[2]+F*s)}n.addGroup(t,i.length/3-t,0)}(),function(){var t=i.length/3,e=0;for(Z(A,e),e+=A.length,w=0,C=T.length;w<C;w++)Z(x=T[w],e),e+=x.length;n.addGroup(t,i.length/3-t,1)}()}this.setAttribute("position",new xL(i,3)),this.setAttribute("uv",new xL(r,2)),this.computeVertexNormals()}(hz.prototype=Object.create(iI.prototype)).constructor=hz,hz.prototype.toJSON=function(){var t=iI.prototype.toJSON.call(this);return pz(this.parameters.shapes,this.parameters.options,t)},(dz.prototype=Object.create(OL.prototype)).constructor=dz,dz.prototype.toJSON=function(){var t=OL.prototype.toJSON.call(this);return pz(this.parameters.shapes,this.parameters.options,t)};var fz={generateTopUV:function(t,e,n,i,r){var a=e[3*i],o=e[3*i+1],s=e[3*r],l=e[3*r+1];return[new RP(e[3*n],e[3*n+1]),new RP(a,o),new RP(s,l)]},generateSideWallUV:function(t,e,n,i,r,a){var o=e[3*n],s=e[3*n+1],l=e[3*n+2],c=e[3*i],u=e[3*i+1],h=e[3*i+2],d=e[3*r],f=e[3*r+1],p=e[3*r+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-u)<.01?[new RP(o,1-l),new RP(c,1-h),new RP(d,1-p),new RP(m,1-g)]:[new RP(s,1-l),new RP(u,1-h),new RP(f,1-p),new RP(v,1-g)]}};function pz(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++)n.shapes.push(t[i].uuid);else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function mz(t,e){iI.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new vz(t,e)),this.mergeVertices()}function vz(t,e){var n=(e=e||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new iI;var i=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),dz.call(this,i,e),this.type="TextBufferGeometry"}function gz(t,e,n,i,r,a,o){iI.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new yz(t,e,n,i,r,a,o)),this.mergeVertices()}function yz(t,e,n,i,r,a,o){OL.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,l,c=Math.min(a+o,Math.PI),u=0,h=[],d=new jP,f=new jP,p=[],m=[],v=[],g=[];for(l=0;l<=n;l++){var y=[],_=l/n,b=0;for(0==l&&0==a?b=.5/e:l==n&&c==Math.PI&&(b=-.5/e),s=0;s<=e;s++){var x=s/e;d.x=-t*Math.cos(i+x*r)*Math.sin(a+_*o),d.y=t*Math.cos(a+_*o),d.z=t*Math.sin(i+x*r)*Math.sin(a+_*o),m.push(d.x,d.y,d.z),f.copy(d).normalize(),v.push(f.x,f.y,f.z),g.push(x+b,1-_),y.push(u++)}h.push(y)}for(l=0;l<n;l++)for(s=0;s<e;s++){var w=h[l][s],C=h[l+1][s],k=h[l+1][s+1];(0!==l||a>0)&&p.push(h[l][s+1],w,k),(l!==n-1||c<Math.PI)&&p.push(w,C,k)}this.setIndex(p),this.setAttribute("position",new xL(m,3)),this.setAttribute("normal",new xL(v,3)),this.setAttribute("uv",new xL(g,2))}function _z(t,e,n,i,r,a){iI.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new bz(t,e,n,i,r,a)),this.mergeVertices()}function bz(t,e,n,i,r,a){OL.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},t=t||.5,e=e||1,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,l,c=[],u=[],h=[],d=[],f=t,p=(e-t)/(i=void 0!==i?Math.max(1,i):1),m=new jP,v=new RP;for(s=0;s<=i;s++){for(l=0;l<=n;l++)o=r+l/n*a,m.x=f*Math.cos(o),m.y=f*Math.sin(o),u.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,d.push(v.x,v.y);f+=p}for(s=0;s<i;s++){var g=s*(n+1);for(l=0;l<n;l++){var y=(o=l+g)+n+1,_=o+n+2,b=o+1;c.push(o,y,b),c.push(y,_,b)}}this.setIndex(c),this.setAttribute("position",new xL(u,3)),this.setAttribute("normal",new xL(h,3)),this.setAttribute("uv",new xL(d,2))}function xz(t,e,n,i){iI.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},this.fromBufferGeometry(new wz(t,e,n,i)),this.mergeVertices()}function wz(t,e,n,i){OL.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e)||12,n=n||0,i=i||2*Math.PI,i=AP.clamp(i,0,2*Math.PI);var r,a,o,s=[],l=[],c=[],u=1/e,h=new jP,d=new RP;for(a=0;a<=e;a++){var f=n+a*u*i,p=Math.sin(f),m=Math.cos(f);for(o=0;o<=t.length-1;o++)h.x=t[o].x*p,h.y=t[o].y,h.z=t[o].x*m,l.push(h.x,h.y,h.z),d.x=a/e,d.y=o/(t.length-1),c.push(d.x,d.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var v=(r=o+a*t.length)+t.length,g=r+t.length+1,y=r+1;s.push(r,v,y),s.push(v,g,y)}if(this.setIndex(s),this.setAttribute("position",new xL(l,3)),this.setAttribute("uv",new xL(c,2)),this.computeVertexNormals(),i===2*Math.PI){var _=this.attributes.normal.array,b=new jP,x=new jP,w=new jP;for(r=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)b.x=_[o+0],b.y=_[o+1],b.z=_[o+2],x.x=_[r+o+0],x.y=_[r+o+1],x.z=_[r+o+2],w.addVectors(b,x).normalize(),_[o+0]=_[r+o+0]=w.x,_[o+1]=_[r+o+1]=w.y,_[o+2]=_[r+o+2]=w.z}}function Cz(t,e){iI.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new kz(t,e)),this.mergeVertices()}function kz(t,e){OL.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var n=[],i=[],r=[],a=[],o=0,s=0;if(!1===Array.isArray(t))c(t);else for(var l=0;l<t.length;l++)c(t[l]),this.addGroup(o,s,l),o+=s,s=0;function c(t){var o,l,c,u=i.length/3,h=t.extractPoints(e),d=h.shape,f=h.holes;for(!1===lz.isClockWise(d)&&(d=d.reverse()),o=0,l=f.length;o<l;o++)!0===lz.isClockWise(c=f[o])&&(f[o]=c.reverse());var p=lz.triangulateShape(d,f);for(o=0,l=f.length;o<l;o++)d=d.concat(c=f[o]);for(o=0,l=d.length;o<l;o++){var m=d[o];i.push(m.x,m.y,0),r.push(0,0,1),a.push(m.x,m.y)}for(o=0,l=p.length;o<l;o++){var v=p[o];n.push(v[0]+u,v[1]+u,v[2]+u),s+=3}}this.setIndex(n),this.setAttribute("position",new xL(i,3)),this.setAttribute("normal",new xL(r,3)),this.setAttribute("uv",new xL(a,2))}function Sz(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e.shapes.push(t[n].uuid);else e.shapes.push(t.uuid);return e}function Ez(t,e){OL.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,i,r,a,o=[],s=Math.cos(AP.DEG2RAD*e),l=[0,0],c={},u=["a","b","c"];t.isBufferGeometry?(a=new iI).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var h=a.vertices,d=a.faces,f=0,p=d.length;f<p;f++)for(var m=d[f],v=0;v<3;v++)n=m[u[v]],i=m[u[(v+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),void 0===c[r=l[0]+","+l[1]]?c[r]={index1:l[0],index2:l[1],face1:f,face2:void 0}:c[r].face2=f;for(r in c){var g=c[r];if(void 0===g.face2||d[g.face1].normal.dot(d[g.face2].normal)<=s){var y=h[g.index1];o.push(y.x,y.y,y.z),o.push((y=h[g.index2]).x,y.y,y.z)}}this.setAttribute("position",new xL(o,3))}function Tz(t,e,n,i,r,a,o,s){iI.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Mz(t,e,n,i,r,a,o,s)),this.mergeVertices()}function Mz(t,e,n,i,r,a,o,s){OL.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};var l=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var c=[],u=[],h=[],d=[],f=0,p=[],m=n/2,v=0;function g(n){var r,a,p,g=new RP,y=new jP,_=0,b=!0===n?t:e,x=!0===n?1:-1;for(a=f,r=1;r<=i;r++)u.push(0,m*x,0),h.push(0,x,0),d.push(.5,.5),f++;for(p=f,r=0;r<=i;r++){var w=r/i*s+o,C=Math.cos(w),k=Math.sin(w);y.x=b*k,y.y=m*x,y.z=b*C,u.push(y.x,y.y,y.z),h.push(0,x,0),g.x=.5*C+.5,g.y=.5*k*x+.5,d.push(g.x,g.y),f++}for(r=0;r<i;r++){var S=a+r,E=p+r;!0===n?c.push(E,E+1,S):c.push(E+1,E,S),_+=3}l.addGroup(v,_,!0===n?1:2),v+=_}!function(){var a,g,y=new jP,_=new jP,b=0,x=(e-t)/n;for(g=0;g<=r;g++){var w=[],C=g/r,k=C*(e-t)+t;for(a=0;a<=i;a++){var S=a/i,E=S*s+o,T=Math.sin(E),M=Math.cos(E);_.x=k*T,_.y=-C*n+m,_.z=k*M,u.push(_.x,_.y,_.z),y.set(T,x,M).normalize(),h.push(y.x,y.y,y.z),d.push(S,1-C),w.push(f++)}p.push(w)}for(a=0;a<i;a++)for(g=0;g<r;g++){var A=p[g+1][a],R=p[g+1][a+1],P=p[g][a+1];c.push(p[g][a],A,P),c.push(A,R,P),b+=6}l.addGroup(v,b,0),v+=b}(),!1===a&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(c),this.setAttribute("position",new xL(u,3)),this.setAttribute("normal",new xL(h,3)),this.setAttribute("uv",new xL(d,2))}function Az(t,e,n,i,r,a,o){Tz.call(this,0,t,e,n,i,r,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function Rz(t,e,n,i,r,a,o){Mz.call(this,0,t,e,n,i,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function Pz(t,e,n,i){iI.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Oz(t,e,n,i)),this.mergeVertices()}function Oz(t,e,n,i){OL.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r,a,o=[],s=[],l=[],c=[],u=new jP,h=new RP;for(s.push(0,0,0),l.push(0,0,1),c.push(.5,.5),a=0,r=3;a<=e;a++,r+=3){var d=n+a/e*i;u.x=t*Math.cos(d),u.y=t*Math.sin(d),s.push(u.x,u.y,u.z),l.push(0,0,1),h.x=(s[r]/t+1)/2,h.y=(s[r+1]/t+1)/2,c.push(h.x,h.y)}for(r=1;r<=e;r++)o.push(r,r+1,0);this.setIndex(o),this.setAttribute("position",new xL(s,3)),this.setAttribute("normal",new xL(l,3)),this.setAttribute("uv",new xL(c,2))}(mz.prototype=Object.create(iI.prototype)).constructor=mz,(vz.prototype=Object.create(dz.prototype)).constructor=vz,(gz.prototype=Object.create(iI.prototype)).constructor=gz,(yz.prototype=Object.create(OL.prototype)).constructor=yz,(_z.prototype=Object.create(iI.prototype)).constructor=_z,(bz.prototype=Object.create(OL.prototype)).constructor=bz,(xz.prototype=Object.create(iI.prototype)).constructor=xz,(wz.prototype=Object.create(OL.prototype)).constructor=wz,(Cz.prototype=Object.create(iI.prototype)).constructor=Cz,Cz.prototype.toJSON=function(){var t=iI.prototype.toJSON.call(this);return Sz(this.parameters.shapes,t)},(kz.prototype=Object.create(OL.prototype)).constructor=kz,kz.prototype.toJSON=function(){var t=OL.prototype.toJSON.call(this);return Sz(this.parameters.shapes,t)},(Ez.prototype=Object.create(OL.prototype)).constructor=Ez,(Tz.prototype=Object.create(iI.prototype)).constructor=Tz,(Mz.prototype=Object.create(OL.prototype)).constructor=Mz,(Az.prototype=Object.create(Tz.prototype)).constructor=Az,(Rz.prototype=Object.create(Mz.prototype)).constructor=Rz,(Pz.prototype=Object.create(iI.prototype)).constructor=Pz,(Oz.prototype=Object.create(OL.prototype)).constructor=Oz;var Lz=Object.freeze({__proto__:null,WireframeGeometry:wF,ParametricGeometry:CF,ParametricBufferGeometry:kF,TetrahedronGeometry:TF,TetrahedronBufferGeometry:MF,OctahedronGeometry:AF,OctahedronBufferGeometry:RF,IcosahedronGeometry:PF,IcosahedronBufferGeometry:OF,DodecahedronGeometry:LF,DodecahedronBufferGeometry:IF,PolyhedronGeometry:SF,PolyhedronBufferGeometry:EF,TubeGeometry:DF,TubeBufferGeometry:NF,TorusKnotGeometry:FF,TorusKnotBufferGeometry:zF,TorusGeometry:VF,TorusBufferGeometry:BF,TextGeometry:mz,TextBufferGeometry:vz,SphereGeometry:gz,SphereBufferGeometry:yz,RingGeometry:_z,RingBufferGeometry:bz,PlaneGeometry:bI,PlaneBufferGeometry:xI,LatheGeometry:xz,LatheBufferGeometry:wz,ShapeGeometry:Cz,ShapeBufferGeometry:kz,ExtrudeGeometry:hz,ExtrudeBufferGeometry:dz,EdgesGeometry:Ez,ConeGeometry:Az,ConeBufferGeometry:Rz,CylinderGeometry:Tz,CylinderBufferGeometry:Mz,CircleGeometry:Pz,CircleBufferGeometry:Oz,BoxGeometry:function(t){function e(t,n,i,r,a,o){var s;return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).type="BoxGeometry",s.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:o},s.fromBufferGeometry(new rI(t,n,i,r,a,o)),s.mergeVertices(),s}return _inherits(e,t),e}(iI),BoxBufferGeometry:rI});function Iz(t){uL.call(this),this.type="ShadowMaterial",this.color=new rL(0),this.transparent=!0,this.setValues(t)}function Dz(t){lI.call(this,t),this.type="RawShaderMaterial"}function Nz(t){uL.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new rL(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rL(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Fz(t){Nz.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new RP(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(t)}function zz(t){uL.call(this),this.type="MeshPhongMaterial",this.color=new rL(16777215),this.specular=new rL(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rL(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Vz(t){uL.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new rL(16777215),this.specular=new rL(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rL(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Bz(t){uL.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function jz(t){uL.call(this),this.type="MeshLambertMaterial",this.color=new rL(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rL(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Uz(t){uL.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new rL(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Hz(t){tF.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}(Iz.prototype=Object.create(uL.prototype)).constructor=Iz,Iz.prototype.isShadowMaterial=!0,Iz.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.color.copy(t.color),this},(Dz.prototype=Object.create(lI.prototype)).constructor=Dz,Dz.prototype.isRawShaderMaterial=!0,(Nz.prototype=Object.create(uL.prototype)).constructor=Nz,Nz.prototype.isMeshStandardMaterial=!0,Nz.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(Fz.prototype=Object.create(Nz.prototype)).constructor=Fz,Fz.prototype.isMeshPhysicalMaterial=!0,Fz.prototype.copy=function(t){return Nz.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearcoat=t.clearcoat,this.clearcoatRoughness=t.clearcoatRoughness,this.sheen=t.sheen?(this.sheen||new rL).copy(t.sheen):null,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.transparency=t.transparency,this},(zz.prototype=Object.create(uL.prototype)).constructor=zz,zz.prototype.isMeshPhongMaterial=!0,zz.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(Vz.prototype=Object.create(uL.prototype)).constructor=Vz,Vz.prototype.isMeshToonMaterial=!0,Vz.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(Bz.prototype=Object.create(uL.prototype)).constructor=Bz,Bz.prototype.isMeshNormalMaterial=!0,Bz.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(jz.prototype=Object.create(uL.prototype)).constructor=jz,jz.prototype.isMeshLambertMaterial=!0,jz.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(Uz.prototype=Object.create(uL.prototype)).constructor=Uz,Uz.prototype.isMeshMatcapMaterial=!0,Uz.prototype.copy=function(t){return uL.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(Hz.prototype=Object.create(tF.prototype)).constructor=Hz,Hz.prototype.isLineDashedMaterial=!0,Hz.prototype.copy=function(t){return tF.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Gz=Object.freeze({__proto__:null,ShadowMaterial:Iz,SpriteMaterial:EN,RawShaderMaterial:Dz,ShaderMaterial:lI,PointsMaterial:hF,MeshPhysicalMaterial:Fz,MeshStandardMaterial:Nz,MeshPhongMaterial:zz,MeshToonMaterial:Vz,MeshNormalMaterial:Bz,MeshLambertMaterial:jz,MeshDepthMaterial:lN,MeshDistanceMaterial:cN,MeshBasicMaterial:hL,MeshMatcapMaterial:Uz,LineDashedMaterial:Hz,LineBasicMaterial:tF,Material:uL}),Wz={arraySlice:function(t,e,n){return Wz.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),i=0;i!==e;++i)n[i]=i;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*e,l=0;l!==e;++l)r[o++]=t[s+l];return r},flattenJSON:function(t,e,n,i){for(var r=1,a=t[0];void 0!==a&&void 0===a[i];)a=t[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[i])&&(e.push(a.time),n.push.apply(n,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[i])&&(e.push(a.time),o.toArray(n,n.length)),a=t[r++]}while(void 0!==a);else do{void 0!==(o=a[i])&&(e.push(a.time),n.push(o)),a=t[r++]}while(void 0!==a)}},subclip:function(t,e,n,i,r){r=r||30;var a=t.clone();a.name=e;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],c=l.getValueSize(),u=[],h=[],d=0;d<l.times.length;++d){var f=l.times[d]*r;if(!(f<n||f>=i)){u.push(l.times[d]);for(var p=0;p<c;++p)h.push(l.values[d*c+p])}}0!==u.length&&(l.times=Wz.convertArray(u,l.times.constructor),l.values=Wz.convertArray(h,l.values.constructor),o.push(l))}a.tracks=o;var m=1/0;for(s=0;s<a.tracks.length;++s)m>a.tracks[s].times[0]&&(m=a.tracks[s].times[0]);for(s=0;s<a.tracks.length;++s)a.tracks[s].shift(-1*m);return a.resetDuration(),a}};function qz(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Yz(t,e,n,i){qz.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Xz(t,e,n,i){qz.call(this,t,e,n,i)}function Zz(t,e,n,i){qz.call(this,t,e,n,i)}function Qz(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Wz.convertArray(e,this.TimeBufferType),this.values=Wz.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Jz(t,e,n){Qz.call(this,t,e,n)}function Kz(t,e,n,i){Qz.call(this,t,e,n,i)}function $z(t,e,n,i){Qz.call(this,t,e,n,i)}function tV(t,e,n,i){qz.call(this,t,e,n,i)}function eV(t,e,n,i){Qz.call(this,t,e,n,i)}function nV(t,e,n,i){Qz.call(this,t,e,n,i)}function iV(t,e,n,i){Qz.call(this,t,e,n,i)}function rV(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=AP.generateUUID(),this.duration<0&&this.resetDuration()}function aV(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return $z;case"vector":case"vector2":case"vector3":case"vector4":return iV;case"color":return Kz;case"quaternion":return eV;case"bool":case"boolean":return Jz;case"string":return nV}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],i=[];Wz.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(qz.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var a;n:{i:if(!(t<i)){for(var o=n+2;;){if(void 0===i){if(t<r)break i;return this._cachedIndex=n=e.length,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,t<(i=e[++n]))break e}a=e.length;break n}if(t>=r)break t;var s=e[1];for(t<s&&(n=2,r=s),o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===o)break;if(i=r,t>=(r=e[--n-1]))break e}a=n,n=0}for(;n<a;){var l=n+a>>>1;t<e[l]?a=l:n=l+1}if(i=e[n],void 0===(r=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return this._cachedIndex=n=e.length,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,a=0;a!==i;++a)e[a]=n[r+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(qz.prototype,{beforeStart_:qz.prototype.copySampleValue_,afterEnd_:qz.prototype.copySampleValue_}),Yz.prototype=Object.assign(Object.create(qz.prototype),{constructor:Yz,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,a=t+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=t,o=2*e-n;break;case 2402:o=e+i[r=i.length-2]-i[r+1];break;default:r=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=t,s=2*n-e;break;case 2402:a=1,s=n+i[1]-i[0];break;default:a=t-1,s=e}var l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=a*c},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-e)/(i-e),p=f*f,m=p*f,v=-h*m+2*h*p-h*f,g=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,_=d*m-d*p,b=0;b!==o;++b)r[b]=v*a[c+b]+g*a[l+b]+y*a[s+b]+_*a[u+b];return r}}),Xz.prototype=Object.assign(Object.create(qz.prototype),{constructor:Xz,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,c=(n-e)/(i-e),u=1-c,h=0;h!==o;++h)r[h]=a[l+h]*u+a[s+h]*c;return r}}),Zz.prototype=Object.assign(Object.create(qz.prototype),{constructor:Zz,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Qz,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Wz.convertArray(t.times,Array),values:Wz.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}),Object.assign(Qz.prototype,{constructor:Qz,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new Zz(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Xz(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Yz(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<t;)++r;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==r||a!==i){r>=a&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Wz.arraySlice(n,r,a),this.values=Wz.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==i&&Wz.isTypedArray(i)){o=0;for(var l=i.length;o!==l;++o){var c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),t=!1;break}}}return t},optimize:function(){for(var t=Wz.arraySlice(this.times),e=Wz.arraySlice(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=1,a=t.length-1,o=1;o<a;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==l[0]))if(i)s=!0;else for(var c=o*n,u=c-n,h=c+n,d=0;d!==n;++d){var f=e[c+d];if(f!==e[u+d]||f!==e[h+d]){s=!0;break}}if(s){if(o!==r){t[r]=t[o];var p=o*n,m=r*n;for(d=0;d!==n;++d)e[m+d]=e[p+d]}++r}}if(a>0){for(t[r]=t[a],p=a*n,m=r*n,d=0;d!==n;++d)e[m+d]=e[p+d];++r}return r!==t.length?(this.times=Wz.arraySlice(t,0,r),this.values=Wz.arraySlice(e,0,r*n)):(this.times=t,this.values=e),this},clone:function(){var t=Wz.arraySlice(this.times,0),e=Wz.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),Jz.prototype=Object.assign(Object.create(Qz.prototype),{constructor:Jz,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Kz.prototype=Object.assign(Object.create(Qz.prototype),{constructor:Kz,ValueTypeName:"color"}),$z.prototype=Object.assign(Object.create(Qz.prototype),{constructor:$z,ValueTypeName:"number"}),tV.prototype=Object.assign(Object.create(qz.prototype),{constructor:tV,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=(n-e)/(i-e),c=s+o;s!==c;s+=4)zP.slerpFlat(r,0,a,s-o,a,s,l);return r}}),eV.prototype=Object.assign(Object.create(Qz.prototype),{constructor:eV,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new tV(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),nV.prototype=Object.assign(Object.create(Qz.prototype),{constructor:nV,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),iV.prototype=Object.assign(Object.create(Qz.prototype),{constructor:iV,ValueTypeName:"vector"}),Object.assign(rV,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,a=n.length;r!==a;++r)e.push(aV(n[r]).scale(i));return new rV(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},r=0,a=n.length;r!==a;++r)e.push(Qz.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var c=Wz.getKeyframeOrder(s);s=Wz.sortedArray(s,1,c),l=Wz.sortedArray(l,1,c),i||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new $z(".morphTargetInfluences["+e[o].name+"]",s,l).scale(1/n))}return new rV(t,-1,a)},findByName:function(t,e){var n=t;Array.isArray(t)||(n=t.geometry&&t.geometry.animations||t.animations);for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],l=s.name.match(r);if(l&&l.length>1){var c=i[h=l[1]];c||(i[h]=c=[]),c.push(s)}}var u=[];for(var h in i)u.push(rV.CreateFromMorphTargetSequence(h,i[h],e,n));return u},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var a=[],o=[];Wz.flattenJSON(n,a,o,i),0!==a.length&&r.push(new t(e,a,o))}},i=[],r=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)u[c[h].morphTargets[d]]=-1;for(var f in u){var p=[],m=[];for(d=0;d!==c[h].morphTargets.length;++d){var v=c[h];p.push(v.time),m.push(v.morphTarget===f?1:0)}i.push(new $z(".morphTargetInfluence["+f+"]",p,m))}a=u.length*(o||1)}else{var g=".bones["+e[l].name+"]";n(iV,g+".position",c,"pos",i),n(eV,g+".quaternion",c,"rot",i),n(iV,g+".scale",c,"scl",i)}}return 0===i.length?null:new rV(r,a,i)}}),Object.assign(rV.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new rV(this.name,this.duration,t)}});var oV={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function sV(t,e,n){var i=this,r=!1,a=0,o=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===r&&void 0!==i.onStart&&i.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==i.onProgress&&i.onProgress(t,a,o),a===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){var e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=l.length;e<n;e+=2){var i=l[e],r=l[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}}var lV=new sV;function cV(t){this.manager=void 0!==t?t:lV,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(cV.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this}});var uV={};function hV(t){cV.call(this,t)}function dV(t){cV.call(this,t)}function fV(t){cV.call(this,t)}function pV(t){cV.call(this,t)}function mV(t){cV.call(this,t)}function vV(t){cV.call(this,t)}function gV(t){cV.call(this,t)}function yV(){this.type="Curve",this.arcLengthDivisions=200}function _V(t,e,n,i,r,a,o,s){yV.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function bV(t,e,n,i,r,a){_V.call(this,t,e,n,n,i,r,a),this.type="ArcCurve"}function xV(){var t=0,e=0,n=0,i=0;function r(r,a,o,s){t=r,e=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(t,e,n,i,a){r(e,n,a*(n-t),a*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,a,o,s){var l=(e-t)/a-(n-t)/(a+o)+(n-e)/o,c=(n-e)/o-(i-e)/(o+s)+(i-n)/s;r(e,n,l*=o,c*=o)},calc:function(r){var a=r*r;return t+e*r+n*a+i*(a*r)}}}hV.prototype=Object.assign(Object.create(cV.prototype),{constructor:hV,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=oV.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;if(void 0===uV[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],l=!!o[2],c=o[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var u,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(c.length),f=0;f<c.length;f++)d[f]=c.charCodeAt(f);u="blob"===h?new Blob([d.buffer],{type:s}):d.buffer;break;case"document":var p=new DOMParser;u=p.parseFromString(c,s);break;case"json":u=JSON.parse(c);break;default:u=c}setTimeout((function(){e&&e(u),r.manager.itemEnd(t)}),0)}catch(g){setTimeout((function(){i&&i(g),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{uV[t]=[],uV[t].push({onLoad:e,onProgress:n,onError:i});var m=new XMLHttpRequest;for(var v in m.open("GET",t,!0),m.addEventListener("load",(function(e){var n=this.response,i=uV[t];if(delete uV[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),oV.add(t,n);for(var a=0,o=i.length;a<o;a++)(s=i[a]).onLoad&&s.onLoad(n);r.manager.itemEnd(t)}else{for(a=0,o=i.length;a<o;a++){var s;(s=i[a]).onError&&s.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var n=uV[t],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var n=uV[t];delete uV[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var n=uV[t];delete uV[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return r.manager.itemStart(t),m}uV[t].push({onLoad:e,onProgress:n,onError:i})},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),dV.prototype=Object.assign(Object.create(cV.prototype),{constructor:dV,load:function(t,e,n,i){var r=this,a=new hV(r.manager);a.setPath(r.path),a.load(t,(function(t){e(r.parse(JSON.parse(t)))}),n,i)},parse:function(t){for(var e=[],n=0;n<t.length;n++){var i=rV.parse(t[n]);e.push(i)}return e}}),fV.prototype=Object.assign(Object.create(cV.prototype),{constructor:fV,load:function(t,e,n,i){var r=this,a=[],o=new _F;o.image=a;var s=new hV(this.manager);function l(l){s.load(t[l],(function(t){var n=r.parse(t,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(o.minFilter=1006),o.format=n.format,o.needsUpdate=!0,e&&e(o))}),n,i)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,u=0,h=t.length;u<h;++u)l(u);else s.load(t,(function(t){var n=r.parse(t,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=1006),o.format=n.format,o.needsUpdate=!0,e&&e(o)}),n,i);return o}}),pV.prototype=Object.assign(Object.create(cV.prototype),{constructor:pV,load:function(t,e,n,i){var r=this,a=new fI,o=new hV(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var n=r.parse(t);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:1001,a.wrapT=void 0!==n.wrapT?n.wrapT:1001,a.magFilter=void 0!==n.magFilter?n.magFilter:1006,a.minFilter=void 0!==n.minFilter?n.minFilter:1006,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=1008),1===n.mipmapCount&&(a.minFilter=1006),a.needsUpdate=!0,e&&e(a,n))}),n,i),a}}),mV.prototype=Object.assign(Object.create(cV.prototype),{constructor:mV,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=oV.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),oV.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}),vV.prototype=Object.assign(Object.create(cV.prototype),{constructor:vV,load:function(t,e,n,i){var r=new DI,a=new mV(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(t[n],(function(t){r.images[n]=t,6==++o&&(r.needsUpdate=!0,e&&e(r))}),void 0,i)}for(var l=0;l<t.length;++l)s(l);return r}}),gV.prototype=Object.assign(Object.create(cV.prototype),{constructor:gV,load:function(t,e,n,i){var r=new IP,a=new mV(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(n){r.image=n;var i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?1022:1023,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}),Object.assign(yV.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,i=[],r=this.getPoint(0),a=0;for(i.push(0),n=1;n<=t;n++)a+=(e=this.getPoint(n/t)).distanceTo(r),i.push(a),r=e;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,a=i.length;n=e||t*i[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(a-1);var c=i[r];return(r+(n-c)/(i[r+1]-c))/(a-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var i=this.getPoint(e);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,i,r=new jP,a=[],o=[],s=[],l=new jP,c=new ZP;for(n=0;n<=t;n++)a[n]=this.getTangentAt(n/t),a[n].normalize();o[0]=new jP,s[0]=new jP;var u=Number.MAX_VALUE,h=Math.abs(a[0].x),d=Math.abs(a[0].y),f=Math.abs(a[0].z);for(h<=u&&(u=h,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),f<=u&&r.set(0,0,1),l.crossVectors(a[0],r).normalize(),o[0].crossVectors(a[0],l),s[0].crossVectors(a[0],o[0]),n=1;n<=t;n++)o[n]=o[n-1].clone(),s[n]=s[n-1].clone(),l.crossVectors(a[n-1],a[n]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(AP.clamp(a[n-1].dot(a[n]),-1,1)),o[n].applyMatrix4(c.makeRotationAxis(l,i))),s[n].crossVectors(a[n],o[n]);if(!0===e)for(i=Math.acos(AP.clamp(o[0].dot(o[t]),-1,1)),i/=t,a[0].dot(l.crossVectors(o[0],o[t]))>0&&(i=-i),n=1;n<=t;n++)o[n].applyMatrix4(c.makeRotationAxis(a[n],i*n)),s[n].crossVectors(a[n],o[n]);return{tangents:a,normals:o,binormals:s}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),(_V.prototype=Object.create(yV.prototype)).constructor=_V,_V.prototype.isEllipseCurve=!0,_V.prototype.getPoint=function(t,e){for(var n=e||new RP,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r===i?r=-i:r-=i);var o=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=s-this.aX,d=l-this.aY;s=h*c-d*u+this.aX,l=h*u+d*c+this.aY}return n.set(s,l)},_V.prototype.copy=function(t){return yV.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},_V.prototype.toJSON=function(){var t=yV.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},_V.prototype.fromJSON=function(t){return yV.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},(bV.prototype=Object.create(_V.prototype)).constructor=bV,bV.prototype.isArcCurve=!0;var wV=new jP,CV=new xV,kV=new xV,SV=new xV;function EV(t,e,n,i){yV.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=i||.5}function TV(t,e,n,i,r){var a=.5*(i-e),o=.5*(r-n),s=t*t;return(2*n-2*i+a+o)*(t*s)+(-3*n+3*i-2*a-o)*s+a*t+n}function MV(t,e,n,i){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function AV(t,e,n,i,r){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}function RV(t,e,n,i){yV.call(this),this.type="CubicBezierCurve",this.v0=t||new RP,this.v1=e||new RP,this.v2=n||new RP,this.v3=i||new RP}function PV(t,e,n,i){yV.call(this),this.type="CubicBezierCurve3",this.v0=t||new jP,this.v1=e||new jP,this.v2=n||new jP,this.v3=i||new jP}function OV(t,e){yV.call(this),this.type="LineCurve",this.v1=t||new RP,this.v2=e||new RP}function LV(t,e){yV.call(this),this.type="LineCurve3",this.v1=t||new jP,this.v2=e||new jP}function IV(t,e,n){yV.call(this),this.type="QuadraticBezierCurve",this.v0=t||new RP,this.v1=e||new RP,this.v2=n||new RP}function DV(t,e,n){yV.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new jP,this.v1=e||new jP,this.v2=n||new jP}function NV(t){yV.call(this),this.type="SplineCurve",this.points=t||[]}(EV.prototype=Object.create(yV.prototype)).constructor=EV,EV.prototype.isCatmullRomCurve3=!0,EV.prototype.getPoint=function(t,e){var n,i,r,a,o=e||new jP,s=this.points,l=s.length,c=(l-(this.closed?0:1))*t,u=Math.floor(c),h=c-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/l)+1)*l:0===h&&u===l-1&&(u=l-2,h=1),this.closed||u>0?n=s[(u-1)%l]:(wV.subVectors(s[0],s[1]).add(s[0]),n=wV),i=s[u%l],r=s[(u+1)%l],this.closed||u+2<l?a=s[(u+2)%l]:(wV.subVectors(s[l-1],s[l-2]).add(s[l-1]),a=wV),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(n.distanceToSquared(i),d),p=Math.pow(i.distanceToSquared(r),d),m=Math.pow(r.distanceToSquared(a),d);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),CV.initNonuniformCatmullRom(n.x,i.x,r.x,a.x,f,p,m),kV.initNonuniformCatmullRom(n.y,i.y,r.y,a.y,f,p,m),SV.initNonuniformCatmullRom(n.z,i.z,r.z,a.z,f,p,m)}else"catmullrom"===this.curveType&&(CV.initCatmullRom(n.x,i.x,r.x,a.x,this.tension),kV.initCatmullRom(n.y,i.y,r.y,a.y,this.tension),SV.initCatmullRom(n.z,i.z,r.z,a.z,this.tension));return o.set(CV.calc(h),kV.calc(h),SV.calc(h)),o},EV.prototype.copy=function(t){yV.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},EV.prototype.toJSON=function(){var t=yV.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},EV.prototype.fromJSON=function(t){yV.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new jP).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},(RV.prototype=Object.create(yV.prototype)).constructor=RV,RV.prototype.isCubicBezierCurve=!0,RV.prototype.getPoint=function(t,e){var n=e||new RP,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(AV(t,i.x,r.x,a.x,o.x),AV(t,i.y,r.y,a.y,o.y)),n},RV.prototype.copy=function(t){return yV.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},RV.prototype.toJSON=function(){var t=yV.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},RV.prototype.fromJSON=function(t){return yV.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},(PV.prototype=Object.create(yV.prototype)).constructor=PV,PV.prototype.isCubicBezierCurve3=!0,PV.prototype.getPoint=function(t,e){var n=e||new jP,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(AV(t,i.x,r.x,a.x,o.x),AV(t,i.y,r.y,a.y,o.y),AV(t,i.z,r.z,a.z,o.z)),n},PV.prototype.copy=function(t){return yV.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},PV.prototype.toJSON=function(){var t=yV.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},PV.prototype.fromJSON=function(t){return yV.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},(OV.prototype=Object.create(yV.prototype)).constructor=OV,OV.prototype.isLineCurve=!0,OV.prototype.getPoint=function(t,e){var n=e||new RP;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},OV.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},OV.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},OV.prototype.copy=function(t){return yV.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},OV.prototype.toJSON=function(){var t=yV.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},OV.prototype.fromJSON=function(t){return yV.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(LV.prototype=Object.create(yV.prototype)).constructor=LV,LV.prototype.isLineCurve3=!0,LV.prototype.getPoint=function(t,e){var n=e||new jP;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},LV.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},LV.prototype.copy=function(t){return yV.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},LV.prototype.toJSON=function(){var t=yV.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},LV.prototype.fromJSON=function(t){return yV.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(IV.prototype=Object.create(yV.prototype)).constructor=IV,IV.prototype.isQuadraticBezierCurve=!0,IV.prototype.getPoint=function(t,e){var n=e||new RP,i=this.v0,r=this.v1,a=this.v2;return n.set(MV(t,i.x,r.x,a.x),MV(t,i.y,r.y,a.y)),n},IV.prototype.copy=function(t){return yV.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},IV.prototype.toJSON=function(){var t=yV.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},IV.prototype.fromJSON=function(t){return yV.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(DV.prototype=Object.create(yV.prototype)).constructor=DV,DV.prototype.isQuadraticBezierCurve3=!0,DV.prototype.getPoint=function(t,e){var n=e||new jP,i=this.v0,r=this.v1,a=this.v2;return n.set(MV(t,i.x,r.x,a.x),MV(t,i.y,r.y,a.y),MV(t,i.z,r.z,a.z)),n},DV.prototype.copy=function(t){return yV.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},DV.prototype.toJSON=function(){var t=yV.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},DV.prototype.fromJSON=function(t){return yV.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(NV.prototype=Object.create(yV.prototype)).constructor=NV,NV.prototype.isSplineCurve=!0,NV.prototype.getPoint=function(t,e){var n=e||new RP,i=this.points,r=(i.length-1)*t,a=Math.floor(r),o=r-a,s=i[0===a?a:a-1],l=i[a],c=i[a>i.length-2?i.length-1:a+1],u=i[a>i.length-3?i.length-1:a+2];return n.set(TV(o,s.x,l.x,c.x,u.x),TV(o,s.y,l.y,c.y,u.y)),n},NV.prototype.copy=function(t){yV.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this},NV.prototype.toJSON=function(){var t=yV.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t},NV.prototype.fromJSON=function(t){yV.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new RP).fromArray(i))}return this};var FV=Object.freeze({__proto__:null,ArcCurve:bV,CatmullRomCurve3:EV,CubicBezierCurve:RV,CubicBezierCurve3:PV,EllipseCurve:_V,LineCurve:OV,LineCurve3:LV,QuadraticBezierCurve:IV,QuadraticBezierCurve3:DV,SplineCurve:NV});function zV(){yV.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function VV(t){zV.call(this),this.type="Path",this.currentPoint=new RP,t&&this.setFromPoints(t)}function BV(t){VV.call(this,t),this.uuid=AP.generateUUID(),this.type="Shape",this.holes=[]}function jV(t,e){fO.call(this),this.type="Light",this.color=new rL(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function UV(t,e,n){jV.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(fO.DefaultUp),this.updateMatrix(),this.groundColor=new rL(e)}function HV(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new RP(512,512),this.map=null,this.mapPass=null,this.matrix=new ZP,this._frustum=new vI,this._frameExtents=new RP(1,1),this._viewportCount=1,this._viewports=[new DP(0,0,1,1)]}function GV(){HV.call(this,new uI(50,1,.5,500))}function WV(t,e,n,i,r,a){jV.call(this,t,e),this.type="SpotLight",this.position.copy(fO.DefaultUp),this.updateMatrix(),this.target=new fO,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new GV}function qV(){HV.call(this,new uI(90,1,.5,500)),this._frameExtents=new RP(4,2),this._viewportCount=6,this._viewports=[new DP(2,1,1,1),new DP(0,1,1,1),new DP(3,1,1,1),new DP(1,1,1,1),new DP(3,0,1,1),new DP(1,0,1,1)],this._cubeDirections=[new jP(1,0,0),new jP(-1,0,0),new jP(0,0,1),new jP(0,0,-1),new jP(0,1,0),new jP(0,-1,0)],this._cubeUps=[new jP(0,1,0),new jP(0,1,0),new jP(0,1,0),new jP(0,1,0),new jP(0,0,1),new jP(0,0,-1)]}function YV(t,e,n,i){jV.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new qV}function XV(t,e,n,i,r,a){cI.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function ZV(){HV.call(this,new XV(-5,5,5,-5,.5,500))}function QV(t,e){jV.call(this,t,e),this.type="DirectionalLight",this.position.copy(fO.DefaultUp),this.updateMatrix(),this.target=new fO,this.shadow=new ZV}function JV(t,e){jV.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function KV(t,e,n,i){jV.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function $V(t){cV.call(this,t),this.textures={}}zV.prototype=Object.assign(Object.create(yV.prototype),{constructor:zV,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new OV(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,a=this.curves[i],o=a.getLength();return a.getPointAt(0===o?0:1-r/o)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a.getPoints(a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t),s=0;s<o.length;s++){var l=o[s];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){yV.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this},toJSON:function(){var t=yV.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++)t.curves.push(this.curves[e].toJSON());return t},fromJSON:function(t){yV.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push((new FV[i.type]).fromJSON(i))}return this}}),VV.prototype=Object.assign(Object.create(zV.prototype),{constructor:VV,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){var n=new OV(this.currentPoint.clone(),new RP(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){var r=new IV(this.currentPoint.clone(),new RP(t,e),new RP(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,r,a){var o=new RV(this.currentPoint.clone(),new RP(t,e),new RP(n,i),new RP(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this},splineThru:function(t){var e=new NV([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,r,a){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,a),this},absarc:function(t,e,n,i,r,a){return this.absellipse(t,e,n,n,i,r,a),this},ellipse:function(t,e,n,i,r,a,o,s){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,a,o,s),this},absellipse:function(t,e,n,i,r,a,o,s){var l=new _V(t,e,n,i,r,a,o,s);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);return this.currentPoint.copy(u),this},copy:function(t){return zV.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=zV.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return zV.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),BV.prototype=Object.assign(Object.create(VV.prototype),{constructor:BV,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){VV.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++)this.holes.push(t.holes[e].clone());return this},toJSON:function(){var t=VV.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++)t.holes.push(this.holes[e].toJSON());return t},fromJSON:function(t){VV.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push((new VV).fromJSON(i))}return this}}),jV.prototype=Object.assign(Object.create(fO.prototype),{constructor:jV,isLight:!0,copy:function(t){return fO.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=fO.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),UV.prototype=Object.assign(Object.create(jV.prototype),{constructor:UV,isHemisphereLight:!0,copy:function(t){return jV.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(HV.prototype,{_projScreenMatrix:new ZP,_lightPositionWorld:new jP,_lookTarget:new jP,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var e=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(t.matrixWorld),e.position.copy(a),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),GV.prototype=Object.assign(Object.create(HV.prototype),{constructor:GV,isSpotLightShadow:!0,updateMatrices:function(t){var e=this.camera,n=2*AP.RAD2DEG*t.angle,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),HV.prototype.updateMatrices.call(this,t)}}),WV.prototype=Object.assign(Object.create(jV.prototype),{constructor:WV,isSpotLight:!0,copy:function(t){return jV.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),qV.prototype=Object.assign(Object.create(HV.prototype),{constructor:qV,isPointLightShadow:!0,updateMatrices:function(t,e){void 0===e&&(e=0);var n=this.camera,i=this.matrix,r=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),n.position.copy(r),a.copy(n.position),a.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(a),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),YV.prototype=Object.assign(Object.create(jV.prototype),{constructor:YV,isPointLight:!0,copy:function(t){return jV.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),XV.prototype=Object.assign(Object.create(cI.prototype),{constructor:XV,isOrthographicCamera:!0,copy:function(t,e){return cI.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,a=n+t,o=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=l*this.view.offsetX)+l*this.view.width,s=(o-=c*this.view.offsetY)-c*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=fO.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),ZV.prototype=Object.assign(Object.create(HV.prototype),{constructor:ZV,isDirectionalLightShadow:!0,updateMatrices:function(t){HV.prototype.updateMatrices.call(this,t)}}),QV.prototype=Object.assign(Object.create(jV.prototype),{constructor:QV,isDirectionalLight:!0,copy:function(t){return jV.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),JV.prototype=Object.assign(Object.create(jV.prototype),{constructor:JV,isAmbientLight:!0}),KV.prototype=Object.assign(Object.create(jV.prototype),{constructor:KV,isRectAreaLight:!0,copy:function(t){return jV.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=jV.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),$V.prototype=Object.assign(Object.create(cV.prototype),{constructor:$V,load:function(t,e,n,i){var r=this,a=new hV(r.manager);a.setPath(r.path),a.load(t,(function(t){e(r.parse(JSON.parse(t)))}),n,i)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var i=new Gz[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new rL).setHex(t.sheen)),void 0!==t.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.vertexColors&&(i.vertexColors=t.vertexColors),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.uniforms)for(var r in t.uniforms){var a=t.uniforms[r];switch(i.uniforms[r]={},a.type){case"t":i.uniforms[r].value=n(a.value);break;case"c":i.uniforms[r].value=(new rL).setHex(a.value);break;case"v2":i.uniforms[r].value=(new RP).fromArray(a.value);break;case"v3":i.uniforms[r].value=(new jP).fromArray(a.value);break;case"v4":i.uniforms[r].value=(new DP).fromArray(a.value);break;case"m3":i.uniforms[r].value=(new PP).fromArray(a.value);case"m4":i.uniforms[r].value=(new ZP).fromArray(a.value);break;default:i.uniforms[r].value=a.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)i.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap),i.transparent=!0),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new RP).fromArray(s)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new RP).fromArray(t.clearcoatNormalScale)),i},setTextures:function(t){return this.textures=t,this}});var tB=function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)};function eB(){OL.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function nB(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),fL.call(this,t,e,n),this.meshPerAttribute=i||1}function iB(t){cV.call(this,t)}eB.prototype=Object.assign(Object.create(OL.prototype),{constructor:eB,isInstancedBufferGeometry:!0,copy:function(t){return OL.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=OL.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),nB.prototype=Object.assign(Object.create(fL.prototype),{constructor:nB,isInstancedBufferAttribute:!0,copy:function(t){return fL.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=fL.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),iB.prototype=Object.assign(Object.create(cV.prototype),{constructor:iB,load:function(t,e,n,i){var r=this,a=new hV(r.manager);a.setPath(r.path),a.load(t,(function(t){e(r.parse(JSON.parse(t)))}),n,i)},parse:function(t){var e=t.isInstancedBufferGeometry?new eB:new OL,n=t.data.index;if(void 0!==n){var i=new rB[n.type](n.array);e.setIndex(new fL(i,1))}var r=t.data.attributes;for(var a in r){i=new rB[(d=r[a]).type](d.array);var o=new(d.isInstancedBufferAttribute?nB:fL)(i,d.itemSize,d.normalized);void 0!==d.name&&(o.name=d.name),e.setAttribute(a,o)}var s=t.data.morphAttributes;if(s)for(var a in s){for(var l=s[a],c=[],u=0,h=l.length;u<h;u++){var d;o=new fL(i=new rB[(d=l[u]).type](d.array),d.itemSize,d.normalized),void 0!==d.name&&(o.name=d.name),c.push(o)}e.morphAttributes[a]=c}t.data.morphTargetsRelative&&(e.morphTargetsRelative=!0);var f=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==f){u=0;for(var p=f.length;u!==p;++u){var m=f[u];e.addGroup(m.start,m.count,m.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var g=new jP;void 0!==v.center&&g.fromArray(v.center),e.boundingSphere=new PO(g,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e}});var rB={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function aB(t){cV.call(this,t)}aB.prototype=Object.assign(Object.create(cV.prototype),{constructor:aB,load:function(t,e,n,i){var r=this,a=""===this.path?tB(t):this.path;this.resourcePath=this.resourcePath||a;var o=new hV(r.manager);o.setPath(this.path),o.load(t,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==i&&i(s),void console.error("THREE:ObjectLoader: Can't parse "+t+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?r.parse(a,e):console.error("THREE.ObjectLoader: Can't load "+t)}),n,i)},parse:function(t,e){var n=this.parseShape(t.shapes),i=this.parseGeometries(t.geometries,n),r=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,i,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,i=t.length;n<i;n++){var r=(new BV).fromJSON(t[n]);e[r.uuid]=r}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var i=new iB,r=0,a=t.length;r<a;r++){var o,s=t[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Lz[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Lz[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Lz[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Lz[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Lz[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Lz[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new Lz[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Lz[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Lz[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Lz[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new Lz[s.type]((new FV[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Lz[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new Lz[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],c=0,u=s.shapes.length;c<u;c++)l.push(e[s.shapes[c]]);o=new Lz[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],c=0,u=s.shapes.length;c<u;c++)l.push(e[s.shapes[c]]);var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new FV[h.type]).fromJSON(h)),o=new Lz[s.type](l,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(t,e){var n={},i={};if(void 0!==t){var r=new $V;r.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var u=s.materials[c];void 0===n[u.uuid]&&(n[u.uuid]=r.parse(u)),l.push(n[u.uuid])}i[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=rV.parse(i);void 0!==i.uuid&&(r.uuid=i.uuid),e.push(r)}return e},parseImages:function(t,e){var n=this,i={};function r(t){return n.manager.itemStart(t),a.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new mV(new sV(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var l=t[o],c=l.url;if(Array.isArray(c)){i[l.uuid]=[];for(var u=0,h=c.length;u<h;u++){var d=c[u],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;i[l.uuid].push(r(f))}}else f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url,i[l.uuid]=r(f)}}return i},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var r=0,a=t.length;r<a;r++){var o,s=t[r];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(o=Array.isArray(e[s.image])?new DI(e[s.image]):new IP(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,sB)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],lB),o.wrapT=n(s.wrap[1],lB)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,cB)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,cB)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),i[s.uuid]=o}return i},parseObject:function(t,e,n){var i;function r(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],i=0,r=t.length;i<r;i++){var a=t[i];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),e.push(n[a])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}switch(t.type){case"Scene":i=new pO,void 0!==t.background&&Number.isInteger(t.background)&&(i.background=new rL(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?i.fog=new xN(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(i.fog=new bN(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":i=new uI(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(i.focus=t.focus),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.filmGauge&&(i.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(i.filmOffset=t.filmOffset),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"OrthographicCamera":i=new XV(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"AmbientLight":i=new JV(t.color,t.intensity);break;case"DirectionalLight":i=new QV(t.color,t.intensity);break;case"PointLight":i=new YV(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":i=new KV(t.color,t.intensity,t.width,t.height);break;case"SpotLight":i=new WV(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new UV(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=r(t.geometry),s=a(t.material);i=o.bones&&o.bones.length>0?new GN(o,s):new QL(o,s);break;case"InstancedMesh":o=r(t.geometry),s=a(t.material);var l=t.instanceMatrix;(i=new $N(o,s,t.count)).instanceMatrix=new fL(new Float32Array(l.array),16);break;case"LOD":i=new HN;break;case"Line":i=new oF(r(t.geometry),a(t.material),t.mode);break;case"LineLoop":i=new uF(r(t.geometry),a(t.material));break;case"LineSegments":i=new cF(r(t.geometry),a(t.material));break;case"PointCloud":case"Points":i=new vF(r(t.geometry),a(t.material));break;case"Sprite":i=new VN(a(t.material));break;case"Group":i=new gN;break;default:i=new fO}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(i.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.quaternion&&i.quaternion.fromArray(t.quaternion),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.castShadow&&(i.castShadow=t.castShadow),void 0!==t.receiveShadow&&(i.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(i.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(i.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&i.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(i.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.frustumCulled&&(i.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(i.renderOrder=t.renderOrder),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.layers&&(i.layers.mask=t.layers),void 0!==t.children)for(var c=t.children,u=0;u<c.length;u++)i.add(this.parseObject(c[u],e,n));if("LOD"===t.type){void 0!==t.autoUpdate&&(i.autoUpdate=t.autoUpdate);for(var h=t.levels,d=0;d<h.length;d++){var f=h[d],p=i.getObjectByProperty("uuid",f.object);void 0!==p&&i.addLevel(p,f.distance)}}return i}});var oB,sB={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},lB={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},cB={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};function uB(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),cV.call(this,t),this.options=void 0}function hB(){this.type="ShapePath",this.color=new rL,this.subPaths=[],this.currentPath=null}function dB(t){this.type="Font",this.data=t}function fB(t,e,n,i,r){var a=r.glyphs[t]||r.glyphs["?"];if(a){var o,s,l,c,u,h,d,f,p=new hB;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*e+n,s=m[v++]*e+i,p.moveTo(o,s);break;case"l":o=m[v++]*e+n,s=m[v++]*e+i,p.lineTo(o,s);break;case"q":l=m[v++]*e+n,c=m[v++]*e+i,u=m[v++]*e+n,h=m[v++]*e+i,p.quadraticCurveTo(u,h,l,c);break;case"b":l=m[v++]*e+n,c=m[v++]*e+i,u=m[v++]*e+n,h=m[v++]*e+i,d=m[v++]*e+n,f=m[v++]*e+i,p.bezierCurveTo(u,h,d,f,l,c)}return{offsetX:a.ha*e,path:p}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".")}function pB(t){cV.call(this,t)}uB.prototype=Object.assign(Object.create(cV.prototype),{constructor:uB,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=oV.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===r.options?createImageBitmap(t):createImageBitmap(t,r.options)})).then((function(n){oV.add(t,n),e&&e(n),r.manager.itemEnd(t)})).catch((function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}),Object.assign(hB.prototype,{moveTo:function(t,e){return this.currentPath=new VV,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,r,a){return this.currentPath.bezierCurveTo(t,e,n,i,r,a),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],a=new BV;a.curves=r.curves,e.push(a)}return e}function i(t,e){for(var n=e.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=e[r],s=e[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=e[a],l=-l,s=e[r],c=-c),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var u=c*(t.x-o.x)-l*(t.y-o.y);if(0===u)return!0;if(u<0)continue;i=!i}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return i}var r=lz.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return n(a);var o,s,l,c=[];if(1===a.length)return s=a[0],(l=new BV).curves=s.curves,c.push(l),c;var u=!r(a[0].getPoints());u=t?!u:u;var h,d,f=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=a.length;g<y;g++)o=r(h=(s=a[g]).getPoints()),(o=t?!o:o)?(!u&&p[v]&&v++,p[v]={s:new BV,p:h},p[v].s.curves=s.curves,u&&v++,m[v]=[]):m[v].push({h:s,p:h[0]});if(!p[0])return n(a);if(p.length>1){for(var _=!1,b=[],x=0,w=p.length;x<w;x++)f[x]=[];for(x=0,w=p.length;x<w;x++)for(var C=m[x],k=0;k<C.length;k++){for(var S=C[k],E=!0,T=0;T<p.length;T++)i(S.p,p[T].p)&&(x!==T&&b.push({froms:x,tos:T,hole:k}),E?(E=!1,f[T].push(S)):_=!0);E&&f[x].push(S)}b.length>0&&(_||(m=f))}g=0;for(var M=p.length;g<M;g++){c.push(l=p[g].s);for(var A=0,R=(d=m[g]).length;A<R;A++)l.holes.push(d[A].h)}return c}}),Object.assign(dB.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var n=[],i=function(t,e,n){for(var i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],s=0,l=0,c=0;c<i.length;c++){var u=i[c];if("\n"===u)s=0,l-=a;else{var h=fB(u,r,s,l,n);s+=h.offsetX,o.push(h.path)}}return o}(t,e,this.data),r=0,a=i.length;r<a;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),pB.prototype=Object.assign(Object.create(cV.prototype),{constructor:pB,load:function(t,e,n,i){var r=this,a=new hV(this.manager);a.setPath(this.path),a.load(t,(function(t){var n;try{n=JSON.parse(t)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var i=r.parse(n);e&&e(i)}),n,i)},parse:function(t){return new dB(t)}});var mB=function(){return void 0===oB&&(oB=new(window.AudioContext||window.webkitAudioContext)),oB};function vB(t){cV.call(this,t)}function gB(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new jP)}function yB(t,e){jV.call(this,void 0,e),this.sh=void 0!==t?t:new gB}function _B(t,e,n){yB.call(this,void 0,n);var i=(new rL).set(t),r=(new rL).set(e),a=new jP(i.r,i.g,i.b),o=new jP(r.r,r.g,r.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}function bB(t,e){yB.call(this,void 0,e);var n=(new rL).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}vB.prototype=Object.assign(Object.create(cV.prototype),{constructor:vB,load:function(t,e,n,i){var r=new hV(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(t,(function(t){var n=t.slice(0);mB().decodeAudioData(n,(function(t){e(t)}))}),n,i)}}),Object.assign(gB.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScale(a[1],.488603*i),e.addScale(a[2],.488603*r),e.addScale(a[3],.488603*n),e.addScale(a[4],n*i*1.092548),e.addScale(a[5],i*r*1.092548),e.addScale(a[6],.315392*(3*r*r-1)),e.addScale(a[7],n*r*1.092548),e.addScale(a[8],.546274*(n*n-i*i)),e},getIrradianceAt:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScale(a[1],1.023328*i),e.addScale(a[2],1.023328*r),e.addScale(a[3],1.023328*n),e.addScale(a[4],.858086*n*i),e.addScale(a[5],.858086*i*r),e.addScale(a[6],.743125*r*r-.247708),e.addScale(a[7],.858086*n*r),e.addScale(a[8],.429043*(n*n-i*i)),e},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t,e){void 0===e&&(e=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}}),Object.assign(gB,{getBasisAt:function(t,e){var n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}),yB.prototype=Object.assign(Object.create(jV.prototype),{constructor:yB,isLightProbe:!0,copy:function(t){return jV.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){return jV.prototype.toJSON.call(this,t)}}),_B.prototype=Object.assign(Object.create(yB.prototype),{constructor:_B,isHemisphereLightProbe:!0,copy:function(t){return yB.prototype.copy.call(this,t),this},toJSON:function(t){return yB.prototype.toJSON.call(this,t)}}),bB.prototype=Object.assign(Object.create(yB.prototype),{constructor:bB,isAmbientLightProbe:!0,copy:function(t){return yB.prototype.copy.call(this,t),this},toJSON:function(t){return yB.prototype.toJSON.call(this,t)}});var xB=new ZP,wB=new ZP;function CB(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign((function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new uI,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new uI,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}).prototype,{update:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var n,i,r=t.projectionMatrix.clone(),a=e.eyeSep/2,o=a*e.near/e.focus,s=e.near*Math.tan(AP.DEG2RAD*e.fov*.5)/e.zoom;wB.elements[12]=-a,xB.elements[12]=a,r.elements[0]=2*e.near/((i=s*e.aspect+o)-(n=-s*e.aspect+o)),r.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(r),r.elements[0]=2*e.near/((i=s*e.aspect-o)-(n=-s*e.aspect-o)),r.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(wB),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(xB)}}),Object.assign(CB.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}});var kB=new jP,SB=new zP,EB=new jP,TB=new jP;function MB(){fO.call(this),this.type="AudioListener",this.context=mB(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new CB}function AB(t){fO.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}MB.prototype=Object.assign(Object.create(fO.prototype),{constructor:MB,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(t){fO.prototype.updateMatrixWorld.call(this,t);var e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(kB,SB,EB),TB.set(0,0,-1).applyQuaternion(SB),e.positionX){var i=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(kB.x,i),e.positionY.linearRampToValueAtTime(kB.y,i),e.positionZ.linearRampToValueAtTime(kB.z,i),e.forwardX.linearRampToValueAtTime(TB.x,i),e.forwardY.linearRampToValueAtTime(TB.y,i),e.forwardZ.linearRampToValueAtTime(TB.z,i),e.upX.linearRampToValueAtTime(n.x,i),e.upY.linearRampToValueAtTime(n.y,i),e.upZ.linearRampToValueAtTime(n.z,i)}else e.setPosition(kB.x,kB.y,kB.z),e.setOrientation(TB.x,TB.y,TB.z,n.x,n.y,n.z)}}),AB.prototype=Object.assign(Object.create(fO.prototype),{constructor:AB,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setMediaStreamSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(t){if(void 0===t&&(t=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(t){return this.loopStart=t,this},setLoopEnd:function(t){return this.loopEnd=t,this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}});var RB=new jP,PB=new zP,OB=new jP,LB=new jP;function IB(t){AB.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function DB(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function NB(t,e,n){this.binding=t,this.valueSize=n;var i,r=Float64Array;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}IB.prototype=Object.assign(Object.create(AB.prototype),{constructor:IB,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(t){if(fO.prototype.updateMatrixWorld.call(this,t),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(RB,PB,OB),LB.set(0,0,1).applyQuaternion(PB);var e=this.panner;if(e.positionX){var n=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(RB.x,n),e.positionY.linearRampToValueAtTime(RB.y,n),e.positionZ.linearRampToValueAtTime(RB.z,n),e.orientationX.linearRampToValueAtTime(LB.x,n),e.orientationY.linearRampToValueAtTime(LB.y,n),e.orientationZ.linearRampToValueAtTime(LB.z,n)}else e.setPosition(RB.x,RB.y,RB.z),e.setOrientation(LB.x,LB.y,LB.z)}}}),Object.assign(DB.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(NB.prototype,{accumulate:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==i;++o)n[r+o]=n[o];a=e}else this._mixBufferRegion(n,r,0,e/(a+=e),i);this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,a=this.binding;this.cumulativeWeight=0,r<1&&this._mixBufferRegion(n,i,3*e,1-r,e);for(var o=e,s=e+e;o!==s;++o)if(n[o]!==n[o+e]){a.setValue(n,i);break}},saveOriginalState:function(){var t=this.buffer,e=this.valueSize,n=3*e;this.binding.getValue(t,n);for(var i=e,r=n;i!==r;++i)t[i]=t[n+i%e];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(t,e,n,i,r){if(i>=.5)for(var a=0;a!==r;++a)t[e+a]=t[n+a]},_slerp:function(t,e,n,i){zP.slerpFlat(t,e,t,e,t,n,i)},_lerp:function(t,e,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*i}}});var FB=new RegExp("[\\[\\]\\.:\\/]","g"),zB="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",VB=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),BB=/(WCOD+)?/.source.replace("WCOD",zB),jB=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),UB=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),HB=new RegExp("^"+VB+BB+jB+UB+"$"),GB=["material","materials","bones"];function WB(t,e,n){var i=n||qB.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function qB(t,e,n){this.path=e,this.parsedPath=n||qB.parseTrackName(e),this.node=qB.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function YB(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var i=e.tracks,r=i.length,a=new Array(r),o={endingStart:2400,endingEnd:2400},s=0;s!==r;++s){var l=i[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function XB(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ZB(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function QB(t,e,n){wN.call(this,t,e),this.meshPerAttribute=n||1}function JB(t,e){return t.distance-e.distance}function KB(t,e,n,i){if(!1!==t.visible&&(t.raycast(e,n),!0===i))for(var r=t.children,a=0,o=r.length;a<o;a++)KB(r[a],e,n,!0)}Object.assign(WB.prototype,{getValue:function(t,e){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(qB,{Composite:WB,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new qB.Composite(t,e,n):new qB(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(FB,"")},parseTrackName:function(t){var e=HB.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==GB.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var i=function t(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===e||r.uuid===e)return r;var a=t(r.children);if(a)return a}return null}(t.children);if(i)return i}return null}}),Object.assign(qB.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=qB.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[i];if(void 0!==s){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===r){r=o;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else console.error("THREE.PropertyBinding: Trying to update property for track: "+e.nodeName+"."+i+" but it wasn't found.",t)}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(qB.prototype,{_getValue_unbound:qB.prototype.getValue,_setValue_unbound:qB.prototype.setValue}),Object.assign((function(){this.uuid=AP.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}).prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,l=void 0,c=0,u=arguments.length;c!==u;++c){var h=arguments[c],d=h.uuid,f=i[d];if(void 0===f){f=e++,i[d]=f,t.push(h);for(var p=0,m=s;p!==m;++p)o[p].push(new qB(h,r[p],a[p]))}else if(f<n){l=t[f];var v=--n,g=t[v];for(i[g.uuid]=f,t[f]=g,i[d]=v,t[v]=h,p=0,m=s;p!==m;++p){var y=o[p],_=y[v],b=y[f];y[f]=_,void 0===b&&(b=new qB(h,r[p],a[p])),y[v]=b}}else t[f]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=n[l];if(void 0!==c&&c>=e){var u=e++,h=t[u];n[h.uuid]=c,t[c]=h,n[l]=u,t[u]=s;for(var d=0,f=r;d!==f;++d){var p=i[d],m=p[u],v=p[c];p[c]=m,p[u]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],c=l.uuid,u=i[c];if(void 0!==u)if(delete i[c],u<n){var h=--n,d=t[h],f=t[y=--e];i[d.uuid]=u,t[u]=d,i[f.uuid]=h,t[h]=f,t.pop();for(var p=0,m=a;p!==m;++p){var v=(_=r[p])[h],g=_[y];_[u]=v,_[h]=g,_.pop()}}else{var y;for(i[(f=t[y=--e]).uuid]=u,t[u]=f,t.pop(),p=0,m=a;p!==m;++p){var _;(_=r[p])[u]=_[y],_.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,l=this.nCachedObjects_,c=new Array(s.length);n[t]=i=r.length,a.push(t),o.push(e),r.push(c);for(var u=l,h=s.length;u!==h;++u)c[u]=new qB(s[u],t,e);return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(YB.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,a=i/r;t.warp(1,r/i,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var i=this._mixer,r=i.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=r,s[1]=r+n,l[0]=t/o,l[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var a=(t-r)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,n=this._clip.duration,i=this.loop,r=this._loopCount,a=2202===i;if(0===t)return-1===r?e:a&&1==(1&r)?n-e:e;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=n||e<0){var o=Math.floor(e/n);e-=n*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1==(1&r))return n-e}return e},_setEndings:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,i.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(t,e,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=n,this}}),XB.prototype=Object.assign(Object.create(SP.prototype),{constructor:XB,_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(l[s]=c={});for(var u=0;u!==r;++u){var h=i[u],d=h.name,f=c[d];if(void 0!==f)a[u]=f;else{if(void 0!==(f=a[u])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}++(f=new NB(qB.create(n,d,e&&e._propertyBindings[u].binding.parsedPath),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),a[u]=f}o[u].resultBuffer=f.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=i.length,i.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,r=i[e],a=this._bindings;void 0===r&&(i[e]=r={}),r[n]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete o[r],0===Object.keys(o).length&&delete a[i]},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new Xz(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?rV.findByName(n,t):t,a=null!==r?r.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[i];if(void 0!==l)return l;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var c=new YB(this,r,e);return this._bindAction(c,s),this._addInactiveAction(c,a,i),c},existingAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?rV.findByName(n,t):t,a=this._actionsByClip[r?r.uuid:t];return void 0!==a&&a.actionByRoot[i]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(t){for(var e=this._actions,n=this._nActiveActions,i=this.time+=t*=this.timeScale,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o)e[o]._update(i,t,r,a);var s=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)s[o].apply(a);return this},setTime:function(t){this.time=0;for(var e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,u=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,e[c]=u,e.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),ZB.prototype.clone=function(){return new ZB(void 0===this.value.clone?this.value:this.value.clone())},QB.prototype=Object.assign(Object.create(wN.prototype),{constructor:QB,isInstancedInterleavedBuffer:!0,copy:function(t){return wN.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign((function(t,e,n,i){this.ray=new VO(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}).prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){var i=n||[];return KB(t,this,i,e),i.sort(JB),i},intersectObjects:function(t,e,n){var i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,a=t.length;r<a;r++)KB(t[r],this,i,e);return i.sort(JB),i}}),Object.assign((function(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}).prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(AP.clamp(e/this.radius,-1,1))),this}}),Object.assign((function(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}).prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}});var $B=new RP;function tj(t,e){this.min=void 0!==t?t:new RP(1/0,1/0),this.max=void 0!==e?e:new RP(-1/0,-1/0)}Object.assign(tj.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(t,e){var n=$B.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new RP),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new RP),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new RP),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new RP),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return $B.copy(t).clamp(this.min,this.max).sub(t).length()},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var ej=new jP,nj=new jP;function ij(t,e){this.start=void 0!==t?t:new jP,this.end=void 0!==e?e:new jP}function rj(t){fO.call(this),this.material=t,this.render=function(){}}Object.assign(ij.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new jP),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new jP),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new jP),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(t,e){ej.subVectors(t,this.start),nj.subVectors(this.end,this.start);var n=nj.dot(nj),i=nj.dot(ej)/n;return e&&(i=AP.clamp(i,0,1)),i},closestPointToPoint:function(t,e,n){var i=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new jP),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),(rj.prototype=Object.create(fO.prototype)).constructor=rj,rj.prototype.isImmediateRenderObject=!0;var aj=new jP;function oj(t,e){fO.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new OL,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,a=1;r<32;r++,a++){var o=r/32*Math.PI*2,s=a/32*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.setAttribute("position",new xL(i,3));var l=new tF({fog:!1});this.cone=new cF(n,l),this.add(this.cone),this.update()}(oj.prototype=Object.create(fO.prototype)).constructor=oj,oj.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},oj.prototype.update=function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),aj.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(aj),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var sj=new jP,lj=new ZP,cj=new ZP;function uj(t){for(var e=function t(e){var n=[];e&&e.isBone&&n.push(e);for(var i=0;i<e.children.length;i++)n.push.apply(n,t(e.children[i]));return n}(t),n=new OL,i=[],r=[],a=new rL(0,0,1),o=new rL(0,1,0),s=0;s<e.length;s++){var l=e[s];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.setAttribute("position",new xL(i,3)),n.setAttribute("color",new xL(r,3));var c=new tF({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});cF.call(this,n,c),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function hj(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var i=new yz(e,4,2),r=new hL({wireframe:!0,fog:!1});QL.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}(uj.prototype=Object.create(cF.prototype)).constructor=uj,uj.prototype.updateMatrixWorld=function(t){var e=this.bones,n=this.geometry,i=n.getAttribute("position");cj.getInverse(this.root.matrixWorld);for(var r=0,a=0;r<e.length;r++){var o=e[r];o.parent&&o.parent.isBone&&(lj.multiplyMatrices(cj,o.matrixWorld),sj.setFromMatrixPosition(lj),i.setXYZ(a,sj.x,sj.y,sj.z),lj.multiplyMatrices(cj,o.parent.matrixWorld),sj.setFromMatrixPosition(lj),i.setXYZ(a+1,sj.x,sj.y,sj.z),a+=2)}n.getAttribute("position").needsUpdate=!0,fO.prototype.updateMatrixWorld.call(this,t)},(hj.prototype=Object.create(QL.prototype)).constructor=hj,hj.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},hj.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var dj=new jP,fj=new rL,pj=new rL;function mj(t,e,n){fO.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new RF(e);i.rotateY(.5*Math.PI),this.material=new hL({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var r=i.getAttribute("position"),a=new Float32Array(3*r.count);i.setAttribute("color",new fL(a,3)),this.add(new QL(i,this.material)),this.update()}function vj(t,e,n,i){t=t||10,e=e||10,n=new rL(void 0!==n?n:4473924),i=new rL(void 0!==i?i:8947848);for(var r=e/2,a=t/e,o=t/2,s=[],l=[],c=0,u=0,h=-o;c<=e;c++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);var d=c===r?n:i;d.toArray(l,u),d.toArray(l,u+=3),d.toArray(l,u+=3),d.toArray(l,u+=3),u+=3}var f=new OL;f.setAttribute("position",new xL(s,3)),f.setAttribute("color",new xL(l,3));var p=new tF({vertexColors:2});cF.call(this,f,p)}function gj(t,e,n,i,r,a){t=t||10,e=e||16,n=n||8,i=i||64,r=new rL(void 0!==r?r:4473924),a=new rL(void 0!==a?a:8947848);var o,s,l,c,u,h,d,f=[],p=[];for(c=0;c<=e;c++)l=c/e*(2*Math.PI),o=Math.sin(l)*t,s=Math.cos(l)*t,f.push(0,0,0),f.push(o,0,s),p.push((d=1&c?r:a).r,d.g,d.b),p.push(d.r,d.g,d.b);for(c=0;c<=n;c++)for(d=1&c?r:a,h=t-t/n*c,u=0;u<i;u++)l=u/i*(2*Math.PI),o=Math.sin(l)*h,s=Math.cos(l)*h,f.push(o,0,s),p.push(d.r,d.g,d.b),l=(u+1)/i*(2*Math.PI),o=Math.sin(l)*h,s=Math.cos(l)*h,f.push(o,0,s),p.push(d.r,d.g,d.b);var m=new OL;m.setAttribute("position",new xL(f,3)),m.setAttribute("color",new xL(p,3));var v=new tF({vertexColors:2});cF.call(this,m,v)}(mj.prototype=Object.create(fO.prototype)).constructor=mj,mj.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},mj.prototype.update=function(){var t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=t.geometry.getAttribute("color");fj.copy(this.light.color),pj.copy(this.light.groundColor);for(var n=0,i=e.count;n<i;n++){var r=n<i/2?fj:pj;e.setXYZ(n,r.r,r.g,r.b)}e.needsUpdate=!0}t.lookAt(dj.setFromMatrixPosition(this.light.matrixWorld).negate())},vj.prototype=Object.assign(Object.create(cF.prototype),{constructor:vj,copy:function(t){return cF.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),(gj.prototype=Object.create(cF.prototype)).constructor=gj;var yj=new jP,_j=new jP,bj=new jP;function xj(t,e,n){fO.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var i=new OL;i.setAttribute("position",new xL([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new tF({fog:!1});this.lightPlane=new oF(i,r),this.add(this.lightPlane),(i=new OL).setAttribute("position",new xL([0,0,0,0,0,1],3)),this.targetLine=new oF(i,r),this.add(this.targetLine),this.update()}(xj.prototype=Object.create(fO.prototype)).constructor=xj,xj.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},xj.prototype.update=function(){yj.setFromMatrixPosition(this.light.matrixWorld),_j.setFromMatrixPosition(this.light.target.matrixWorld),bj.subVectors(_j,yj),this.lightPlane.lookAt(_j),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_j),this.targetLine.scale.z=bj.length()};var wj=new jP,Cj=new cI;function kj(t){var e=new OL,n=new tF({color:16777215,vertexColors:1}),i=[],r=[],a={},o=new rL(16755200),s=new rL(16711680),l=new rL(43775),c=new rL(16777215),u=new rL(3355443);function h(t,e,n){d(t,n),d(e,n)}function d(t,e){i.push(0,0,0),r.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(i.length/3-1)}h("n1","n2",o),h("n2","n4",o),h("n4","n3",o),h("n3","n1",o),h("f1","f2",o),h("f2","f4",o),h("f4","f3",o),h("f3","f1",o),h("n1","f1",o),h("n2","f2",o),h("n3","f3",o),h("n4","f4",o),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",l),h("u2","u3",l),h("u3","u1",l),h("c","t",c),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),e.setAttribute("position",new xL(i,3)),e.setAttribute("color",new xL(r,3)),cF.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Sj(t,e,n,i,r,a,o){wj.set(r,a,o).unproject(i);var s=e[t];if(void 0!==s)for(var l=n.getAttribute("position"),c=0,u=s.length;c<u;c++)l.setXYZ(s[c],wj.x,wj.y,wj.z)}(kj.prototype=Object.create(cF.prototype)).constructor=kj,kj.prototype.update=function(){var t=this.geometry,e=this.pointMap;Cj.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Sj("c",e,t,Cj,0,0,-1),Sj("t",e,t,Cj,0,0,1),Sj("n1",e,t,Cj,-1,-1,-1),Sj("n2",e,t,Cj,1,-1,-1),Sj("n3",e,t,Cj,-1,1,-1),Sj("n4",e,t,Cj,1,1,-1),Sj("f1",e,t,Cj,-1,-1,1),Sj("f2",e,t,Cj,1,-1,1),Sj("f3",e,t,Cj,-1,1,1),Sj("f4",e,t,Cj,1,1,1),Sj("u1",e,t,Cj,.7,1.1,-1),Sj("u2",e,t,Cj,-.7,1.1,-1),Sj("u3",e,t,Cj,0,2,-1),Sj("cf1",e,t,Cj,-1,0,1),Sj("cf2",e,t,Cj,1,0,1),Sj("cf3",e,t,Cj,0,-1,1),Sj("cf4",e,t,Cj,0,1,1),Sj("cn1",e,t,Cj,-1,0,-1),Sj("cn2",e,t,Cj,1,0,-1),Sj("cn3",e,t,Cj,0,-1,-1),Sj("cn4",e,t,Cj,0,1,-1),t.getAttribute("position").needsUpdate=!0};var Ej=new MO;function Tj(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new OL;r.setIndex(new fL(n,1)),r.setAttribute("position",new fL(i,3)),cF.call(this,r,new tF({color:e})),this.matrixAutoUpdate=!1,this.update()}function Mj(t,e){this.type="Box3Helper",this.box=t,e=e||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new OL;i.setIndex(new fL(n,1)),i.setAttribute("position",new xL([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),cF.call(this,i,new tF({color:e})),this.geometry.computeBoundingSphere()}function Aj(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var i=void 0!==n?n:16776960,r=new OL;r.setAttribute("position",new xL([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),oF.call(this,r,new tF({color:i}));var a=new OL;a.setAttribute("position",new xL([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new QL(a,new hL({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}(Tj.prototype=Object.create(cF.prototype)).constructor=Tj,Tj.prototype.update=function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Ej.setFromObject(this.object),!Ej.isEmpty()){var e=Ej.min,n=Ej.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Tj.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Tj.prototype.copy=function(t){return cF.prototype.copy.call(this,t),this.object=t.object,this},Tj.prototype.clone=function(){return(new this.constructor).copy(this)},(Mj.prototype=Object.create(cF.prototype)).constructor=Mj,Mj.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),fO.prototype.updateMatrixWorld.call(this,t))},(Aj.prototype=Object.create(oF.prototype)).constructor=Aj,Aj.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:0,this.lookAt(this.plane.normal),fO.prototype.updateMatrixWorld.call(this,t)};var Rj,Pj,Oj=new jP;function Lj(t,e,n,i,r,a){fO.call(this),void 0===t&&(t=new jP(0,0,1)),void 0===e&&(e=new jP(0,0,0)),void 0===n&&(n=1),void 0===i&&(i=16776960),void 0===r&&(r=.2*n),void 0===a&&(a=.2*r),void 0===Rj&&((Rj=new OL).setAttribute("position",new xL([0,0,0,0,1,0],3)),(Pj=new Mz(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new oF(Rj,new tF({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new QL(Pj,new hL({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,r,a)}function Ij(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new OL;n.setAttribute("position",new xL(e,3)),n.setAttribute("color",new xL([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new tF({vertexColors:2});cF.call(this,n,i)}(Lj.prototype=Object.create(fO.prototype)).constructor=Lj,Lj.prototype.setDirection=function(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Oj.set(t.z,0,-t.x).normalize();var e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Oj,e)}},Lj.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Lj.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},Lj.prototype.copy=function(t){return fO.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},Lj.prototype.clone=function(){return(new this.constructor).copy(this)},(Ij.prototype=Object.create(cF.prototype)).constructor=Ij;var Dj,Nj=Math.pow(2,8),Fj=[.125,.215,.35,.446,.526,.582],zj=5+Fj.length,Vj={3e3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},Bj=new XV,jj=((Dj=new Dz({defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:new Float32Array(20)},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:new jP(0,1,0)},inputEncoding:{value:Vj[3e3]},outputEncoding:{value:Vj[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})).type="SphericalGaussianBlur",Dj),Uj=null,Hj=null,Gj=function(){for(var t=[],e=[],n=[],i=8,r=0;r<zj;r++){var a=Math.pow(2,i);e.push(a);var o=1/a;r>4?o=Fj[r-8+4-1]:0==r&&(o=0),n.push(o);for(var s=1/(a-1),l=-s/2,c=1+s/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],h=new Float32Array(108),d=new Float32Array(72),f=new Float32Array(36),p=0;p<6;p++){var m=p%3*2/3-1,v=p>2?0:-1;h.set([m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0],18*p),d.set(u,12*p),f.set([p,p,p,p,p,p],6*p)}var g=new OL;g.setAttribute("position",new fL(h,3)),g.setAttribute("uv",new fL(d,2)),g.setAttribute("faceIndex",new fL(f,1)),t.push(g),i>4&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}(),Wj=Gj._lodPlanes,qj=Gj._sizeLods,Yj=Gj._sigmas,Xj=null,Zj=null,Qj=null,Jj=(1+Math.sqrt(5))/2,Kj=1/Jj,$j=[new jP(1,1,1),new jP(-1,1,1),new jP(1,1,-1),new jP(-1,1,-1),new jP(0,Jj,Kj),new jP(0,Jj,-Kj),new jP(Kj,0,Jj),new jP(-Kj,0,Jj),new jP(Jj,Kj,0),new jP(-Jj,Kj,0)];function tU(t){Zj=t,iU(jj)}function eU(t){var e={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:t?t.type:1009,format:t?t.format:1023,encoding:t?t.encoding:3002,depthBuffer:!1,stencilBuffer:!1},n=rU(e);return n.depthBuffer=!t,Xj=rU(e),n}function nU(t){Xj.dispose(),Zj.setRenderTarget(Qj),t.scissorTest=!1,t.setSize(t.width,t.height)}function iU(t){var e=new pO;e.add(new QL(Wj[0],t)),Zj.compile(e,Bj)}function rU(t){var e=new NP(3*Nj,3*Nj,t);return e.texture.mapping=306,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function aU(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function oU(t){var e=Zj.autoClear;Zj.autoClear=!1;for(var n=1;n<zj;n++)sU(t,n-1,n,Math.sqrt(Yj[n]*Yj[n]-Yj[n-1]*Yj[n-1]),$j[(n-1)%$j.length]);Zj.autoClear=e}function sU(t,e,n,i,r){lU(t,Xj,e,n,i,"latitudinal",r),lU(Xj,t,n,n,i,"longitudinal",r)}function lU(t,e,n,i,r,a,o){"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var s=new pO;s.add(new QL(Wj[i],jj));var l=jj.uniforms,c=qj[n]-1,u=isFinite(r)?Math.PI/(2*c):2*Math.PI/39,h=r/u,d=isFinite(r)?1+Math.floor(3*h):20;d>20&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(d," samples when the maximum is set to 20"));for(var f=[],p=0,m=0;m<20;++m){var v=m/h,g=Math.exp(-v*v/2);f.push(g),0==m?p+=g:m<d&&(p+=2*g)}for(m=0;m<f.length;m++)f[m]=f[m]/p;l.envMap.value=t.texture,l.samples.value=d,l.weights.value=f,l.latitudinal.value="latitudinal"===a,o&&(l.poleAxis.value=o),l.dTheta.value=u,l.mipInt.value=8-n,l.inputEncoding.value=Vj[t.texture.encoding],l.outputEncoding.value=Vj[t.texture.encoding];var y=qj[i];aU(e,v=3*Math.max(0,Nj-2*y),(0===i?0:2*Nj)+2*y*(i>4?i-8+4:0),3*y,2*y),Zj.setRenderTarget(e),Zj.render(s,Bj)}function cU(){var t=new Dz({uniforms:{envMap:{value:null},texelSize:{value:new RP(1,1)},inputEncoding:{value:Vj[3e3]},outputEncoding:{value:Vj[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return t.type="EquirectangularToCubeUV",t}function uU(){var t=new Dz({uniforms:{envMap:{value:null},inputEncoding:{value:Vj[3e3]},outputEncoding:{value:Vj[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return t.type="CubemapToCubeUV",t}function hU(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),EV.call(this,t),this.type="catmullrom"}tU.prototype={constructor:tU,fromScene:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Qj=Zj.getRenderTarget();var r=eU();return function(t,e,n,i){var r=new uI(90,1,e,n),a=[1,1,1,1,-1,1],o=[1,1,-1,-1,-1,1],s=Zj.outputEncoding,l=Zj.toneMapping,c=Zj.toneMappingExposure,u=Zj.getClearColor(),h=Zj.getClearAlpha();Zj.toneMapping=1,Zj.toneMappingExposure=1,Zj.outputEncoding=3e3,t.scale.z*=-1;var d=t.background;if(d&&d.isColor){d.convertSRGBToLinear();var f=Math.max(d.r,d.g,d.b),p=Math.min(Math.max(Math.ceil(Math.log2(f)),-128),127);d=d.multiplyScalar(Math.pow(2,-p)),Zj.setClearColor(d,(p+128)/255),t.background=null}for(var m=0;m<6;m++){var v=m%3;0==v?(r.up.set(0,a[m],0),r.lookAt(o[m],0,0)):1==v?(r.up.set(0,0,a[m]),r.lookAt(0,o[m],0)):(r.up.set(0,a[m],0),r.lookAt(0,0,o[m])),aU(i,v*Nj,m>2?Nj:0,Nj,Nj),Zj.setRenderTarget(i),Zj.render(t,r)}Zj.toneMapping=l,Zj.toneMappingExposure=c,Zj.outputEncoding=s,Zj.setClearColor(u,h),t.scale.z*=-1}(t,n,i,r),e>0&&sU(r,0,0,e),oU(r),nU(r),r},fromEquirectangular:function(t){return t.magFilter=1003,t.minFilter=1003,t.generateMipmaps=!1,this.fromCubemap(t)},fromCubemap:function(t){Qj=Zj.getRenderTarget();var e=eU(t);return function(t,e){var n=new pO;t.isCubeTexture?null==Hj&&(Hj=uU()):null==Uj&&(Uj=cU());var i=t.isCubeTexture?Hj:Uj;n.add(new QL(Wj[0],i));var r=i.uniforms;r.envMap.value=t,t.isCubeTexture||r.texelSize.value.set(1/t.image.width,1/t.image.height),r.inputEncoding.value=Vj[t.encoding],r.outputEncoding.value=Vj[t.encoding],aU(e,0,0,3*Nj,2*Nj),Zj.setRenderTarget(e),Zj.render(n,Bj)}(t,e),oU(e),nU(e),e},compileCubemapShader:function(){null==Hj&&iU(Hj=uU())},compileEquirectangularShader:function(){null==Uj&&iU(Uj=cU())},dispose:function(){jj.dispose(),null!=Hj&&Hj.dispose(),null!=Uj&&Uj.dispose();for(var t=0;t<Wj.length;t++)Wj[t].dispose()}},yV.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(yV.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(zV.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new iI,n=0,i=t.length;n<i;n++){var r=t[n];e.vertices.push(new jP(r.x,r.y,r.z||0))}return e}}),Object.assign(VV.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Object.create(EV.prototype),Object.create(EV.prototype),hU.prototype=Object.create(EV.prototype),Object.assign(hU.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),vj.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},uj.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(cV.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),tB(t)}}),cV.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(aB.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(tj.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(MO.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),vI.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},ij.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(AP,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),AP.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),AP.ceilPowerOfTwo(t)}}),Object.assign(PP.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(ZP.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new jP).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,a)}}),HO.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},zP.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(VO.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(tL.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(tL,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),tL.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),tL.getNormal(t,e,n,i)}}),Object.assign(BV.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new hz(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Cz(this,t)}}),Object.assign(RP.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(jP.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(DP.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(iI.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(fO.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(fO.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(QL.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(QL.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(HN.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(YN.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),GN.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(yV.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),uI.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(jV.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(fL.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(fL.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(OL.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new fL(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(OL.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(wN.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(wN.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(dz.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(ZB.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(uL.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new rL}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(zz.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(lI.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(_N.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(_N.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?3001:3e3}}}),Object.defineProperties(uN.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(NP.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(AB.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new vB).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),DB.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},hI.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},OP.crossOrigin=void 0,OP.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new gV;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},OP.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new vV;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},OP.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},OP.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"113"}}));var dU=[{title:"Home",icon:"home",url:"/"},{title:"Feeling Rich",icon:"golf_course",url:"/rich"},{title:"Obsolete",icon:"trending_down",url:"/obsolete"},{title:"Potato",icon:"assessment",url:"/potato"},{title:"Chestnut",icon:"directions_bus",url:"/chestnut",featured:!0},{title:"Icicle",icon:"merge_type",url:"/icicle"},{title:"Salt",icon:"eco",url:"/salt",darkTheme:!0}],fU=["mermaid"];function pU(t,e){if(1&t&&(go(0,"h2"),Uo(1),yo()),2&t){var n=Mo();or(1),Go(" ",n.title," ")}}function mU(t,e){if(1&t){var n=bo();go(0,"button",4),Co("click",(function(t){return Ve(n),Mo().switchZoom()})),go(1,"mat-icon"),Uo(2),yo(),yo()}if(2&t){var i=Mo();or(2),Ho(i.diagramClass?"zoom_out":"zoom_in")}}var vU,gU=((vU=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"switchZoom",value:function(){this.diagramClass=this.diagramClass?null:"diagram"}},{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||vU)},vU.\u0275cmp=ye({type:vU,selectors:[["app-mermaid"]],viewQuery:function(t,e){var n;1&t&&yl(fU,!0),2&t&&vl(n=wl())&&(e.mermaidDiv=n.first)},inputs:{title:"title",content:"content",zoomControl:"zoomControl"},decls:5,vars:3,consts:[[4,"ngIf"],[3,"ngClass"],["mermaid",""],["mat-mini-fab","","id","zoom-button",3,"click",4,"ngIf"],["mat-mini-fab","","id","zoom-button",3,"click"]],template:function(t,e){1&t&&(go(0,"div"),co(1,pU,2,1,"h2",0),_o(2,"div",1,2),co(4,mU,3,1,"button",3),yo()),2&t&&(or(1),mo("ngIf",e.title),or(1),mo("ngClass",e.diagramClass),or(2),mo("ngIf",e.zoomControl))},directives:[lu,ru,Yw,cS],styles:[".diagram[_ngcontent-%COMP%]{width:1000px;height:auto}#zoom-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}h2[_ngcontent-%COMP%]{text-align:center}"]}),vU);function yU(t,e){1&t&&(go(0,"mat-icon"),Uo(1,"home"),yo())}function _U(t,e){if(1&t&&(go(0,"a",65),go(1,"mat-icon"),Uo(2),yo(),Uo(3),yo()),2&t){var n=e.$implicit;mo("href",n.url,Ii),or(2),Ho(n.icon),or(1),Go(" \xa0 ",n.title," ")}}function bU(t,e){if(1&t&&(go(0,"a",65),go(1,"mat-icon"),Uo(2),yo(),Uo(3),yo()),2&t){var n=e.$implicit;mo("href",n.url,Ii),or(2),Ho(n.icon),or(1),Go(" \xa0 ",n.title," ")}}function xU(t,e){1&t&&(go(0,"mat-icon"),Uo(1,"local_library"),yo())}function wU(t,e){1&t&&(go(0,"mat-icon"),Uo(1,"map"),yo())}function CU(t,e){1&t&&_o(0,"app-mermaid",66),2&t&&mo("content",Mo(2).mermaidContent)}function kU(t,e){if(1&t){var n=bo();go(0,"div",37),go(1,"main",38),go(2,"div",39),go(3,"mat-tab-group",40),go(4,"mat-tab"),co(5,yU,2,0,"ng-template",41),go(6,"mat-card"),go(7,"mat-card-header"),go(8,"mat-card-title"),Uo(9),yo(),go(10,"mat-card-subtitle"),Uo(11,"Full stack developer based in Toronto, Canada."),yo(),yo(),go(12,"mat-card-content"),go(13,"div",42),_o(14,"img",43),yo(),go(15,"div",44),go(16,"div",45),go(17,"mat-nav-list"),go(18,"h3",46),Uo(19,"More about me"),yo(),co(20,_U,4,3,"a",47),yo(),yo(),go(21,"div",45),go(22,"mat-nav-list"),go(23,"h3",46),Uo(24,"My fun projects"),yo(),co(25,bU,4,3,"a",47),yo(),yo(),yo(),go(26,"div",48),go(27,"p"),Uo(28," Click to play this site in WebVR: "),yo(),go(29,"button",49),Co("click",(function(t){return Ve(n),Mo().dismiss2D()})),go(30,"mat-icon"),Uo(31,"play_arrow"),yo(),yo(),yo(),yo(),yo(),yo(),go(32,"mat-tab"),co(33,xU,2,0,"ng-template",41),go(34,"mat-card"),go(35,"mat-card-header"),go(36,"mat-card-title"),Uo(37,"Credits and Attributions"),yo(),yo(),go(38,"mat-card-content"),go(39,"mat-accordion"),go(40,"mat-expansion-panel",50),go(41,"mat-expansion-panel-header"),go(42,"mat-panel-title"),Uo(43," Shared "),yo(),go(44,"mat-panel-description"),_o(45,"span",51),go(46,"mat-icon"),Uo(47,"wb_incandescent"),yo(),yo(),yo(),go(48,"mat-chip-list"),go(49,"mat-chip",52),Co("click",(function(t){return Ve(n),Mo().visit("https://angular.io/")})),Uo(50,"Angular"),yo(),go(51,"mat-chip",53),Co("click",(function(t){return Ve(n),Mo().visit("https://developers.google.com/web/progressive-web-apps/")})),Uo(52,"PWA"),yo(),go(53,"mat-chip",54),Co("click",(function(t){return Ve(n),Mo().visit("https://material.angular.io/")})),Uo(54,"Angular Material "),yo(),yo(),yo(),go(55,"mat-expansion-panel",55),go(56,"mat-expansion-panel-header"),go(57,"mat-panel-title"),Uo(58," Home "),yo(),go(59,"mat-panel-description"),_o(60,"span",51),go(61,"mat-icon"),Uo(62,"home"),yo(),yo(),yo(),go(63,"mat-chip-list"),go(64,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://aframe.io/")})),Uo(65,"Aframe"),yo(),go(66,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://mermaidjs.github.io/")})),Uo(67,"Mermaid"),yo(),yo(),_o(68,"br"),go(69,"p"),go(70,"a",57),Uo(71,"Basketball"),yo(),Uo(72," by Poly by Google / "),go(73,"a",58),Uo(74,"CC-BY 3.0"),yo(),yo(),go(75,"p"),go(76,"a",59),Uo(77,"Dark golden oak parquet seamless hardwood floor"),yo(),Uo(78," by SF Textures / "),go(79,"a",60),Uo(80,"CC BY-SA 4.0"),yo(),yo(),go(81,"p"),go(82,"a",61),Uo(83,"Black and white noisy seamless background"),yo(),Uo(84," by SF Textures / "),go(85,"a",60),Uo(86,"CC BY-SA 4.0"),yo(),yo(),go(87,"p"),go(88,"a",62),Uo(89,"Beige sandy old paper effect abstract background texture"),yo(),Uo(90," by SF Textures / "),go(91,"a",60),Uo(92,"CC BY-SA 4.0"),yo(),yo(),yo(),go(93,"mat-expansion-panel",55),go(94,"mat-expansion-panel-header"),go(95,"mat-panel-title"),Uo(96),yo(),go(97,"mat-panel-description"),_o(98,"span",51),go(99,"mat-icon"),Uo(100),yo(),yo(),yo(),go(101,"mat-chip-list"),go(102,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://firebase.google.com/docs/cloud-messaging/")})),Uo(103,"Firebase Cloud Messaging "),yo(),go(104,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://cloud.google.com/pubsub/")})),Uo(105,"Cloud Pub/Sub"),yo(),go(106,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://cloud.google.com/scheduler/")})),Uo(107,"Cloud Scheduler"),yo(),yo(),yo(),go(108,"mat-expansion-panel",55),go(109,"mat-expansion-panel-header"),go(110,"mat-panel-title"),Uo(111),yo(),go(112,"mat-panel-description"),_o(113,"span",51),go(114,"mat-icon"),Uo(115),yo(),yo(),yo(),go(116,"mat-chip-list"),go(117,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://www.tensorflow.org/js")})),Uo(118,"TensorFlow.js"),yo(),go(119,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://valor-software.com/ng2-charts/")})),Uo(120,"ng2-charts"),yo(),yo(),yo(),go(121,"mat-expansion-panel",55),go(122,"mat-expansion-panel-header"),go(123,"mat-panel-title"),Uo(124),yo(),go(125,"mat-panel-description"),_o(126,"span",51),go(127,"mat-icon"),Uo(128),yo(),yo(),yo(),go(129,"mat-chip-list"),go(130,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://www.alphavantage.co/")})),Uo(131,"Alpha Vantage"),yo(),go(132,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://valor-software.com/ng2-charts/")})),Uo(133,"ng2-charts"),yo(),yo(),yo(),go(134,"mat-expansion-panel",55),go(135,"mat-expansion-panel-header"),go(136,"mat-panel-title"),Uo(137),yo(),go(138,"mat-panel-description"),_o(139,"span",51),go(140,"mat-icon"),Uo(141),yo(),yo(),yo(),go(142,"mat-chip-list"),go(143,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://firebase.google.com/docs/cloud-messaging/")})),Uo(144,"Firebase Cloud Messaging "),yo(),go(145,"mat-chip",56),Co("click",(function(t){return Ve(n),Mo().visit("https://platform.ifttt.com/")})),Uo(146,"IFTTT"),yo(),yo(),yo(),yo(),yo(),yo(),yo(),go(147,"mat-tab",63),co(148,wU,2,0,"ng-template",41),co(149,CU,1,1,"app-mermaid",64),yo(),yo(),yo(),yo(),yo()}if(2&t){var i=Mo();or(3),mo("selectedIndex",i.tabIndex),or(6),Ho(i.title),or(11),mo("ngForOf",i.links),or(5),mo("ngForOf",i.projectLinks),or(71),Go(" ",i.projectLinks[0].title," "),or(4),Ho(i.projectLinks[0].icon),or(11),Go(" ",i.projectLinks[1].title," "),or(4),Ho(i.projectLinks[1].icon),or(9),Go(" ",i.projectLinks[2].title," "),or(4),Ho(i.projectLinks[2].icon),or(9),Go(" ",i.projectLinks[3].title," "),or(4),Ho(i.projectLinks[3].icon),or(8),mo("ngIf",i.mermaidContent)}}var SU,EU,TU=((EU=function(){function t(e){_classCallCheck(this,t),this.formBuilder=e,this.title="Ling Kai Zhu",this.isProdEnv=!0,this.hide2D=!1,this.hide3D=!1,this.useMobileCamera=!1,this.tabIndex=0,this.isMobile=window.matchMedia("only screen and (max-width: 760px)").matches,this.links=[{title:"My Linkedin",icon:"person",url:"https://ca.linkedin.com/in/lingkaizhu"},{title:"My Blog",icon:"chat",url:"https://pigjr.blogspot.com/"},{title:"ADnL Comics",icon:"create",url:"https://goo.gl/photos/MriCgvz92bqioXgo9"}],this.projectLinks=dU.filter((function(t){return"home"!==t.icon})),this.mermaidContent="graph LR\n  subgraph DevOps\n  gh(fa:fa-code-branch GitHub)--\x3eCircleCI((CircleCI))\n  CircleCI((CircleCI))--\x3e|Test, Build & Deploy|gp(GitHub Pages)\n  end\n  subgraph Shared\n  a(Angular)---pwa(Angular PWA)\n  a(Angular)---am(Angular Material)\n  cm[Custom Modules]---\n  overlay(Loading Overlay Module)\n  cm---header(Header Module)\n  const[Constants]---\n  index(App Index)\n  const---css(Styles)\n  end\n  subgraph Obsolete\n  appWeibull(fa:fa-level-down-alt Obsolete)---tf(TensorFlow.js)\n  appWeibull---nc(ng2-charts)\n  end\n  subgraph Potato\n  appPotato(fa:fa-chart-bar Potato)---af(Alpha Vantage)\n  appPotato---nc2(ng2-charts)\n  appPotato---fb2[Firebase]\n  fb2---fs2(Firestore)\n  fb2---fa(Firebase Authentication)\n  end\n  subgraph Feeling_Rich\n  appRich(fa:fa-golf-ball Feeling Rich)---g\n  g[Google Cloud Platform]---cps(Cloud Pub/Sub)\n  g---cs(Cloud Scheduler)\n  appRich---fb[Firebase]\n  fb---fs(Firestore)\n  fb---fcm(Firebase Cloud Messaging)\n  fb---cff(Cloud Functions for Firebase)\n  end\n  subgraph Home\n  appHome(fa:fa-home Home)---aframe(Aframe)\n  aframe---poly(Google Poly)\n  appHome---mermaid(Mermaid JS)\n  end\n  appHome---s{fa:fa-share-alt Shared}\n  appRich---s\n  appWeibull---s\n  appPotato---s\n  s---a\n  s---cm\n  s---const\n  s-.-gh\n  classDef app font-size: 16px,stroke:#333,stroke-width:2px;\n  class appHome,appRich,appWeibull,appPotato app\n      ",this.toggleFormGroup=this.formBuilder.group({toggleCtrl:[!1]}),AFRAME.registerComponent("gpoly",{schema:{polyid:{default:""},API_KEY:{default:""}},init:function(){var t=this.data.API_KEY,e=this.el;t?fetch("https://poly.googleapis.com/v1/assets/"+this.data.polyid+"/?key="+t).then((function(t){return t.json()})).then((function(t){var n=t.formats.find((function(t){return"GLTF2"===t.formatType}));if(n)e.setAttribute("gltf-model",n.root.url);else{var i=t.formats.find((function(t){return"OBJ"===t.formatType}));i&&(e.setAttribute("obj-model","obj",i.root.url),e.setAttribute("obj-model","mtl",i.resources[0].url))}})).catch((function(t){throw t})):console.log("Please fill in your API KEY, cf https://developers.google.com/poly/develop/web ")}}),AFRAME.registerSystem("utility",{init:function(){this.selection=null,this.objectPool={}},saveObject:function(t){this.selection=t},loadObject:function(){return this.selection},clearSavedObject:function(){this.selection=null},hideObject:function(t){document.querySelector(t).classList.remove("clickable"),document.querySelector(t).setAttribute("visible",!1),document.querySelector("#ring").components.raycaster.refreshObjects()},showObject:function(t){document.querySelector(t).classList.toggle("clickable"),document.querySelector(t).setAttribute("visible",!0),document.querySelector("#ring").components.raycaster.refreshObjects()}}),AFRAME.registerComponent("rain-of-entities",{schema:{tagName:{default:"a-entity"},components:{default:["mixin|ball"]},descriptions:{default:[{label:"My Linkedin",url:"https://ca.linkedin.com/in/lingkaizhu",facing:"front"},{label:"My Blog",url:"https://pigjr.blogspot.com/",facing:"front"},{label:"ADnL comics",url:"https://goo.gl/photos/MriCgvz92bqioXgo9",facing:"front"},{label:"(Free ball)",url:"",facing:"front"}].concat(_toConsumableArray(this.projectLinks.map((function(t){return{label:t.title,url:t.url,facing:"back"}}))),[{label:"(Free ball)",url:"",facing:"back"}])},interval:{default:300,min:0},lifetime:{default:1e4,min:0}},init:function(){this.balls=[],this.labels=[],this.spawn()},reset:function(){var t=this;this.balls.forEach((function(e){e.body.position.copy(t.getPosition(e.components.grabbable.data.index)),e.body.velocity.set(0,0,0),e.body.angularVelocity.setZero()}))},spawn:function(){for(var t=this,e=this.data,n=function(n){var i=document.createElement(e.tagName);i.setAttribute("position",t.getPosition(n,"ball")),i.setAttribute("grabbable","index: "+n+"; url: "+e.descriptions[n].url+"; label: "+e.descriptions[n].label),e.components.forEach((function(t){var e=t.split("|");i.setAttribute(e[0],e[1]||"")})),t.balls.push(i);var r=document.createElement("a-text");r.setAttribute("position",t.getPosition(n,"text")),r.setAttribute("rotation","0 ".concat("front"===e.descriptions[n].facing?0:180," 0")),r.setAttribute("wrap-count",80),r.setAttribute("text","side: double; color: white; align: center; width: 50; value: "+e.descriptions[n].label),t.labels.push(r),setTimeout((function(){t.el.appendChild(i),t.el.appendChild(r),setInterval((function(){i.body.position.y>0||(i.body.position.copy(t.getPosition(n)),i.body.velocity.set(0,0,0),i.body.angularVelocity.setZero())}),e.lifetime)}),n*e.interval)},i=0;i<e.descriptions.length;i++)n(i)},getPosition:function(t,e){var n=this.data.descriptions[t],i=this.data.descriptions.filter((function(t){return t.facing===n.facing}));return{x:8*((1-i.length)/2+i.indexOf(n)),y:"text"===e?5:1.5,z:"front"===n.facing?-15:15}}}),AFRAME.registerComponent("grabbable",{schema:{force:{default:100},index:{default:0},label:{default:""},url:{default:""}},init:function(){this.pStart=new CANNON.Vec3,this.sourceEl=this.el.sceneEl.querySelector("#camera"),this.el.addEventListener("click",this.grab.bind(this))},grab:function(){var t=document.querySelector("a-scene").systems.utility;if(!t.loadObject()){t.saveObject(this.el);var e=this.el;this.sourceEl=this.el.sceneEl.querySelector("#camera");var n=e.body.position.z<0;e.body.position.copy(this.sourceEl.getAttribute("position")),e.body.position.z+=n?-5:5,e.body.velocity.setZero(),e.body.angularVelocity.setZero()}}}),AFRAME.registerComponent("aimable",{schema:{shootForceScale:{default:105},jumpForceScale:{default:20},accuracy:{default:1.5}},init:function(){this.el.addEventListener("click",this.aimThisAndThrow.bind(this))},aimThisAndThrow:function(){var t=this,e="basketGroup2"===this.el.parentEl.id?"2":"",n=document.querySelector("a-scene").systems.utility,i=this.data.accuracy,r=n.loadObject();if(r){r.body.velocity.setZero(),r.body.angularVelocity.setZero();var a=this.el.sceneEl.querySelector("#basket"+e);this.sourceEl=this.el.sceneEl.querySelector("#camera"),r.body.position.copy(this.sourceEl.getAttribute("position")),r.body.position.z+="2"===e?5:-5,r.body.velocity.setZero(),r.body.angularVelocity.setZero(),this.sourceEl.emit("jump");var o=new CANNON.Vec3(0,1,0);o.normalize(),o.scale(this.data.jumpForceScale,o),r.body.applyImpulse(o,r.body.position),setTimeout((function(){var e=a.body.position.vsub(r.body.position).vadd(new CANNON.Vec3(i-Math.random()*i*2,20+i-Math.random()*i*2,i-Math.random()*i*2));e.normalize(),e.scale(t.data.shootForceScale,e),r.body.applyImpulse(e,r.body.position),r.body.angularVelocity.set(10*i-Math.random()*i*20,10*i-Math.random()*i*20,10*i-Math.random()*i*20)}),300);var s=new CANNON.Vec3,l=new CANNON.Vec3,c="2"===e?27:-23,u="2"===e?23:-27,h=setInterval((function(){if(s.copy(l),l.copy(r.body.position),!s.isZero()&&!l.isZero()&&s.y>=15&&l.y<15){var t=(s.x+l.x)/2,i=(s.z+l.z)/2;t>=-2&&t<=2&&i>=u&&i<c?(console.log("in"),document.querySelectorAll(".point-light").forEach((function(t){t.setAttribute("color","gold")})),setTimeout((function(){n.showObject("#banner-success"),n.hideObject("#ball-container"),document.querySelector("#banner-success").setAttribute("navigate","label: "+r.components.grabbable.data.label+"; url: "+r.components.grabbable.data.url+"; group: "+e)}),1500),clearInterval(h)):(console.log("out"),clearInterval(h))}}),50);setTimeout((function(){clearInterval(h)}),5e3),n.clearSavedObject()}else console.log("Please pick a ball first. ")}}),AFRAME.registerComponent("navigate",{schema:{label:{default:""},url:{default:""},group:{default:""}},init:function(){this.util=document.querySelector("a-scene").systems.utility},update:function(){var t=this.data.group;for(document.querySelector("#banner-success").setAttribute("position","0 8 ".concat("2"===t?8:-8,"}"));this.el.firstChild;)this.el.removeChild(this.el.firstChild);var e=document.createElement("a-text");e.setAttribute("color","white"),e.setAttribute("align","center"),e.setAttribute("width",50),e.setAttribute("position","0 0 ".concat("2"===t?8:-8)),e.setAttribute("rotation","0 ".concat("2"===t?180:0," 0")),e.setAttribute("value",this.data.url?"Congratulations! Visit ".concat(this.data.label," ?"):"Congratulations!"),this.el.appendChild(e),this.data.url&&this.insertLeftButton(),this.insertRightButton()},insertLeftButton:function(){var t=document.createElement("a-icosahedron");t.setAttribute("color","#FFF26B"),t.setAttribute("radius","1.5"),t.setAttribute("position","-3 -4 ".concat("2"===this.data.group?8:-8));var e=document.createElement("a-text");e.setAttribute("color","white"),e.setAttribute("align","2"===this.data.group?"left":"right"),e.setAttribute("width",30),e.setAttribute("value","Take me there"),e.setAttribute("position","-5 -4 ".concat("2"===this.data.group?8:-8)),e.setAttribute("rotation","0 ".concat("2"===this.data.group?180:0," 0")),t.addEventListener("click",this.clickLeftButton.bind(this)),e.addEventListener("click",this.clickLeftButton.bind(this)),this.el.appendChild(t),this.el.appendChild(e)},clickLeftButton:function(){window.location.href=this.data.url},insertRightButton:function(){var t=document.createElement("a-icosahedron");t.setAttribute("color","#FF226B"),t.setAttribute("radius","1.5"),t.setAttribute("position","3 -4 ".concat("2"===this.data.group?8:-8));var e=document.createElement("a-text");e.setAttribute("color","white"),e.setAttribute("align","2"===this.data.group?"right":"left"),e.setAttribute("width",30),e.setAttribute("value","Return to shoot more"),e.setAttribute("position","5 -4 ".concat("2"===this.data.group?8:-8)),e.setAttribute("rotation","0 ".concat("2"===this.data.group?180:0," 0")),t.addEventListener("click",this.clickRightButton.bind(this)),e.addEventListener("click",this.clickRightButton.bind(this)),this.el.appendChild(t),this.el.appendChild(e)},clickRightButton:function(){document.querySelectorAll(".point-light").forEach((function(t){t.setAttribute("color","#ccc")})),this.util.hideObject("#banner-success"),this.util.showObject("#ball-container"),document.querySelector("[rain-of-entities]").components["rain-of-entities"].reset()}}),AFRAME.registerComponent("force-pushable",{schema:{force:{default:100}},init:function(){this.pStart=new jP,this.sourceEl=this.el.sceneEl.querySelector("[camera]"),this.el.addEventListener("click",this.forcePush.bind(this))},forcePush:function(){var t,e=this.el,n=this.pStart.copy(this.sourceEl.getAttribute("position"));(t=e.body.position.vsub(n)).normalize(),t.scale(this.data.force,t),e.body.applyImpulse(t,e.body.position)}}),AFRAME.registerComponent("force-float",{schema:{force:{default:1},keyCode:{default:32},selector:{default:"[force-float-target]"}},init:function(){document.addEventListener("keyup",this.onKeyup.bind(this))},onKeyup:function(t){if(t.keyCode===this.data.keyCode){var e=this.data;this.el.sceneEl.querySelectorAll(e.selector).forEach((function(t){var n=new CANNON.Vec3(0,10*e.force*Math.random()+20,0);t.body.applyLocalImpulse(n,new CANNON.Vec3(0,0,0))}))}}})}return _createClass(t,[{key:"dismiss2D",value:function(){this.hide2D=!0}},{key:"toggleAR",value:function(){var t=this,e=document.querySelector("video");this.useMobileCamera?(this.useMobileCamera=!1,e.srcObject.getTracks().forEach((function(t){return t.stop()}))):navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"}}}).then((function(n){e.srcObject=n,t.useMobileCamera=!0})).catch((function(e){t.useMobileCamera=!1,t.toggleFormGroup.get("toggleCtrl").setValue(!1),console.error(e)}))}},{key:"visit",value:function(t){window.open(t)}}]),t}()).\u0275fac=function(t){return new(t||EU)(ho(rg))},EU.\u0275cmp=ye({type:EU,selectors:[["app-root"]],decls:41,vars:5,consts:[["class","mdl-layout mat-typography","fxLayout","column","fxLayoutAlign","space-around center",4,"ngIf"],["id","ar-toggle","fxHide","","fxShow.xs","",3,"formGroup"],["formControlName","toggleCtrl",3,"click"],[3,"hidden"],["loading-screen","dotsColor: red; backgroundColor: black","force-float","selector: [grabbable]","fog","type: exponential; color: aqua","physics","gravity: -15; friction: 0.8; restitution: 0.2","cursor","rayOrigin: mouse;"],["position","-11.033 19.453 -6.567","rotation","-10 -45 0"],["id","camera-2","active","false"],["position","0 2 0"],["mainview",""],["id","camera","animation__jump","property: position.y; dir: alternate; startEvents: jump; easing: easeInCubic; dur: 600; from: 1.8; to: 3"],["id","ring","animation__click","property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1","animation__fusing","property: scale; startEvents: fusing; easing: easeInCubic; dur: 800; from: 1 1 1; to: 0.1 0.1 0.1","animation__mouseleave","property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1","cursor","fuse: true;","material","color: cyan; shader: flat","position","0 0 -3","geometry","primitive: ring; radiusInner: 0.2; radiusOuter: 0.3;"],["type","ambient","color","#bbb"],["light","type:point; castShadow:true; intensity: 1.0","position","3 20 -10"],["id","cube","geometry","primitive: box"],["id","cube-hovered","material","color: magenta"],["id","cube-selected","material","color: cyan"],["id","box","geometry","primitive: box","material","color: grey; side: double","physics-body","mass: 5; boundingBox: 2 2 2"],["id","ball","scale","6 6 6","gpoly","polyid:ex4ec4lo9-z; API_KEY:AIzaSyCNak613Na9rf9xiZhRFiPJqNViJyoxZxg;","shadow","cast: true","dynamic-body","shape: sphere;","physics","restitution: 0.02",1,"ball"],["id","groundTexture","alt","groundTexture","src","assets/img/floor.jpg"],["id","skyTexture","alt","skyTexture","src","assets/img/sky.jpg"],["id","boardTexture","alt","boardTexture","src","assets/img/board.jpg"],["id","ground","src","#groundTexture","repeat","20 20","radius","50","height","1","static-body","","segments-height","1","segments-radial","18","shadow","receive: true; cast: false"],["id","background","src","#skyTexture","repeat","50 50","theta-length","90","radius","50","segments-width","10"],["id","basketGroup","position","0 15 -25",1,"clickable"],["aimable","","mixin","box","static-body","","position","0 4 -3","geometry","depth: 0.5; height: 10; width: 15","src","#boardTexture","repeat","4 3","shadow","receive: true; cast: false"],["aimable","","radius-inner","2.0","radius-outer","2.2","rotation","90 0 0","id","basket","visible","false","static-body",""],["aimable","","segments-radial","18","segments-tubular","18","radius","2.1","radius-tubular","0.05","rotation","90 0 0","material","color: #A50021;","shadow","cast: true"],["material","color: brown;  metalness:0.5","radius","0.25","height","14","static-body","","shadow","receive: true; cast: true","position","0 -8 -3","segments-height","1","segments-radial","10"],["material","color: black;","geometry","depth: 1.0; height: 0.1; width: 0.2","position","0 0 -2.5","shadow","receive: true; cast: true","static-body",""],["id","basketGroup2","position","0 15 25",1,"clickable"],["aimable","","mixin","box","static-body","","position","0 4 3","geometry","depth: 0.5; height: 10; width: 15","src","#boardTexture","repeat","4 3","shadow","receive: true; cast: false"],["aimable","","radius-inner","2.0","radius-outer","2.2","rotation","90 0 0","id","basket2","visible","false","static-body",""],["material","color: brown;  metalness:0.5","radius","0.25","height","14","static-body","","shadow","receive: true; cast: true","position","0 -8 3","segments-height","1","segments-radial","10"],["material","color: black;","geometry","depth: 1.0; height: 0.1; width: 0.2","position","0 0 2.5","shadow","receive: true; cast: true","static-body",""],["position","0 8 -8","id","banner-success","visible","false"],["rain-of-entities","","id","ball-container",1,"clickable"],["autoplay","",3,"hidden"],["fxLayout","column","fxLayoutAlign","space-around center",1,"mdl-layout","mat-typography"],["fxLayout","column","fxLayoutAlign","center"],["fxLayout","row","fxLayoutAlign","space-around center",1,"card-wrapper"],["mat-stretch-tabs","","dynamic-height","","headerPosition","below","animationDuration","0",1,"card",3,"selectedIndex"],["mat-tab-label",""],["fxLayoutAlign","space-around center"],["src","assets/img/L.png","width","120px","alt","L"],["fxLayout","row","fxLayout.xs","column","fxlayoutgap","10px grid",1,"nav-lists-wrapper"],["fxFlex",""],["mat-subheader",""],["mat-list-item","",3,"href",4,"ngFor","ngForOf"],[1,"button-wrapper"],["mat-fab","","aria-label","Play",3,"click"],["expanded","","hideToggle",""],[2,"flex","1 1 auto"],["color","primary","selected","",3,"click"],["color","accent","selected","",3,"click"],["color","warn","selected","",3,"click"],["hideToggle",""],[3,"click"],["href","https://poly.google.com/view/ex4ec4lo9-z"],["href","https://creativecommons.org/licenses/by/3.0/legalcode"],["href","https://sftextures.com/2017/06/20/dark-golden-oak-parquet-seamless-hardwood-floor/"],["href","https://creativecommons.org/licenses/by-sa/4.0/"],["href","https://sftextures.com/2015/07/30/black-and-white-noisy-seamless-background/"],["href","https://sftextures.com/2015/01/11/beige-sandy-old-paper-effect-abstract-background-texture/"],["fxShow.xs",""],["title","Tech Stacks","zoomControl","true",3,"content",4,"ngIf"],["mat-list-item","",3,"href"],["title","Tech Stacks","zoomControl","true",3,"content"]],template:function(t,e){1&t&&(co(0,kU,150,13,"div",0),go(1,"form",1),go(2,"mat-slide-toggle",2),Co("click",(function(t){return e.toggleAR()})),Uo(3," AR "),yo(),yo(),go(4,"div",3),go(5,"a-scene",4),go(6,"a-entity",5),_o(7,"a-camera",6),yo(),go(8,"a-entity",7,8),go(10,"a-camera",9),_o(11,"a-entity",10),yo(),yo(),_o(12,"a-light",11),_o(13,"a-entity",12),go(14,"a-assets"),_o(15,"a-mixin",13),_o(16,"a-mixin",14),_o(17,"a-mixin",15),_o(18,"a-mixin",16),_o(19,"a-mixin",17),_o(20,"img",18),_o(21,"img",19),_o(22,"img",20),yo(),_o(23,"a-cylinder",21),_o(24,"a-sky",22),go(25,"a-entity",23),_o(26,"a-entity",24),_o(27,"a-ring",25),_o(28,"a-torus",26),_o(29,"a-cylinder",27),_o(30,"a-box",28),yo(),go(31,"a-entity",29),_o(32,"a-entity",30),_o(33,"a-ring",31),_o(34,"a-torus",26),_o(35,"a-cylinder",32),_o(36,"a-box",33),yo(),_o(37,"a-entity",34),_o(38,"a-entity",35),yo(),yo(),_o(39,"video",36),_o(40,"router-outlet")),2&t&&(mo("ngIf",!e.hide2D),or(1),mo("formGroup",e.toggleFormGroup),or(3),mo("hidden",e.hide3D),or(20),lo("visible",!e.useMobileCamera),or(15),mo("hidden",!e.useMobileCamera))},directives:[lu,Bv,Im,hp,Hv,yE,Lm,ng,NR,Mp,tm,LT,CT,_T,iC,rC,eC,nC,tC,Gp,gS,wS,ou,Yw,cS,Sk,xk,wk,kk,Ck,yC,dC,CS,gU],styles:[".mdl-layout[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);top:0;position:relative;z-index:10001;width:100%;height:100%}.mdl-layout[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{width:80%;height:100%}.mdl-layout[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .mdl-card__title[_ngcontent-%COMP%]{justify-content:center}.mdl-layout[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{text-align:center}.mdl-layout[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .supporting-text-wrapper[_ngcontent-%COMP%]{margin:auto}.nav-lists-wrapper[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px}.mat-nav-list[_ngcontent-%COMP%]{min-width:200px}.mat-card-actions[_ngcontent-%COMP%]{text-align:center}.card-wrapper[_ngcontent-%COMP%]{height:inherit}.card-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-height:80%;overflow:auto;background-color:#fff}.mat-card-actions[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin:5px}video[_ngcontent-%COMP%]{width:100%;top:0;left:0;z-index:-1}#ar-toggle[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{position:absolute}#ar-toggle[_ngcontent-%COMP%]{bottom:20px;left:20px;color:#fff;z-index:10}"]}),EU),MU=((SU=function t(){_classCallCheck(this,t)}).\u0275mod=we({type:SU,bootstrap:[TU]}),SU.\u0275inj=vt({factory:function(t){return new(t||SU)},providers:[],imports:[[vh,kP,wP,ad.register("ngsw-worker.js",{enabled:!0})]]}),SU);(function(){if(li)throw new Error("Cannot enable prod mode after platform setup.");si=!1})(),ph().bootstrapModule(MU).then((function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/home/ngsw-worker.js")})).catch((function(t){return console.log(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);